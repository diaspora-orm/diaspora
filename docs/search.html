<!doctype html>
<html lang="en-US">
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="chrome=1">

		<!-- Begin Jekyll SEO tag v2.3.0 -->
<title>Search results | Diaspora</title>
<meta property="og:title" content="Search results" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Multi-source ORM for node.js &amp; the browser" />
<meta property="og:description" content="Multi-source ORM for node.js &amp; the browser" />
<meta property="og:site_name" content="Diaspora" />
<script type="application/ld+json">
{"name":null,"description":"Multi-source ORM for node.js &amp; the browser","author":null,"@type":"WebPage","url":"/search.html","publisher":null,"image":null,"headline":"Search results","dateModified":null,"datePublished":null,"sameAs":null,"mainEntityOfPage":null,"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

		<link href='https://fonts.googleapis.com/css?family=Arvo:400,700,400italic' rel='stylesheet' type='text/css'>
		<link rel="stylesheet" href="assets/css/style.css?v=">
		<script src="assets/js/docstrap.lib.js" defer></script>
		<script src="assets/js/scale.fix.js" defer></script>
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
		<!--[if lt IE 9]>
<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
<![endif]-->
	</head>
	<body data-page="/search.html" class="default">
		<nav id="header" class="navbar navbar-default navbar-fixed-top">
	<div class="navbar-header">
		<a class="navbar-brand" href="index.html">Diaspora</a>
		<button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#mainNav">
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
			<span class="icon-bar"></span>
		</button>
	</div>
	<div class="navbar-collapse collapse" id="mainNav" aria-expanded="false">
		<ul class="nav navbar-nav">
			<li class="dropdown">
				<a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Guide<b class="caret"></b></a>
				<ul class="dropdown-menu">
					<li><a href="index.html">Home</a></li>
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					<li><a href="/create-an-adapter.html">Create a custom adapter</a></li>
					
					
					
					
					
					
					
					
					
					
					
					<li><a href="/getting-started.html">Getting started</a></li>
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					<li><a href="/query-language.html">Query Language</a></li>
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					
					<li><a href="/try-diaspora.html">Try Diaspora online</a></li>
					
					
					
					
				</ul>
			</li>
			<li id="QCR" class="dropdown">
				<a href="docco/index.html" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Quick Code Review<b class="caret"></b></a>
				
				<ul class="dropdown-menu">
					

<li ><a href="docco/Gruntfile.js.html" >Gruntfile.js</a>
	
</li>


<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">test<b class="caret"></b></a>
	
	<!--{&quot;TestApps&quot;=&gt;{&quot;page&quot;=&gt;{&quot;title&quot;=&gt;&quot;testApps&quot;}, &quot;children&quot;=&gt;{&quot;Adapters&quot;=&gt;{&quot;page&quot;=&gt;{&quot;title&quot;=&gt;&quot;adapters&quot;}, &quot;children&quot;=&gt;{&quot;App1-matchmail-simple.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;app1-matchmail-simple.js.html&quot;&gt;}, &quot;Index.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;index.js.html&quot;&gt;}}}}}, &quot;Config-sample.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;config-sample.js.html&quot;&gt;}, &quot;Config.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;config.js.html&quot;&gt;}, &quot;DefineGlobals.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;defineGlobals.js.html&quot;&gt;}, &quot;Adapters&quot;=&gt;{&quot;page&quot;=&gt;{&quot;title&quot;=&gt;&quot;adapters&quot;}, &quot;children&quot;=&gt;{&quot;InMemory.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;inMemory.js.html&quot;&gt;}, &quot;Index.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;index.js.html&quot;&gt;}, &quot;LocalStorage.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;localStorage.js.html&quot;&gt;}, &quot;Utils.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;utils.js.html&quot;&gt;}}}, &quot;Index.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;index.js.html&quot;&gt;}, &quot;Models&quot;=&gt;{&quot;page&quot;=&gt;{&quot;title&quot;=&gt;&quot;models&quot;}, &quot;children&quot;=&gt;{&quot;Index.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;index.js.html&quot;&gt;}, &quot;Simple-remapping.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;simple-remapping.js.html&quot;&gt;}, &quot;Simple.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;simple.js.html&quot;&gt;}}}, &quot;BrowserTests&quot;=&gt;{&quot;page&quot;=&gt;{&quot;title&quot;=&gt;&quot;browserTests&quot;}, &quot;children&quot;=&gt;{&quot;SeleniumTest.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;seleniumTest.js.html&quot;&gt;}, &quot;Setup.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;setup.js.html&quot;&gt;}, &quot;Test.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;test.js.html&quot;&gt;}}}}-->
	<ul class="dropdown-submenu">
		

<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">testApps<b class="caret"></b></a>
	
	<!--{&quot;Adapters&quot;=&gt;{&quot;page&quot;=&gt;{&quot;title&quot;=&gt;&quot;adapters&quot;}, &quot;children&quot;=&gt;{&quot;App1-matchmail-simple.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;app1-matchmail-simple.js.html&quot;&gt;}, &quot;Index.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;index.js.html&quot;&gt;}}}}-->
	<ul class="dropdown-submenu">
		

<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">adapters<b class="caret"></b></a>
	
	<!--{&quot;App1-matchmail-simple.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;app1-matchmail-simple.js.html&quot;&gt;}, &quot;Index.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;index.js.html&quot;&gt;}}-->
	<ul class="dropdown-submenu">
		

<li ><a href="docco/test/testApps/adapters/app1-matchmail-simple.js.html" >app1-matchmail-simple.js</a>
	
</li>


<li ><a href="docco/test/testApps/adapters/index.js.html" >index.js</a>
	
</li>

	</ul>
	
</li>

	</ul>
	
</li>


<li ><a href="docco/test/config-sample.js.html" >config-sample.js</a>
	
</li>


<li ><a href="docco/test/config.js.html" >config.js</a>
	
</li>


<li ><a href="docco/test/defineGlobals.js.html" >defineGlobals.js</a>
	
</li>


<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">adapters<b class="caret"></b></a>
	
	<!--{&quot;InMemory.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;inMemory.js.html&quot;&gt;}, &quot;Index.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;index.js.html&quot;&gt;}, &quot;LocalStorage.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;localStorage.js.html&quot;&gt;}, &quot;Utils.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;utils.js.html&quot;&gt;}}-->
	<ul class="dropdown-submenu">
		

<li ><a href="docco/test/adapters/inMemory.js.html" >inMemory.js</a>
	
</li>


<li ><a href="docco/test/adapters/index.js.html" >index.js</a>
	
</li>


<li ><a href="docco/test/adapters/localStorage.js.html" >localStorage.js</a>
	
</li>


<li ><a href="docco/test/adapters/utils.js.html" >utils.js</a>
	
</li>

	</ul>
	
</li>


<li ><a href="docco/test/index.js.html" >index.js</a>
	
</li>


<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">models<b class="caret"></b></a>
	
	<!--{&quot;Index.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;index.js.html&quot;&gt;}, &quot;Simple-remapping.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;simple-remapping.js.html&quot;&gt;}, &quot;Simple.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;simple.js.html&quot;&gt;}}-->
	<ul class="dropdown-submenu">
		

<li ><a href="docco/test/models/index.js.html" >index.js</a>
	
</li>


<li ><a href="docco/test/models/simple-remapping.js.html" >simple-remapping.js</a>
	
</li>


<li ><a href="docco/test/models/simple.js.html" >simple.js</a>
	
</li>

	</ul>
	
</li>


<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">browserTests<b class="caret"></b></a>
	
	<!--{&quot;SeleniumTest.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;seleniumTest.js.html&quot;&gt;}, &quot;Setup.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;setup.js.html&quot;&gt;}, &quot;Test.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;test.js.html&quot;&gt;}}-->
	<ul class="dropdown-submenu">
		

<li ><a href="docco/test/browserTests/seleniumTest.js.html" >seleniumTest.js</a>
	
</li>


<li ><a href="docco/test/browserTests/setup.js.html" >setup.js</a>
	
</li>


<li ><a href="docco/test/browserTests/test.js.html" >test.js</a>
	
</li>

	</ul>
	
</li>

	</ul>
	
</li>


<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">lib<b class="caret"></b></a>
	
	<!--{&quot;Adapters&quot;=&gt;{&quot;page&quot;=&gt;{&quot;title&quot;=&gt;&quot;adapters&quot;}, &quot;children&quot;=&gt;{&quot;BaseAdapter.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;baseAdapter.js.html&quot;&gt;}, &quot;InMemoryAdapter.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;inMemoryAdapter.js.html&quot;&gt;}, &quot;LocalStorageAdapter.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;localStorageAdapter.js.html&quot;&gt;}}}, &quot;DataStoreEntities&quot;=&gt;{&quot;page&quot;=&gt;{&quot;title&quot;=&gt;&quot;dataStoreEntities&quot;}, &quot;children&quot;=&gt;{&quot;BaseEntity.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;baseEntity.js.html&quot;&gt;}, &quot;InMemoryEntity.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;inMemoryEntity.js.html&quot;&gt;}, &quot;LocalStorageEntity.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;localStorageEntity.js.html&quot;&gt;}}}, &quot;Diaspora.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;diaspora.js.html&quot;&gt;}, &quot;EntityFactory.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;entityFactory.js.html&quot;&gt;}, &quot;Model.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;model.js.html&quot;&gt;}}-->
	<ul class="dropdown-submenu">
		

<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">adapters<b class="caret"></b></a>
	
	<!--{&quot;BaseAdapter.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;baseAdapter.js.html&quot;&gt;}, &quot;InMemoryAdapter.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;inMemoryAdapter.js.html&quot;&gt;}, &quot;LocalStorageAdapter.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;localStorageAdapter.js.html&quot;&gt;}}-->
	<ul class="dropdown-submenu">
		

<li ><a href="docco/lib/adapters/baseAdapter.js.html" >baseAdapter.js</a>
	
</li>


<li ><a href="docco/lib/adapters/inMemoryAdapter.js.html" >inMemoryAdapter.js</a>
	
</li>


<li ><a href="docco/lib/adapters/localStorageAdapter.js.html" >localStorageAdapter.js</a>
	
</li>

	</ul>
	
</li>


<li class="dropdown"><a href="#" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">dataStoreEntities<b class="caret"></b></a>
	
	<!--{&quot;BaseEntity.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;baseEntity.js.html&quot;&gt;}, &quot;InMemoryEntity.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;inMemoryEntity.js.html&quot;&gt;}, &quot;LocalStorageEntity.js&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;localStorageEntity.js.html&quot;&gt;}}-->
	<ul class="dropdown-submenu">
		

<li ><a href="docco/lib/dataStoreEntities/baseEntity.js.html" >baseEntity.js</a>
	
</li>


<li ><a href="docco/lib/dataStoreEntities/inMemoryEntity.js.html" >inMemoryEntity.js</a>
	
</li>


<li ><a href="docco/lib/dataStoreEntities/localStorageEntity.js.html" >localStorageEntity.js</a>
	
</li>

	</ul>
	
</li>


<li ><a href="docco/lib/diaspora.js.html" >diaspora.js</a>
	
</li>


<li ><a href="docco/lib/entityFactory.js.html" >entityFactory.js</a>
	
</li>


<li ><a href="docco/lib/model.js.html" >model.js</a>
	
</li>

	</ul>
	
</li>


<li ><a href="docco/diaspora.js.html" >diaspora.js</a>
	
</li>

				</ul>
			</li>
			<li id="API" class="dropdown">
				<a href="jsdoc/index.html" class="dropdown-toggle long" data-toggle="dropdown" aria-expanded="false">API Documentation<b class="caret"></b></a>
				<a href="jsdoc/index.html" class="dropdown-toggle short" data-toggle="dropdown" aria-expanded="false">API<b class="caret"></b></a>
				
				<ul class="dropdown-menu">
					

<li class="dropdown"><a href="jsdoc/Adapters.html" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Namespace: Adapters<b class="caret"></b></a>
	
	<!--{&quot;DiasporaAdapter&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;Adapters.DiasporaAdapter.html&quot;&gt;}, &quot;InMemoryDiasporaAdapter&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;Adapters.InMemoryDiasporaAdapter.html&quot;&gt;}, &quot;LocalStorageDiasporaAdapter&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;Adapters.LocalStorageDiasporaAdapter.html&quot;&gt;}}-->
	<ul class="dropdown-submenu">
		

<li ><a href="jsdoc/Adapters.DiasporaAdapter.html" >Class: DiasporaAdapter</a>
	
</li>


<li ><a href="jsdoc/Adapters.InMemoryDiasporaAdapter.html" >Class: InMemoryDiasporaAdapter</a>
	
</li>


<li ><a href="jsdoc/Adapters.LocalStorageDiasporaAdapter.html" >Class: LocalStorageDiasporaAdapter</a>
	
</li>

	</ul>
	
</li>


<li ><a href="jsdoc/ConstrainedTypes.html" >Namespace: ConstrainedTypes</a>
	
</li>


<li class="dropdown"><a href="jsdoc/DataStoreEntities.html" class="dropdown-toggle" data-toggle="dropdown" aria-expanded="false">Namespace: DataStoreEntities<b class="caret"></b></a>
	
	<!--{&quot;DataStoreEntity&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;DataStoreEntities.DataStoreEntity.html&quot;&gt;}, &quot;InMemoryEntity&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;DataStoreEntities.InMemoryEntity.html&quot;&gt;}, &quot;LocalStorageEntity&quot;=&gt;{&quot;page&quot;=&gt;#&lt;Jekyll:Page @name=&quot;DataStoreEntities.LocalStorageEntity.html&quot;&gt;}}-->
	<ul class="dropdown-submenu">
		

<li ><a href="jsdoc/DataStoreEntities.DataStoreEntity.html" >Class: DataStoreEntity</a>
	
</li>


<li ><a href="jsdoc/DataStoreEntities.InMemoryEntity.html" >Class: InMemoryEntity</a>
	
</li>


<li ><a href="jsdoc/DataStoreEntities.LocalStorageEntity.html" >Class: LocalStorageEntity</a>
	
</li>

	</ul>
	
</li>


<li ><a href="jsdoc/Diaspora.html" >Namespace: Diaspora</a>
	
</li>


<li ><a href="jsdoc/Entity.html" >Class: Entity</a>
	
</li>


<li ><a href="jsdoc/Model.html" >Class: Model</a>
	
</li>


<li ><a href="jsdoc/QueryLanguage.html" >Namespace: QueryLanguage</a>
	
</li>


<li ><a href="jsdoc/classes.list.html" >Classes</a>
	
</li>


<li ><a href="jsdoc/global.html" >Global</a>
	
</li>


<li ><a href="jsdoc/namespaces.list.html" >Namespaces</a>
	
</li>

				</ul>
			</li>
		</ul>
		<div class="col-sm-3 col-md-3">
			<form class="navbar-form" role="search" action="search.html">
				<div class="input-group">
					<input type="text" class="form-control" placeholder="Search" name="q" id="search-input">
					<div class="input-group-btn">
						<button class="btn btn-default" id="search-submit"><i class="glyphicon glyphicon-search"></i></button>
					</div>
				</div>
			</form>
		</div>
	</div>
</nav >
		<div class="wrapper">
			<header>
				<h1 class="header">Diaspora</h1>
				<p class="header">Multi-source ORM for node.js & the browser</p>

				<ul>
					
					<li class="download"><a class="buttons" href="https://github.com/Nihilivin/Diaspora/archive/master.zip">Download ZIP</a></li>
					<li class="download"><a class="buttons" href="https://github.com/Nihilivin/Diaspora/archive/master.tar">Download TAR</a></li>
					
					<li><a class="buttons github" href="https://github.com/Nihilivin/Diaspora">View On GitHub</a></li>
				</ul>

				

				
			</header>

			<div id="content">
				<section>
					<div id="searchResults">
</div>
<script>
	var data = [];
	

	 
	 
	  
	 
	 data.push(        {
		 "title"    : "Class: DiasporaAdapter",
		 "url"     : "jsdoc/Adapters.DiasporaAdapter.html",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t&lt;h1 class=&quot;page-title&quot;&gt;Class: DiasporaAdapter&lt;/h1&gt;\n&lt;section&gt;\n\n&lt;header&gt;\n    \n        &lt;h2&gt;\n            &lt;span class=&quot;ancestors&quot;&gt;&lt;a href=&quot;Adapters.html&quot;&gt;Adapters&lt;/a&gt;.&lt;/span&gt;\n        \n        DiasporaAdapter\n        &lt;/h2&gt;\n        \n            &lt;div class=&quot;class-description&quot;&gt;&lt;p&gt;DiasporaAdapter is the base class of adapters. Adapters are components that are in charge to interact with data sources (files, databases, etc etc) with standardized methods. You should not use this class directly: extend this class and re-implement some methods to build an adapter. See the (upcoming) tutorial section.&lt;/p&gt;&lt;/div&gt;\n        \n    \n&lt;/header&gt;\n\n\n&lt;article&gt;\n    &lt;div class=&quot;container-overview&quot;&gt;\n    \n        \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;DiasporaAdapter&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;new DiasporaAdapter(classEntity)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;classEntity&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;DataStoreEntity&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Class used to spawn source entities&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/dd&gt;\n\n    \n    &lt;/div&gt;\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Methods&lt;/h3&gt;\n\n        &lt;dl&gt;\n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;deleteMany&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;deleteMany(table, queryFind [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;At least one of deleteOne or deleteMany must be reimplemented by adapter&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Update several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;deleteMany&lt;/code&gt; itself&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to delete data from&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entities to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;DataStoreEntity[]&lt;/em&gt; &lt;code&gt;entities&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;deleteOne&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;deleteOne(table, queryFind [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;At least one of deleteOne or deleteMany must be reimplemented by adapter&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Update a single entity from the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;deleteOne&lt;/code&gt; itself&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to delete data from&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entities to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;DataStoreEntity&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;findMany&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;findMany(table, queryFind [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;At least one of findOne or findMany must be reimplemented by adapter&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Retrieve several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;findMany&lt;/code&gt; itself&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to retrieve data from&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing entities to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;DataStoreEntity[]&lt;/em&gt; &lt;code&gt;entities&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;findOne&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;findOne(table, queryFind [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;At least one of findOne or findMany must be reimplemented by adapter&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Retrieve a single entity from the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;findOne&lt;/code&gt; itself&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to retrieve data from&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;DataStoreEntity&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;insertMany&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;insertMany(table, entities)&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;At least one of insertOne or insertMany must be reimplemented by adapter&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Insert several entities in the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;insertMany&lt;/code&gt; itself&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to insert data in&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;entities&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Array.&amp;lt;Object&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Array of hashs representing the entities to insert&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once insertion is done. Called with (&lt;em&gt;DataStoreEntity[]&lt;/em&gt; entities)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;insertOne&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;insertOne(table, entity)&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;At least one of insertOne or insertMany must be reimplemented by adapter&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Insert a single entity in the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;insertOne&lt;/code&gt; itself&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to insert data in&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;entity&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to insert&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once insertion is done. Called with (&lt;em&gt;DataStoreEntity&lt;/em&gt; entity)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;remapInput&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;remapInput(table, query)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;TODO&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table for which we remap&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;query&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to remap&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-see method-doc-label method-doc-details-label&quot;&gt;See:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-see&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;TODO remapping&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Remapped object&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;remapOutput&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;remapOutput(table, query)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;TODO&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table for which we remap&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;query&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to remap&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-see method-doc-label method-doc-details-label&quot;&gt;See:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-see&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;TODO remapping&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Remapped object&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;updateMany&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;updateMany(table, queryFind, update [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;At least one of updateOne or updateMany must be reimplemented by adapter&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Update several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;updateMany&lt;/code&gt; itself&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to retrieve data from&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing entities to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;update&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Object properties to set&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;DataStoreEntity[]&lt;/em&gt; &lt;code&gt;entities&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;updateOne&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;updateOne(table, queryFind, update [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;At least one of updateOne or updateMany must be reimplemented by adapter&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Update a single entity from the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;updateOne&lt;/code&gt; itself&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to retrieve data from&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;update&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Object properties to set&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;DataStoreEntity&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;waitReady&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;waitReady()&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Returns a promise resolved once adapter state is ready&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved when adapter is ready, and rejected if an error occured&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        &lt;/dl&gt;\n    \n\n    \n\n    \n&lt;/article&gt;\n\n&lt;/section&gt;\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:18+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\tClass: DiasporaAdapter\n\n\n\n    \n        \n            Adapters.\n        \n        DiasporaAdapter\n        \n        \n            DiasporaAdapter is the base class of adapters. Adapters are components that are in charge to interact with data sources (files, databases, etc etc) with standardized methods. You should not use this class directly: extend this class and re-implement some methods to build an adapter. See the (upcoming) tutorial section.\n        \n    \n\n\n\n\n    \n    \n        \n\n\n    new DiasporaAdapter(classEntity)\n    \n    \n\n\n\n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                classEntity\n            \n\n            \n            \n                \nDataStoreEntity\n\n\n\n            \n            \n\n            \n\n            \n\n            Class used to spawn source entities\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n\n    \n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n        Methods\n\n        \n            \n\n\n    deleteMany(table, queryFind [, options])\n    \n    \n    At least one of deleteOne or deleteMany must be reimplemented by adapter\n    \n\n\n\n    \n    \n        Update several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide deleteMany itself\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to delete data from\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing the entities to find\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once item is found. Called with (DataStoreEntity[] entities)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    deleteOne(table, queryFind [, options])\n    \n    \n    At least one of deleteOne or deleteMany must be reimplemented by adapter\n    \n\n\n\n    \n    \n        Update a single entity from the data store. This function is a default polyfill if the inheriting adapter does not provide deleteOne itself\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to delete data from\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing the entities to find\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once item is found. Called with (DataStoreEntity entity)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    findMany(table, queryFind [, options])\n    \n    \n    At least one of findOne or findMany must be reimplemented by adapter\n    \n\n\n\n    \n    \n        Retrieve several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide findMany itself\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to retrieve data from\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing entities to find\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once item is found. Called with (DataStoreEntity[] entities)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    findOne(table, queryFind [, options])\n    \n    \n    At least one of findOne or findMany must be reimplemented by adapter\n    \n\n\n\n    \n    \n        Retrieve a single entity from the data store. This function is a default polyfill if the inheriting adapter does not provide findOne itself\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to retrieve data from\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing the entity to find\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once item is found. Called with (DataStoreEntity entity)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    insertMany(table, entities)\n    \n    \n    At least one of insertOne or insertMany must be reimplemented by adapter\n    \n\n\n\n    \n    \n        Insert several entities in the data store. This function is a default polyfill if the inheriting adapter does not provide insertMany itself\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the table to insert data in\n        \n\n    \n\n        \n            \n                entities\n            \n\n            \n            \n                \nArray.&amp;lt;Object&gt;\n\n\n\n            \n            \n\n            \n\n            \n\n            Array of hashs representing the entities to insert\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once insertion is done. Called with (DataStoreEntity[] entities)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    insertOne(table, entity)\n    \n    \n    At least one of insertOne or insertMany must be reimplemented by adapter\n    \n\n\n\n    \n    \n        Insert a single entity in the data store. This function is a default polyfill if the inheriting adapter does not provide insertOne itself\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the table to insert data in\n        \n\n    \n\n        \n            \n                entity\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Hash representing the entity to insert\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once insertion is done. Called with (DataStoreEntity entity)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    remapInput(table, query)\n    \n    \n\n\n\n    \n    \n        TODO\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the table for which we remap\n        \n\n    \n\n        \n            \n                query\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Hash representing the entity to remap\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\tSee:\n\t\n\t\t\n\t\t\tTODO remapping\n\t\t\t\n\t\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Remapped object\n\n\n\n\n\n    \n        Type\n    \n    \n        \nObject\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    remapOutput(table, query)\n    \n    \n\n\n\n    \n    \n        TODO\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the table for which we remap\n        \n\n    \n\n        \n            \n                query\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Hash representing the entity to remap\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\tSee:\n\t\n\t\t\n\t\t\tTODO remapping\n\t\t\t\n\t\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Remapped object\n\n\n\n\n\n    \n        Type\n    \n    \n        \nObject\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    updateMany(table, queryFind, update [, options])\n    \n    \n    At least one of updateOne or updateMany must be reimplemented by adapter\n    \n\n\n\n    \n    \n        Update several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide updateMany itself\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to retrieve data from\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing entities to find\n        \n\n    \n\n        \n            \n                update\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Object properties to set\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once item is found. Called with (DataStoreEntity[] entities)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    updateOne(table, queryFind, update [, options])\n    \n    \n    At least one of updateOne or updateMany must be reimplemented by adapter\n    \n\n\n\n    \n    \n        Update a single entity from the data store. This function is a default polyfill if the inheriting adapter does not provide updateOne itself\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to retrieve data from\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing the entity to find\n        \n\n    \n\n        \n            \n                update\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Object properties to set\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once item is found. Called with (DataStoreEntity entity)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    waitReady()\n    \n    \n\n\n\n    \n    \n        Returns a promise resolved once adapter state is ready\n    \n    \n\n    \n\n    \n\n    \n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved when adapter is ready, and rejected if an error occured\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n    \n\n    \n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:18+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Class: InMemoryDiasporaAdapter",
		 "url"     : "jsdoc/Adapters.InMemoryDiasporaAdapter.html",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t&lt;h1 class=&quot;page-title&quot;&gt;Class: InMemoryDiasporaAdapter&lt;/h1&gt;\n&lt;section&gt;\n\n&lt;header&gt;\n    \n        &lt;h2&gt;\n            &lt;span class=&quot;ancestors&quot;&gt;&lt;a href=&quot;Adapters.html&quot;&gt;Adapters&lt;/a&gt;.&lt;/span&gt;\n        \n        InMemoryDiasporaAdapter\n        &lt;/h2&gt;\n        \n            &lt;div class=&quot;class-description&quot;&gt;&lt;p&gt;This class is used to use the memory as a data store. Every data you insert are stored in an array contained by this class. This adapter can be used by both the browser &amp;amp; Node.JS&lt;/p&gt;&lt;/div&gt;\n        \n    \n&lt;/header&gt;\n\n\n&lt;article&gt;\n    &lt;div class=&quot;container-overview&quot;&gt;\n    \n        \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;InMemoryDiasporaAdapter&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;new InMemoryDiasporaAdapter( [config])&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Create a new In Memory data store&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;config&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Options hash. Currently, this adapter does not have any options&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/dd&gt;\n\n    \n    &lt;/div&gt;\n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Extends&lt;/h3&gt;\n\n        \n\n\n    &lt;ul&gt;\n        &lt;li&gt;&lt;a href=&quot;Adapters.DiasporaAdapter.html&quot;&gt;Adapters.DiasporaAdapter&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Methods&lt;/h3&gt;\n\n        &lt;dl&gt;\n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;applyOptionsToSet&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;applyOptionsToSet(set, options)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Reduce, offset or sort provided set&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;set&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Array.&amp;lt;Object&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Objects retrieved from memory store&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Options to apply to the set&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Set with options applied&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Array.&amp;lt;Object&gt;&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;deleteMany&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;deleteMany(table, queryFind [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;This reimplements &lt;a href=&quot;Adapters.DiasporaAdapter.html#deleteMany&quot;&gt;Adapters.DiasporaAdapter#deleteMany&lt;/a&gt;, modified for in-memory interactions.&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Delete several entities from the memory.&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to delete data from&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing entities to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n    &lt;dt class=&quot;tag-overrides&quot;&gt;Overrides:&lt;/dt&gt;\n    &lt;dd class=&quot;tag-overrides&quot;&gt;&lt;ul class=&quot;dummy&quot;&gt;&lt;li&gt;\n        &lt;a href=&quot;Adapters.DiasporaAdapter.html#deleteMany&quot;&gt;Adapters.DiasporaAdapter#deleteMany&lt;/a&gt;\n    &lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once items are deleted. Called with (&lt;em&gt;undefined&lt;/em&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;deleteOne&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;deleteOne(table, queryFind [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;This reimplements &lt;a href=&quot;Adapters.DiasporaAdapter.html#deleteOne&quot;&gt;Adapters.DiasporaAdapter#deleteOne&lt;/a&gt;, modified for in-memory interactions.&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Delete a single entity from the memory.&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to delete data from&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n    &lt;dt class=&quot;tag-overrides&quot;&gt;Overrides:&lt;/dt&gt;\n    &lt;dd class=&quot;tag-overrides&quot;&gt;&lt;ul class=&quot;dummy&quot;&gt;&lt;li&gt;\n        &lt;a href=&quot;Adapters.DiasporaAdapter.html#deleteOne&quot;&gt;Adapters.DiasporaAdapter#deleteOne&lt;/a&gt;\n    &lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;undefined&lt;/em&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;ensureCollectionExists&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;ensureCollectionExists(table)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Get or create the store hash&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;In memory table to use&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;DataStoreTable&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;findMany&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;findMany(table, queryFind [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;This reimplements &lt;a href=&quot;Adapters.DiasporaAdapter.html#findMany&quot;&gt;Adapters.DiasporaAdapter#findMany&lt;/a&gt;, modified for in-memory interactions.&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Retrieve several entities from the memory.&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to retrieve data from&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing entities to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n    &lt;dt class=&quot;tag-overrides&quot;&gt;Overrides:&lt;/dt&gt;\n    &lt;dd class=&quot;tag-overrides&quot;&gt;&lt;ul class=&quot;dummy&quot;&gt;&lt;li&gt;\n        &lt;a href=&quot;Adapters.DiasporaAdapter.html#findMany&quot;&gt;Adapters.DiasporaAdapter#findMany&lt;/a&gt;\n    &lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once items are found. Called with (&lt;em&gt;InMemoryEntity[]&lt;/em&gt; &lt;code&gt;entities&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;findOne&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;findOne(table, queryFind [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;This reimplements &lt;a href=&quot;Adapters.DiasporaAdapter.html#findOne&quot;&gt;Adapters.DiasporaAdapter#findOne&lt;/a&gt;, modified for in-memory interactions.&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Retrieve a single entity from the memory.&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to retrieve data from&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n    &lt;dt class=&quot;tag-overrides&quot;&gt;Overrides:&lt;/dt&gt;\n    &lt;dd class=&quot;tag-overrides&quot;&gt;&lt;ul class=&quot;dummy&quot;&gt;&lt;li&gt;\n        &lt;a href=&quot;Adapters.DiasporaAdapter.html#findOne&quot;&gt;Adapters.DiasporaAdapter#findOne&lt;/a&gt;\n    &lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;InMemoryEntity&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;generateUUID&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;generateUUID()&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Create a new unique id for this store&#39;s entity&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Generated unique id&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;insertMany&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;insertMany(table, entities)&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;At least one of insertOne or insertMany must be reimplemented by adapter&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Insert several entities in the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;insertMany&lt;/code&gt; itself&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to insert data in&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;entities&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Array.&amp;lt;Object&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Array of hashs representing the entities to insert&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\t&lt;dt class=&quot;inherited-from method-doc-label method-doc-details-label&quot;&gt;Inherited From:&lt;/dt&gt;\n\t&lt;dd class=&quot;inherited-from&quot;&gt;\n\t\t&lt;ul class=&quot;dummy&quot;&gt;\n\t\t\t&lt;li&gt;\n\t\t\t\t&lt;a href=&quot;Adapters.DiasporaAdapter.html#insertMany&quot;&gt;Adapters.DiasporaAdapter#insertMany&lt;/a&gt;\n\t\t\t&lt;/li&gt;\n\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once insertion is done. Called with (&lt;em&gt;DataStoreEntity[]&lt;/em&gt; entities)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;insertOne&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;insertOne(table, entity)&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;This reimplements &lt;a href=&quot;Adapters.DiasporaAdapter.html#insertOne&quot;&gt;Adapters.DiasporaAdapter#insertOne&lt;/a&gt;, modified for in-memory interactions.&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Insert a single entity in the memory store.&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to insert data in&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;entity&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to insert&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n    &lt;dt class=&quot;tag-overrides&quot;&gt;Overrides:&lt;/dt&gt;\n    &lt;dd class=&quot;tag-overrides&quot;&gt;&lt;ul class=&quot;dummy&quot;&gt;&lt;li&gt;\n        &lt;a href=&quot;Adapters.DiasporaAdapter.html#insertOne&quot;&gt;Adapters.DiasporaAdapter#insertOne&lt;/a&gt;\n    &lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once insertion is done. Called with (&lt;em&gt;InMemoryEntity&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;remapInput&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;remapInput(table, query)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;TODO&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table for which we remap&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;query&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to remap&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\t&lt;dt class=&quot;inherited-from method-doc-label method-doc-details-label&quot;&gt;Inherited From:&lt;/dt&gt;\n\t&lt;dd class=&quot;inherited-from&quot;&gt;\n\t\t&lt;ul class=&quot;dummy&quot;&gt;\n\t\t\t&lt;li&gt;\n\t\t\t\t&lt;a href=&quot;Adapters.DiasporaAdapter.html#remapInput&quot;&gt;Adapters.DiasporaAdapter#remapInput&lt;/a&gt;\n\t\t\t&lt;/li&gt;\n\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-see method-doc-label method-doc-details-label&quot;&gt;See:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-see&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;TODO remapping&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Remapped object&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;remapOutput&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;remapOutput(table, query)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;TODO&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table for which we remap&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;query&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to remap&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\t&lt;dt class=&quot;inherited-from method-doc-label method-doc-details-label&quot;&gt;Inherited From:&lt;/dt&gt;\n\t&lt;dd class=&quot;inherited-from&quot;&gt;\n\t\t&lt;ul class=&quot;dummy&quot;&gt;\n\t\t\t&lt;li&gt;\n\t\t\t\t&lt;a href=&quot;Adapters.DiasporaAdapter.html#remapOutput&quot;&gt;Adapters.DiasporaAdapter#remapOutput&lt;/a&gt;\n\t\t\t&lt;/li&gt;\n\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-see method-doc-label method-doc-details-label&quot;&gt;See:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-see&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;TODO remapping&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Remapped object&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;updateMany&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;updateMany(table, queryFind, update [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;This reimplements &lt;a href=&quot;Adapters.DiasporaAdapter.html#updateMany&quot;&gt;Adapters.DiasporaAdapter#updateMany&lt;/a&gt;, modified for in-memory interactions.&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Update several entities in the memory.&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to update data in&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing entities to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;update&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Object properties to set&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n    &lt;dt class=&quot;tag-overrides&quot;&gt;Overrides:&lt;/dt&gt;\n    &lt;dd class=&quot;tag-overrides&quot;&gt;&lt;ul class=&quot;dummy&quot;&gt;&lt;li&gt;\n        &lt;a href=&quot;Adapters.DiasporaAdapter.html#updateMany&quot;&gt;Adapters.DiasporaAdapter#updateMany&lt;/a&gt;\n    &lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once update is done. Called with (&lt;em&gt;InMemoryEntity[]&lt;/em&gt; &lt;code&gt;entities&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;updateOne&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;updateOne(table, queryFind, update [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;This reimplements &lt;a href=&quot;Adapters.DiasporaAdapter.html#updateOne&quot;&gt;Adapters.DiasporaAdapter#updateOne&lt;/a&gt;, modified for in-memory interactions.&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Update a single entity in the memory.&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to update data in&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;update&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Object properties to set&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n    &lt;dt class=&quot;tag-overrides&quot;&gt;Overrides:&lt;/dt&gt;\n    &lt;dd class=&quot;tag-overrides&quot;&gt;&lt;ul class=&quot;dummy&quot;&gt;&lt;li&gt;\n        &lt;a href=&quot;Adapters.DiasporaAdapter.html#updateOne&quot;&gt;Adapters.DiasporaAdapter#updateOne&lt;/a&gt;\n    &lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once update is done. Called with (&lt;em&gt;InMemoryEntity&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;waitReady&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;waitReady()&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Returns a promise resolved once adapter state is ready&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\t&lt;dt class=&quot;inherited-from method-doc-label method-doc-details-label&quot;&gt;Inherited From:&lt;/dt&gt;\n\t&lt;dd class=&quot;inherited-from&quot;&gt;\n\t\t&lt;ul class=&quot;dummy&quot;&gt;\n\t\t\t&lt;li&gt;\n\t\t\t\t&lt;a href=&quot;Adapters.DiasporaAdapter.html#waitReady&quot;&gt;Adapters.DiasporaAdapter#waitReady&lt;/a&gt;\n\t\t\t&lt;/li&gt;\n\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved when adapter is ready, and rejected if an error occured&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        &lt;/dl&gt;\n    \n\n    \n\n    \n&lt;/article&gt;\n\n&lt;/section&gt;\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\tClass: InMemoryDiasporaAdapter\n\n\n\n    \n        \n            Adapters.\n        \n        InMemoryDiasporaAdapter\n        \n        \n            This class is used to use the memory as a data store. Every data you insert are stored in an array contained by this class. This adapter can be used by both the browser &amp;amp; Node.JS\n        \n    \n\n\n\n\n    \n    \n        \n\n\n    new InMemoryDiasporaAdapter( [config])\n    \n    \n\n\n\n    \n    \n        Create a new In Memory data store\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                config\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n\n            Options hash. Currently, this adapter does not have any options\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n\n    \n    \n\n    \n        Extends\n\n        \n\n\n    \n        Adapters.DiasporaAdapter\n    \n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n        Methods\n\n        \n            \n\n\n    applyOptionsToSet(set, options)\n    \n    \n\n\n\n    \n    \n        Reduce, offset or sort provided set\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                set\n            \n\n            \n            \n                \nArray.&amp;lt;Object&gt;\n\n\n\n            \n            \n\n            \n\n            \n\n            Objects retrieved from memory store\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Options to apply to the set\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Set with options applied\n\n\n\n\n\n    \n        Type\n    \n    \n        \nArray.&amp;lt;Object&gt;\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    deleteMany(table, queryFind [, options])\n    \n    \n    This reimplements Adapters.DiasporaAdapter#deleteMany, modified for in-memory interactions.\n    \n\n\n\n    \n    \n        Delete several entities from the memory.\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to delete data from\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing entities to find\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n    Overrides:\n    \n        Adapters.DiasporaAdapter#deleteMany\n    \n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once items are deleted. Called with (undefined)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    deleteOne(table, queryFind [, options])\n    \n    \n    This reimplements Adapters.DiasporaAdapter#deleteOne, modified for in-memory interactions.\n    \n\n\n\n    \n    \n        Delete a single entity from the memory.\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to delete data from\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing the entity to find\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n    Overrides:\n    \n        Adapters.DiasporaAdapter#deleteOne\n    \n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once item is found. Called with (undefined)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    ensureCollectionExists(table)\n    \n    \n\n\n\n    \n    \n        Get or create the store hash\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the table\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    In memory table to use\n\n\n\n\n\n    \n        Type\n    \n    \n        \nDataStoreTable\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    findMany(table, queryFind [, options])\n    \n    \n    This reimplements Adapters.DiasporaAdapter#findMany, modified for in-memory interactions.\n    \n\n\n\n    \n    \n        Retrieve several entities from the memory.\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to retrieve data from\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing entities to find\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n    Overrides:\n    \n        Adapters.DiasporaAdapter#findMany\n    \n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once items are found. Called with (InMemoryEntity[] entities)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    findOne(table, queryFind [, options])\n    \n    \n    This reimplements Adapters.DiasporaAdapter#findOne, modified for in-memory interactions.\n    \n\n\n\n    \n    \n        Retrieve a single entity from the memory.\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to retrieve data from\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing the entity to find\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n    Overrides:\n    \n        Adapters.DiasporaAdapter#findOne\n    \n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once item is found. Called with (InMemoryEntity entity)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    generateUUID()\n    \n    \n\n\n\n    \n    \n        Create a new unique id for this store&#39;s entity\n    \n    \n\n    \n\n    \n\n    \n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Generated unique id\n\n\n\n\n\n    \n        Type\n    \n    \n        \nString\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    insertMany(table, entities)\n    \n    \n    At least one of insertOne or insertMany must be reimplemented by adapter\n    \n\n\n\n    \n    \n        Insert several entities in the data store. This function is a default polyfill if the inheriting adapter does not provide insertMany itself\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the table to insert data in\n        \n\n    \n\n        \n            \n                entities\n            \n\n            \n            \n                \nArray.&amp;lt;Object&gt;\n\n\n\n            \n            \n\n            \n\n            \n\n            Array of hashs representing the entities to insert\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\tInherited From:\n\t\n\t\t\n\t\t\t\n\t\t\t\tAdapters.DiasporaAdapter#insertMany\n\t\t\t\n\t\t\n\t\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once insertion is done. Called with (DataStoreEntity[] entities)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    insertOne(table, entity)\n    \n    \n    This reimplements Adapters.DiasporaAdapter#insertOne, modified for in-memory interactions.\n    \n\n\n\n    \n    \n        Insert a single entity in the memory store.\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the table to insert data in\n        \n\n    \n\n        \n            \n                entity\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Hash representing the entity to insert\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n    Overrides:\n    \n        Adapters.DiasporaAdapter#insertOne\n    \n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once insertion is done. Called with (InMemoryEntity entity)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    remapInput(table, query)\n    \n    \n\n\n\n    \n    \n        TODO\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the table for which we remap\n        \n\n    \n\n        \n            \n                query\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Hash representing the entity to remap\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\tInherited From:\n\t\n\t\t\n\t\t\t\n\t\t\t\tAdapters.DiasporaAdapter#remapInput\n\t\t\t\n\t\t\n\t\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\tSee:\n\t\n\t\t\n\t\t\tTODO remapping\n\t\t\t\n\t\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Remapped object\n\n\n\n\n\n    \n        Type\n    \n    \n        \nObject\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    remapOutput(table, query)\n    \n    \n\n\n\n    \n    \n        TODO\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the table for which we remap\n        \n\n    \n\n        \n            \n                query\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Hash representing the entity to remap\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\tInherited From:\n\t\n\t\t\n\t\t\t\n\t\t\t\tAdapters.DiasporaAdapter#remapOutput\n\t\t\t\n\t\t\n\t\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\tSee:\n\t\n\t\t\n\t\t\tTODO remapping\n\t\t\t\n\t\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Remapped object\n\n\n\n\n\n    \n        Type\n    \n    \n        \nObject\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    updateMany(table, queryFind, update [, options])\n    \n    \n    This reimplements Adapters.DiasporaAdapter#updateMany, modified for in-memory interactions.\n    \n\n\n\n    \n    \n        Update several entities in the memory.\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to update data in\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing entities to find\n        \n\n    \n\n        \n            \n                update\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Object properties to set\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n    Overrides:\n    \n        Adapters.DiasporaAdapter#updateMany\n    \n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once update is done. Called with (InMemoryEntity[] entities)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    updateOne(table, queryFind, update [, options])\n    \n    \n    This reimplements Adapters.DiasporaAdapter#updateOne, modified for in-memory interactions.\n    \n\n\n\n    \n    \n        Update a single entity in the memory.\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to update data in\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing the entity to find\n        \n\n    \n\n        \n            \n                update\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Object properties to set\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n    Overrides:\n    \n        Adapters.DiasporaAdapter#updateOne\n    \n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once update is done. Called with (InMemoryEntity entity)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    waitReady()\n    \n    \n\n\n\n    \n    \n        Returns a promise resolved once adapter state is ready\n    \n    \n\n    \n\n    \n\n    \n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\tInherited From:\n\t\n\t\t\n\t\t\t\n\t\t\t\tAdapters.DiasporaAdapter#waitReady\n\t\t\t\n\t\t\n\t\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved when adapter is ready, and rejected if an error occured\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n    \n\n    \n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Class: LocalStorageDiasporaAdapter",
		 "url"     : "jsdoc/Adapters.LocalStorageDiasporaAdapter.html",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t&lt;h1 class=&quot;page-title&quot;&gt;Class: LocalStorageDiasporaAdapter&lt;/h1&gt;\n&lt;section&gt;\n\n&lt;header&gt;\n    \n        &lt;h2&gt;\n            &lt;span class=&quot;ancestors&quot;&gt;&lt;a href=&quot;Adapters.html&quot;&gt;Adapters&lt;/a&gt;.&lt;/span&gt;\n        \n        LocalStorageDiasporaAdapter\n        &lt;/h2&gt;\n        \n            &lt;div class=&quot;class-description&quot;&gt;&lt;p&gt;This class is used to use local storage or session storage as a data store. This adapter should be used only by the browser&lt;/p&gt;&lt;/div&gt;\n        \n    \n&lt;/header&gt;\n\n\n&lt;article&gt;\n    &lt;div class=&quot;container-overview&quot;&gt;\n    \n        \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;LocalStorageDiasporaAdapter&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;new LocalStorageDiasporaAdapter( [config])&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Create a new LocalStorage data store&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;config&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Options hash.&lt;/p&gt;\n                &lt;h6 class=&quot;method-params-label method-subparams-label&quot;&gt;Properties&lt;/h6&gt;\n                \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;session&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Boolean&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    false\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;If &lt;code&gt;false&lt;/code&gt;, data source will use local storage. If &lt;code&gt;true&lt;/code&gt;, it will use session storage.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n            &lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/dd&gt;\n\n    \n    &lt;/div&gt;\n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Extends&lt;/h3&gt;\n\n        \n\n\n    &lt;ul&gt;\n        &lt;li&gt;&lt;a href=&quot;Adapters.DiasporaAdapter.html&quot;&gt;Adapters.DiasporaAdapter&lt;/a&gt;&lt;/li&gt;\n    &lt;/ul&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Methods&lt;/h3&gt;\n\n        &lt;dl&gt;\n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;applyOptionsToSet&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;applyOptionsToSet(set, options)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Reduce, offset or sort provided set&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;set&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Array.&amp;lt;Object&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Objects retrieved from memory store&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Options to apply to the set&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Set with options applied&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Array.&amp;lt;Object&gt;&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;deleteMany&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;deleteMany(table, queryFind [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;This reimplements &lt;a href=&quot;Adapters.DiasporaAdapter.html#deleteMany&quot;&gt;Adapters.DiasporaAdapter#deleteMany&lt;/a&gt;, modified for local storage or session storage interactions.&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Delete several entities from the local storage.&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to delete data from&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing entities to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n    &lt;dt class=&quot;tag-overrides&quot;&gt;Overrides:&lt;/dt&gt;\n    &lt;dd class=&quot;tag-overrides&quot;&gt;&lt;ul class=&quot;dummy&quot;&gt;&lt;li&gt;\n        &lt;a href=&quot;Adapters.DiasporaAdapter.html#deleteMany&quot;&gt;Adapters.DiasporaAdapter#deleteMany&lt;/a&gt;\n    &lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once items are deleted. Called with (&lt;em&gt;undefined&lt;/em&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;deleteOne&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;deleteOne(table, queryFind [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;This reimplements &lt;a href=&quot;Adapters.DiasporaAdapter.html#deleteOne&quot;&gt;Adapters.DiasporaAdapter#deleteOne&lt;/a&gt;, modified for local storage or session storage interactions.&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Delete a single entity from the local storage.&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to delete data from&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n    &lt;dt class=&quot;tag-overrides&quot;&gt;Overrides:&lt;/dt&gt;\n    &lt;dd class=&quot;tag-overrides&quot;&gt;&lt;ul class=&quot;dummy&quot;&gt;&lt;li&gt;\n        &lt;a href=&quot;Adapters.DiasporaAdapter.html#deleteOne&quot;&gt;Adapters.DiasporaAdapter#deleteOne&lt;/a&gt;\n    &lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once item is deleted. Called with (&lt;em&gt;undefined&lt;/em&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;ensureCollectionExists&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;ensureCollectionExists(table)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Create the table key if it does not exist&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;findMany&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;findMany(table, queryFind [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;At least one of findOne or findMany must be reimplemented by adapter&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Retrieve several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;findMany&lt;/code&gt; itself&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to retrieve data from&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing entities to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\t&lt;dt class=&quot;inherited-from method-doc-label method-doc-details-label&quot;&gt;Inherited From:&lt;/dt&gt;\n\t&lt;dd class=&quot;inherited-from&quot;&gt;\n\t\t&lt;ul class=&quot;dummy&quot;&gt;\n\t\t\t&lt;li&gt;\n\t\t\t\t&lt;a href=&quot;Adapters.DiasporaAdapter.html#findMany&quot;&gt;Adapters.DiasporaAdapter#findMany&lt;/a&gt;\n\t\t\t&lt;/li&gt;\n\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;DataStoreEntity[]&lt;/em&gt; &lt;code&gt;entities&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;findOne&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;findOne(table, queryFind [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;This reimplements &lt;a href=&quot;Adapters.DiasporaAdapter.html#findOne&quot;&gt;Adapters.DiasporaAdapter#findOne&lt;/a&gt;, modified for local storage or session storage interactions.&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Retrieve a single entity from the local storage.&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the model to retrieve data from&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n    &lt;dt class=&quot;tag-overrides&quot;&gt;Overrides:&lt;/dt&gt;\n    &lt;dd class=&quot;tag-overrides&quot;&gt;&lt;ul class=&quot;dummy&quot;&gt;&lt;li&gt;\n        &lt;a href=&quot;Adapters.DiasporaAdapter.html#findOne&quot;&gt;Adapters.DiasporaAdapter#findOne&lt;/a&gt;\n    &lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;InMemoryEntity&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;generateUUID&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;generateUUID()&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Create a new unique id for this store&#39;s entity&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Generated unique id&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;getItemName&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;getItemName(table, id)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Deduce the item name from table name and item ID&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to construct name for&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;id&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Id of the item to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Name of the item&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;insertMany&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;insertMany(table, entities)&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;This reimplements &lt;a href=&quot;Adapters.DiasporaAdapter.html#insertMany&quot;&gt;Adapters.DiasporaAdapter#insertMany&lt;/a&gt;, modified for local storage or session storage interactions.&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Insert several entities in the local storage.&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to insert data in&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;entities&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Array.&amp;lt;Object&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Array of hashes representing entities to insert&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n    &lt;dt class=&quot;tag-overrides&quot;&gt;Overrides:&lt;/dt&gt;\n    &lt;dd class=&quot;tag-overrides&quot;&gt;&lt;ul class=&quot;dummy&quot;&gt;&lt;li&gt;\n        &lt;a href=&quot;Adapters.DiasporaAdapter.html#insertMany&quot;&gt;Adapters.DiasporaAdapter#insertMany&lt;/a&gt;\n    &lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once insertion is done. Called with (&lt;em&gt;LocalStorageEntity[]&lt;/em&gt; &lt;code&gt;entities&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;insertOne&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;insertOne(table, entity)&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;This reimplements &lt;a href=&quot;Adapters.DiasporaAdapter.html#insertOne&quot;&gt;Adapters.DiasporaAdapter#insertOne&lt;/a&gt;, modified for local storage or session storage interactions.&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Insert a single entity in the local storage.&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to insert data in&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;entity&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to insert&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n    &lt;dt class=&quot;tag-overrides&quot;&gt;Overrides:&lt;/dt&gt;\n    &lt;dd class=&quot;tag-overrides&quot;&gt;&lt;ul class=&quot;dummy&quot;&gt;&lt;li&gt;\n        &lt;a href=&quot;Adapters.DiasporaAdapter.html#insertOne&quot;&gt;Adapters.DiasporaAdapter#insertOne&lt;/a&gt;\n    &lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once insertion is done. Called with (&lt;em&gt;LocalStorageEntity&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;remapInput&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;remapInput(table, query)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;TODO&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table for which we remap&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;query&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to remap&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\t&lt;dt class=&quot;inherited-from method-doc-label method-doc-details-label&quot;&gt;Inherited From:&lt;/dt&gt;\n\t&lt;dd class=&quot;inherited-from&quot;&gt;\n\t\t&lt;ul class=&quot;dummy&quot;&gt;\n\t\t\t&lt;li&gt;\n\t\t\t\t&lt;a href=&quot;Adapters.DiasporaAdapter.html#remapInput&quot;&gt;Adapters.DiasporaAdapter#remapInput&lt;/a&gt;\n\t\t\t&lt;/li&gt;\n\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-see method-doc-label method-doc-details-label&quot;&gt;See:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-see&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;TODO remapping&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Remapped object&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;remapOutput&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;remapOutput(table, query)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;TODO&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table for which we remap&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;query&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to remap&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\t&lt;dt class=&quot;inherited-from method-doc-label method-doc-details-label&quot;&gt;Inherited From:&lt;/dt&gt;\n\t&lt;dd class=&quot;inherited-from&quot;&gt;\n\t\t&lt;ul class=&quot;dummy&quot;&gt;\n\t\t\t&lt;li&gt;\n\t\t\t\t&lt;a href=&quot;Adapters.DiasporaAdapter.html#remapOutput&quot;&gt;Adapters.DiasporaAdapter#remapOutput&lt;/a&gt;\n\t\t\t&lt;/li&gt;\n\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-see method-doc-label method-doc-details-label&quot;&gt;See:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-see&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;TODO remapping&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Remapped object&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;updateMany&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;updateMany(table, queryFind, update [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;At least one of updateOne or updateMany must be reimplemented by adapter&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Update several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;updateMany&lt;/code&gt; itself&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to retrieve data from&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing entities to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;update&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Object properties to set&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\t&lt;dt class=&quot;inherited-from method-doc-label method-doc-details-label&quot;&gt;Inherited From:&lt;/dt&gt;\n\t&lt;dd class=&quot;inherited-from&quot;&gt;\n\t\t&lt;ul class=&quot;dummy&quot;&gt;\n\t\t\t&lt;li&gt;\n\t\t\t\t&lt;a href=&quot;Adapters.DiasporaAdapter.html#updateMany&quot;&gt;Adapters.DiasporaAdapter#updateMany&lt;/a&gt;\n\t\t\t&lt;/li&gt;\n\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;DataStoreEntity[]&lt;/em&gt; &lt;code&gt;entities&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;updateOne&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;updateOne(table, queryFind, update [, options])&lt;/h4&gt;\n    \n    \n    &lt;p class=&quot;summary&quot;&gt;This reimplements &lt;a href=&quot;Adapters.DiasporaAdapter.html#updateOne&quot;&gt;Adapters.DiasporaAdapter#updateOne&lt;/a&gt;, modified for local storage or session storage interactions.&lt;/p&gt;\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Update a single entity in the memory.&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;table&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the table to update data in&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;queryFind&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the entity to find&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;update&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Object properties to set&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;options&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;QueryOptions&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash of options.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n    &lt;dt class=&quot;tag-overrides&quot;&gt;Overrides:&lt;/dt&gt;\n    &lt;dd class=&quot;tag-overrides&quot;&gt;&lt;ul class=&quot;dummy&quot;&gt;&lt;li&gt;\n        &lt;a href=&quot;Adapters.DiasporaAdapter.html#updateOne&quot;&gt;Adapters.DiasporaAdapter#updateOne&lt;/a&gt;\n    &lt;/li&gt;&lt;/ul&gt;&lt;/dd&gt;\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved once update is done. Called with (&lt;em&gt;LocalStorageEntity&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;waitReady&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;waitReady()&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Returns a promise resolved once adapter state is ready&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\t&lt;dt class=&quot;inherited-from method-doc-label method-doc-details-label&quot;&gt;Inherited From:&lt;/dt&gt;\n\t&lt;dd class=&quot;inherited-from&quot;&gt;\n\t\t&lt;ul class=&quot;dummy&quot;&gt;\n\t\t\t&lt;li&gt;\n\t\t\t\t&lt;a href=&quot;Adapters.DiasporaAdapter.html#waitReady&quot;&gt;Adapters.DiasporaAdapter#waitReady&lt;/a&gt;\n\t\t\t&lt;/li&gt;\n\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Promise resolved when adapter is ready, and rejected if an error occured&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Promise&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        &lt;/dl&gt;\n    \n\n    \n\n    \n&lt;/article&gt;\n\n&lt;/section&gt;\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\tClass: LocalStorageDiasporaAdapter\n\n\n\n    \n        \n            Adapters.\n        \n        LocalStorageDiasporaAdapter\n        \n        \n            This class is used to use local storage or session storage as a data store. This adapter should be used only by the browser\n        \n    \n\n\n\n\n    \n    \n        \n\n\n    new LocalStorageDiasporaAdapter( [config])\n    \n    \n\n\n\n    \n    \n        Create a new LocalStorage data store\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                config\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n\n            Options hash.\n                Properties\n                \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                session\n            \n\n            \n            \n                \nBoolean\n\n\n\n            \n            \n\n            \n\n            \n                \n                \n                    false\n                \n                \n            \n\n            If false, data source will use local storage. If true, it will use session storage.\n        \n\n    \n    \n\n\n            \n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n\n    \n    \n\n    \n        Extends\n\n        \n\n\n    \n        Adapters.DiasporaAdapter\n    \n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n        Methods\n\n        \n            \n\n\n    applyOptionsToSet(set, options)\n    \n    \n\n\n\n    \n    \n        Reduce, offset or sort provided set\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                set\n            \n\n            \n            \n                \nArray.&amp;lt;Object&gt;\n\n\n\n            \n            \n\n            \n\n            \n\n            Objects retrieved from memory store\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Options to apply to the set\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Set with options applied\n\n\n\n\n\n    \n        Type\n    \n    \n        \nArray.&amp;lt;Object&gt;\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    deleteMany(table, queryFind [, options])\n    \n    \n    This reimplements Adapters.DiasporaAdapter#deleteMany, modified for local storage or session storage interactions.\n    \n\n\n\n    \n    \n        Delete several entities from the local storage.\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to delete data from\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing entities to find\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n    Overrides:\n    \n        Adapters.DiasporaAdapter#deleteMany\n    \n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once items are deleted. Called with (undefined)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    deleteOne(table, queryFind [, options])\n    \n    \n    This reimplements Adapters.DiasporaAdapter#deleteOne, modified for local storage or session storage interactions.\n    \n\n\n\n    \n    \n        Delete a single entity from the local storage.\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to delete data from\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing the entity to find\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n    Overrides:\n    \n        Adapters.DiasporaAdapter#deleteOne\n    \n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once item is deleted. Called with (undefined)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    ensureCollectionExists(table)\n    \n    \n\n\n\n    \n    \n        Create the table key if it does not exist\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the table\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n\n        \n            \n\n\n    findMany(table, queryFind [, options])\n    \n    \n    At least one of findOne or findMany must be reimplemented by adapter\n    \n\n\n\n    \n    \n        Retrieve several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide findMany itself\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to retrieve data from\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing entities to find\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\tInherited From:\n\t\n\t\t\n\t\t\t\n\t\t\t\tAdapters.DiasporaAdapter#findMany\n\t\t\t\n\t\t\n\t\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once item is found. Called with (DataStoreEntity[] entities)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    findOne(table, queryFind [, options])\n    \n    \n    This reimplements Adapters.DiasporaAdapter#findOne, modified for local storage or session storage interactions.\n    \n\n\n\n    \n    \n        Retrieve a single entity from the local storage.\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the model to retrieve data from\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing the entity to find\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n    Overrides:\n    \n        Adapters.DiasporaAdapter#findOne\n    \n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once item is found. Called with (InMemoryEntity entity)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    generateUUID()\n    \n    \n\n\n\n    \n    \n        Create a new unique id for this store&#39;s entity\n    \n    \n\n    \n\n    \n\n    \n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Generated unique id\n\n\n\n\n\n    \n        Type\n    \n    \n        \nString\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    getItemName(table, id)\n    \n    \n\n\n\n    \n    \n        Deduce the item name from table name and item ID\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the table to construct name for\n        \n\n    \n\n        \n            \n                id\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Id of the item to find\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Name of the item\n\n\n\n\n\n    \n        Type\n    \n    \n        \nString\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    insertMany(table, entities)\n    \n    \n    This reimplements Adapters.DiasporaAdapter#insertMany, modified for local storage or session storage interactions.\n    \n\n\n\n    \n    \n        Insert several entities in the local storage.\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the table to insert data in\n        \n\n    \n\n        \n            \n                entities\n            \n\n            \n            \n                \nArray.&amp;lt;Object&gt;\n\n\n\n            \n            \n\n            \n\n            \n\n            Array of hashes representing entities to insert\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n    Overrides:\n    \n        Adapters.DiasporaAdapter#insertMany\n    \n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once insertion is done. Called with (LocalStorageEntity[] entities)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    insertOne(table, entity)\n    \n    \n    This reimplements Adapters.DiasporaAdapter#insertOne, modified for local storage or session storage interactions.\n    \n\n\n\n    \n    \n        Insert a single entity in the local storage.\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the table to insert data in\n        \n\n    \n\n        \n            \n                entity\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Hash representing the entity to insert\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n    Overrides:\n    \n        Adapters.DiasporaAdapter#insertOne\n    \n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once insertion is done. Called with (LocalStorageEntity entity)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    remapInput(table, query)\n    \n    \n\n\n\n    \n    \n        TODO\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the table for which we remap\n        \n\n    \n\n        \n            \n                query\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Hash representing the entity to remap\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\tInherited From:\n\t\n\t\t\n\t\t\t\n\t\t\t\tAdapters.DiasporaAdapter#remapInput\n\t\t\t\n\t\t\n\t\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\tSee:\n\t\n\t\t\n\t\t\tTODO remapping\n\t\t\t\n\t\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Remapped object\n\n\n\n\n\n    \n        Type\n    \n    \n        \nObject\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    remapOutput(table, query)\n    \n    \n\n\n\n    \n    \n        TODO\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the table for which we remap\n        \n\n    \n\n        \n            \n                query\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Hash representing the entity to remap\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\tInherited From:\n\t\n\t\t\n\t\t\t\n\t\t\t\tAdapters.DiasporaAdapter#remapOutput\n\t\t\t\n\t\t\n\t\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\tSee:\n\t\n\t\t\n\t\t\tTODO remapping\n\t\t\t\n\t\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Remapped object\n\n\n\n\n\n    \n        Type\n    \n    \n        \nObject\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    updateMany(table, queryFind, update [, options])\n    \n    \n    At least one of updateOne or updateMany must be reimplemented by adapter\n    \n\n\n\n    \n    \n        Update several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide updateMany itself\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to retrieve data from\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing entities to find\n        \n\n    \n\n        \n            \n                update\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Object properties to set\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\tInherited From:\n\t\n\t\t\n\t\t\t\n\t\t\t\tAdapters.DiasporaAdapter#updateMany\n\t\t\t\n\t\t\n\t\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once item is found. Called with (DataStoreEntity[] entities)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    updateOne(table, queryFind, update [, options])\n    \n    \n    This reimplements Adapters.DiasporaAdapter#updateOne, modified for local storage or session storage interactions.\n    \n\n\n\n    \n    \n        Update a single entity in the memory.\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                table\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Name of the table to update data in\n        \n\n    \n\n        \n            \n                queryFind\n            \n\n            \n            \n                \nSelectQueryOrCondition\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Hash representing the entity to find\n        \n\n    \n\n        \n            \n                update\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n                \n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                \n            \n\n            Object properties to set\n        \n\n    \n\n        \n            \n                options\n            \n\n            \n            \n                \nQueryOptions\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Hash of options.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n    Overrides:\n    \n        Adapters.DiasporaAdapter#updateOne\n    \n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved once update is done. Called with (LocalStorageEntity entity)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    waitReady()\n    \n    \n\n\n\n    \n    \n        Returns a promise resolved once adapter state is ready\n    \n    \n\n    \n\n    \n\n    \n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\tInherited From:\n\t\n\t\t\n\t\t\t\n\t\t\t\tAdapters.DiasporaAdapter#waitReady\n\t\t\t\n\t\t\n\t\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Promise resolved when adapter is ready, and rejected if an error occured\n\n\n\n\n\n    \n        Type\n    \n    \n        \nPromise\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n    \n\n    \n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Namespace: Adapters",
		 "url"     : "jsdoc/Adapters.html",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t&lt;h1 class=&quot;page-title&quot;&gt;Namespace: Adapters&lt;/h1&gt;\n&lt;section&gt;\n\n&lt;header&gt;\n    \n        &lt;h2&gt;\n        Adapters\n        &lt;/h2&gt;\n        \n    \n&lt;/header&gt;\n\n\n&lt;article&gt;\n    &lt;div class=&quot;container-overview&quot;&gt;\n    \n        \n\n        \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n        \n    \n    &lt;/div&gt;\n\n    \n\n    \n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Classes&lt;/h3&gt;\n\n        &lt;dl&gt;\n            &lt;dt&gt;&lt;a href=&quot;Adapters.DiasporaAdapter.html&quot;&gt;DiasporaAdapter&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;Adapters.InMemoryDiasporaAdapter.html&quot;&gt;InMemoryDiasporaAdapter&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;Adapters.LocalStorageDiasporaAdapter.html&quot;&gt;LocalStorageDiasporaAdapter&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        &lt;/dl&gt;\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/article&gt;\n\n&lt;/section&gt;\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:18+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\tNamespace: Adapters\n\n\n\n    \n        \n        Adapters\n        \n        \n    \n\n\n\n\n    \n    \n        \n\n        \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n        \n    \n    \n\n    \n\n    \n\n    \n        Classes\n\n        \n            DiasporaAdapter\n            \n        \n            InMemoryDiasporaAdapter\n            \n        \n            LocalStorageDiasporaAdapter\n            \n        \n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:18+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Namespace: ConstrainedTypes",
		 "url"     : "jsdoc/ConstrainedTypes.html",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t&lt;h1 class=&quot;page-title&quot;&gt;Namespace: ConstrainedTypes&lt;/h1&gt;\n&lt;section&gt;\n\n&lt;header&gt;\n    \n        &lt;h2&gt;\n        ConstrainedTypes\n        &lt;/h2&gt;\n        \n    \n&lt;/header&gt;\n\n\n&lt;article&gt;\n    &lt;div class=&quot;container-overview&quot;&gt;\n    \n        \n            &lt;div class=&quot;description&quot;&gt;&lt;p&gt;Namespace for types with constraints, like &lt;code&gt;[0, Infinity]&lt;/code&gt;, &lt;code&gt;]0, Infinity[&lt;/code&gt;, etc etc&lt;/p&gt;&lt;/div&gt;\n        \n\n        \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n        \n    \n    &lt;/div&gt;\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Type Definitions&lt;/h3&gt;\n\n        &lt;dl&gt;\n                \n&lt;hr&gt;\n&lt;dt class=&quot;name&quot; id=&quot;.AbsInt&quot;&gt;\n    &lt;h4 id=&quot;.AbsInt&quot;&gt;AbsInt&lt;/h4&gt;\n\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Integer above 0&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n        &lt;h5&gt;Type:&lt;/h5&gt;\n        &lt;ul&gt;\n            &lt;li&gt;\n                \n&lt;span class=&quot;param-type&quot;&gt;Integer&lt;/span&gt;\n\n\n\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n&lt;/dd&gt;\n\n            \n                \n&lt;hr&gt;\n&lt;dt class=&quot;name&quot; id=&quot;.AbsInt0&quot;&gt;\n    &lt;h4 id=&quot;.AbsInt0&quot;&gt;AbsInt0&lt;/h4&gt;\n\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Integer equal or above 0&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n        &lt;h5&gt;Type:&lt;/h5&gt;\n        &lt;ul&gt;\n            &lt;li&gt;\n                \n&lt;span class=&quot;param-type&quot;&gt;Integer&lt;/span&gt;\n\n\n\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n&lt;/dd&gt;\n\n            \n                \n&lt;hr&gt;\n&lt;dt class=&quot;name&quot; id=&quot;.AbsIntInf&quot;&gt;\n    &lt;h4 id=&quot;.AbsIntInf&quot;&gt;AbsIntInf&lt;/h4&gt;\n\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Integer above 0, may be integer&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n        &lt;h5&gt;Type:&lt;/h5&gt;\n        &lt;ul&gt;\n            &lt;li&gt;\n                \n&lt;span class=&quot;param-type&quot;&gt;Integer&lt;/span&gt;\n\n\n\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n&lt;/dd&gt;\n\n            \n                \n&lt;hr&gt;\n&lt;dt class=&quot;name&quot; id=&quot;.AbsIntInf0&quot;&gt;\n    &lt;h4 id=&quot;.AbsIntInf0&quot;&gt;AbsIntInf0&lt;/h4&gt;\n\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Integer equal or above 0, may be integer&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n        &lt;h5&gt;Type:&lt;/h5&gt;\n        &lt;ul&gt;\n            &lt;li&gt;\n                \n&lt;span class=&quot;param-type&quot;&gt;Integer&lt;/span&gt;\n\n\n\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n&lt;/dd&gt;\n\n            &lt;/dl&gt;\n    \n\n    \n&lt;/article&gt;\n\n&lt;/section&gt;\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\tNamespace: ConstrainedTypes\n\n\n\n    \n        \n        ConstrainedTypes\n        \n        \n    \n\n\n\n\n    \n    \n        \n            Namespace for types with constraints, like [0, Infinity], ]0, Infinity[, etc etc\n        \n\n        \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n        \n    \n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n        Type Definitions\n\n        \n                \n\n\n    AbsInt\n\n    \n\n\n    \n    \n        Integer above 0\n    \n    \n\n    \n        Type:\n        \n            \n                \nInteger\n\n\n\n            \n        \n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n\n            \n                \n\n\n    AbsInt0\n\n    \n\n\n    \n    \n        Integer equal or above 0\n    \n    \n\n    \n        Type:\n        \n            \n                \nInteger\n\n\n\n            \n        \n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n\n            \n                \n\n\n    AbsIntInf\n\n    \n\n\n    \n    \n        Integer above 0, may be integer\n    \n    \n\n    \n        Type:\n        \n            \n                \nInteger\n\n\n\n            \n        \n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n\n            \n                \n\n\n    AbsIntInf0\n\n    \n\n\n    \n    \n        Integer equal or above 0, may be integer\n    \n    \n\n    \n        Type:\n        \n            \n                \nInteger\n\n\n\n            \n        \n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n\n            \n    \n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Class: DataStoreEntity",
		 "url"     : "jsdoc/DataStoreEntities.DataStoreEntity.html",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t&lt;h1 class=&quot;page-title&quot;&gt;Class: DataStoreEntity&lt;/h1&gt;\n&lt;section&gt;\n\n&lt;header&gt;\n    \n        &lt;h2&gt;\n            &lt;span class=&quot;ancestors&quot;&gt;&lt;a href=&quot;DataStoreEntities.html&quot;&gt;DataStoreEntities&lt;/a&gt;.&lt;/span&gt;\n        \n        DataStoreEntity\n        &lt;/h2&gt;\n        \n            &lt;div class=&quot;class-description&quot;&gt;&lt;p&gt;DataStoreEntity is the sub-entity reflecting a single source content. Values may differ from the Entity itself&lt;/p&gt;&lt;/div&gt;\n        \n    \n&lt;/header&gt;\n\n\n&lt;article&gt;\n    &lt;div class=&quot;container-overview&quot;&gt;\n    \n        \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;DataStoreEntity&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;new DataStoreEntity(source)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;source&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash containing properties to copy in this entity&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/dd&gt;\n\n    \n    &lt;/div&gt;\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/article&gt;\n\n&lt;/section&gt;\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\tClass: DataStoreEntity\n\n\n\n    \n        \n            DataStoreEntities.\n        \n        DataStoreEntity\n        \n        \n            DataStoreEntity is the sub-entity reflecting a single source content. Values may differ from the Entity itself\n        \n    \n\n\n\n\n    \n    \n        \n\n\n    new DataStoreEntity(source)\n    \n    \n\n\n\n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                source\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Hash containing properties to copy in this entity\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n\n    \n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Class: InMemoryEntity",
		 "url"     : "jsdoc/DataStoreEntities.InMemoryEntity.html",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t&lt;h1 class=&quot;page-title&quot;&gt;Class: InMemoryEntity&lt;/h1&gt;\n&lt;section&gt;\n\n&lt;header&gt;\n    \n        &lt;h2&gt;\n            &lt;span class=&quot;ancestors&quot;&gt;&lt;a href=&quot;DataStoreEntities.html&quot;&gt;DataStoreEntities&lt;/a&gt;.&lt;/span&gt;\n        \n        InMemoryEntity\n        &lt;/h2&gt;\n        \n            &lt;div class=&quot;class-description&quot;&gt;&lt;p&gt;Entity stored in the in-memory adapter.&lt;/p&gt;&lt;/div&gt;\n        \n    \n&lt;/header&gt;\n\n\n&lt;article&gt;\n    &lt;div class=&quot;container-overview&quot;&gt;\n    \n        \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;InMemoryEntity&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;new InMemoryEntity(source)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;source&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash containing properties to copy in this entity&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/dd&gt;\n\n    \n    &lt;/div&gt;\n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Extends&lt;/h3&gt;\n\n        \n\n\n    &lt;ul&gt;\n        &lt;li&gt;DataStoreEntity&lt;/li&gt;\n    &lt;/ul&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/article&gt;\n\n&lt;/section&gt;\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\tClass: InMemoryEntity\n\n\n\n    \n        \n            DataStoreEntities.\n        \n        InMemoryEntity\n        \n        \n            Entity stored in the in-memory adapter.\n        \n    \n\n\n\n\n    \n    \n        \n\n\n    new InMemoryEntity(source)\n    \n    \n\n\n\n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                source\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Hash containing properties to copy in this entity\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n\n    \n    \n\n    \n        Extends\n\n        \n\n\n    \n        DataStoreEntity\n    \n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Class: LocalStorageEntity",
		 "url"     : "jsdoc/DataStoreEntities.LocalStorageEntity.html",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t&lt;h1 class=&quot;page-title&quot;&gt;Class: LocalStorageEntity&lt;/h1&gt;\n&lt;section&gt;\n\n&lt;header&gt;\n    \n        &lt;h2&gt;\n            &lt;span class=&quot;ancestors&quot;&gt;&lt;a href=&quot;DataStoreEntities.html&quot;&gt;DataStoreEntities&lt;/a&gt;.&lt;/span&gt;\n        \n        LocalStorageEntity\n        &lt;/h2&gt;\n        \n            &lt;div class=&quot;class-description&quot;&gt;&lt;p&gt;Entity stored in the local storage adapter.&lt;/p&gt;&lt;/div&gt;\n        \n    \n&lt;/header&gt;\n\n\n&lt;article&gt;\n    &lt;div class=&quot;container-overview&quot;&gt;\n    \n        \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;LocalStorageEntity&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;new LocalStorageEntity(source)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;source&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash containing properties to copy in this entity&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/dd&gt;\n\n    \n    &lt;/div&gt;\n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Extends&lt;/h3&gt;\n\n        \n\n\n    &lt;ul&gt;\n        &lt;li&gt;DataStoreEntity&lt;/li&gt;\n    &lt;/ul&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/article&gt;\n\n&lt;/section&gt;\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\tClass: LocalStorageEntity\n\n\n\n    \n        \n            DataStoreEntities.\n        \n        LocalStorageEntity\n        \n        \n            Entity stored in the local storage adapter.\n        \n    \n\n\n\n\n    \n    \n        \n\n\n    new LocalStorageEntity(source)\n    \n    \n\n\n\n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                source\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Hash containing properties to copy in this entity\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n\n    \n    \n\n    \n        Extends\n\n        \n\n\n    \n        DataStoreEntity\n    \n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Namespace: DataStoreEntities",
		 "url"     : "jsdoc/DataStoreEntities.html",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t&lt;h1 class=&quot;page-title&quot;&gt;Namespace: DataStoreEntities&lt;/h1&gt;\n&lt;section&gt;\n\n&lt;header&gt;\n    \n        &lt;h2&gt;\n        DataStoreEntities\n        &lt;/h2&gt;\n        \n    \n&lt;/header&gt;\n\n\n&lt;article&gt;\n    &lt;div class=&quot;container-overview&quot;&gt;\n    \n        \n\n        \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n        \n    \n    &lt;/div&gt;\n\n    \n\n    \n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Classes&lt;/h3&gt;\n\n        &lt;dl&gt;\n            &lt;dt&gt;&lt;a href=&quot;DataStoreEntities.DataStoreEntity.html&quot;&gt;DataStoreEntity&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;DataStoreEntities.InMemoryEntity.html&quot;&gt;InMemoryEntity&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;DataStoreEntities.LocalStorageEntity.html&quot;&gt;LocalStorageEntity&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        &lt;/dl&gt;\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/article&gt;\n\n&lt;/section&gt;\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\tNamespace: DataStoreEntities\n\n\n\n    \n        \n        DataStoreEntities\n        \n        \n    \n\n\n\n\n    \n    \n        \n\n        \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n        \n    \n    \n\n    \n\n    \n\n    \n        Classes\n\n        \n            DataStoreEntity\n            \n        \n            InMemoryEntity\n            \n        \n            LocalStorageEntity\n            \n        \n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Namespace: Diaspora",
		 "url"     : "jsdoc/Diaspora.html",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t&lt;h1 class=&quot;page-title&quot;&gt;Namespace: Diaspora&lt;/h1&gt;\n&lt;section&gt;\n\n&lt;header&gt;\n    \n        &lt;h2&gt;\n        Diaspora\n        &lt;/h2&gt;\n        \n    \n&lt;/header&gt;\n\n\n&lt;article&gt;\n    &lt;div class=&quot;container-overview&quot;&gt;\n    \n        \n            &lt;div class=&quot;description&quot;&gt;&lt;p&gt;Diaspora main namespace&lt;/p&gt;&lt;/div&gt;\n        \n\n        \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n        \n    \n    &lt;/div&gt;\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Methods&lt;/h3&gt;\n\n        &lt;dl&gt;\n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;.check&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&amp;lt;static&gt; &lt;/span&gt;check(entity, modelDesc)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Check if the value matches the field description provided, thus verify if it is valid&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;entity&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Entity to check&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;modelDesc&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;module:ModelExtension.ModelPrototype&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Model description&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Array of errors&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Array.&amp;lt;Error&gt;&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;.checkField&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&amp;lt;static&gt; &lt;/span&gt;checkField(value, fieldDesc, keys)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Check if the value matches the field description provided, thus verify if it is valid&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;value&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Any&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Value to check&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;fieldDesc&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;module:ModelExtension.FieldDescriptor&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Description of the field to check with&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;keys&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Array.&amp;lt;String&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Array of keys from highest ancestor to this property&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Array of errors&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Array.&amp;lt;Error&gt;&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;.declareModel&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&amp;lt;static&gt; &lt;/span&gt;declareModel(moduleName, name, modelDesc)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Create a new Model with provided description&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;moduleName&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Module declaring this datasource. Modules requiring the provided dataSource will be able to use this dataSource using the &lt;code&gt;name&lt;/code&gt; provided&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;name&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name associated with this datasource&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;modelDesc&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Description of the model to define&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Throws:&lt;/h5&gt;\n    \n            \n\n&lt;dl&gt;\n    &lt;dt&gt;\n        &lt;div class=&quot;param-desc&quot;&gt;\n        &lt;p&gt;Thrown if parameters are incorrect&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/dt&gt;\n    &lt;dt&gt;\n        &lt;dl&gt;\n            &lt;dt&gt;\n                Type\n            &lt;/dt&gt;\n            &lt;dd&gt;\n                \n&lt;span class=&quot;param-type&quot;&gt;Error&lt;/span&gt;\n\n\n\n            &lt;/dd&gt;\n        &lt;/dl&gt;\n    &lt;/dt&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;.default&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&amp;lt;static&gt; &lt;/span&gt;default(entity, modelDesc)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Set default values if required&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;entity&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Entity to set defaults in&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;modelDesc&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;module:ModelExtension.ModelPrototype&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Model description&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Entity merged with default values&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;.defaultField&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&amp;lt;static&gt; &lt;/span&gt;defaultField(value, fieldDesc)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Set the default on a single field according to its description&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;value&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Any&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Value to default&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;fieldDesc&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;module:ModelExtension.FieldDescriptor&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Description of the field to default&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Defaulted value&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Any&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;.registerDataSource&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&amp;lt;static&gt; &lt;/span&gt;registerDataSource(moduleName, name, dataSource)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Stores the data source with provided label&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;moduleName&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Module declaring this datasource. Modules requiring the provided dataSource will be able to use this dataSource using the &lt;code&gt;name&lt;/code&gt; provided&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;name&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name associated with this datasource&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;dataSource&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;&lt;a href=&quot;DiasporaAdapter.html&quot;&gt;DiasporaAdapter&lt;/a&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Datasource itself&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Throws:&lt;/h5&gt;\n    \n            \n\n&lt;dl&gt;\n    &lt;dt&gt;\n        &lt;div class=&quot;param-desc&quot;&gt;\n        &lt;p&gt;Error is thrown if parameters are incorrect or the name is already used or &lt;code&gt;dataSource&lt;/code&gt; is not an adapter.&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/dt&gt;\n    &lt;dt&gt;\n        &lt;dl&gt;\n            &lt;dt&gt;\n                Type\n            &lt;/dt&gt;\n            &lt;dd&gt;\n                \n&lt;span class=&quot;param-type&quot;&gt;Error&lt;/span&gt;\n\n\n\n            &lt;/dd&gt;\n        &lt;/dl&gt;\n    &lt;/dt&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;~cloneKeysAdd&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&amp;lt;private, inner&gt; &lt;/span&gt;cloneKeysAdd(keys, newKey)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Clone keys array and add the provided value&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;keys&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Array.&amp;lt;String&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Array of keys to this point.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;newKey&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;New key value.&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Clone of &lt;code&gt;keys&lt;/code&gt; with &lt;code&gt;newKey&lt;/code&gt; added at the end&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Array.&amp;lt;String&gt;&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        &lt;/dl&gt;\n    \n\n    \n\n    \n&lt;/article&gt;\n\n&lt;/section&gt;\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\tNamespace: Diaspora\n\n\n\n    \n        \n        Diaspora\n        \n        \n    \n\n\n\n\n    \n    \n        \n            Diaspora main namespace\n        \n\n        \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n        \n    \n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n        Methods\n\n        \n            \n\n\n    &amp;lt;static&gt; check(entity, modelDesc)\n    \n    \n\n\n\n    \n    \n        Check if the value matches the field description provided, thus verify if it is valid\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                entity\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Entity to check\n        \n\n    \n\n        \n            \n                modelDesc\n            \n\n            \n            \n                \nmodule:ModelExtension.ModelPrototype\n\n\n\n            \n            \n\n            \n\n            \n\n            Model description\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Array of errors\n\n\n\n\n\n    \n        Type\n    \n    \n        \nArray.&amp;lt;Error&gt;\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    &amp;lt;static&gt; checkField(value, fieldDesc, keys)\n    \n    \n\n\n\n    \n    \n        Check if the value matches the field description provided, thus verify if it is valid\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                value\n            \n\n            \n            \n                \nAny\n\n\n\n            \n            \n\n            \n\n            \n\n            Value to check\n        \n\n    \n\n        \n            \n                fieldDesc\n            \n\n            \n            \n                \nmodule:ModelExtension.FieldDescriptor\n\n\n\n            \n            \n\n            \n\n            \n\n            Description of the field to check with\n        \n\n    \n\n        \n            \n                keys\n            \n\n            \n            \n                \nArray.&amp;lt;String&gt;\n\n\n\n            \n            \n\n            \n\n            \n\n            Array of keys from highest ancestor to this property\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Array of errors\n\n\n\n\n\n    \n        Type\n    \n    \n        \nArray.&amp;lt;Error&gt;\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    &amp;lt;static&gt; declareModel(moduleName, name, modelDesc)\n    \n    \n\n\n\n    \n    \n        Create a new Model with provided description\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                moduleName\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Module declaring this datasource. Modules requiring the provided dataSource will be able to use this dataSource using the name provided\n        \n\n    \n\n        \n            \n                name\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name associated with this datasource\n        \n\n    \n\n        \n            \n                modelDesc\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Description of the model to define\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n    Throws:\n    \n            \n\n\n    \n        \n        Thrown if parameters are incorrect\n        \n    \n    \n        \n            \n                Type\n            \n            \n                \nError\n\n\n\n            \n        \n    \n\n\n\n        \n\n    \n\n    \n\n\n        \n            \n\n\n    &amp;lt;static&gt; default(entity, modelDesc)\n    \n    \n\n\n\n    \n    \n        Set default values if required\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                entity\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Entity to set defaults in\n        \n\n    \n\n        \n            \n                modelDesc\n            \n\n            \n            \n                \nmodule:ModelExtension.ModelPrototype\n\n\n\n            \n            \n\n            \n\n            \n\n            Model description\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Entity merged with default values\n\n\n\n\n\n    \n        Type\n    \n    \n        \nObject\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    &amp;lt;static&gt; defaultField(value, fieldDesc)\n    \n    \n\n\n\n    \n    \n        Set the default on a single field according to its description\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                value\n            \n\n            \n            \n                \nAny\n\n\n\n            \n            \n\n            \n\n            \n\n            Value to default\n        \n\n    \n\n        \n            \n                fieldDesc\n            \n\n            \n            \n                \nmodule:ModelExtension.FieldDescriptor\n\n\n\n            \n            \n\n            \n\n            \n\n            Description of the field to default\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Defaulted value\n\n\n\n\n\n    \n        Type\n    \n    \n        \nAny\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n            \n\n\n    &amp;lt;static&gt; registerDataSource(moduleName, name, dataSource)\n    \n    \n\n\n\n    \n    \n        Stores the data source with provided label\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                moduleName\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Module declaring this datasource. Modules requiring the provided dataSource will be able to use this dataSource using the name provided\n        \n\n    \n\n        \n            \n                name\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name associated with this datasource\n        \n\n    \n\n        \n            \n                dataSource\n            \n\n            \n            \n                \nDiasporaAdapter\n\n\n\n            \n            \n\n            \n\n            \n\n            Datasource itself\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n    Throws:\n    \n            \n\n\n    \n        \n        Error is thrown if parameters are incorrect or the name is already used or dataSource is not an adapter.\n        \n    \n    \n        \n            \n                Type\n            \n            \n                \nError\n\n\n\n            \n        \n    \n\n\n\n        \n\n    \n\n    \n\n\n        \n            \n\n\n    &amp;lt;private, inner&gt; cloneKeysAdd(keys, newKey)\n    \n    \n\n\n\n    \n    \n        Clone keys array and add the provided value\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                keys\n            \n\n            \n            \n                \nArray.&amp;lt;String&gt;\n\n\n\n            \n            \n\n            \n\n            \n\n            Array of keys to this point.\n        \n\n    \n\n        \n            \n                newKey\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            New key value.\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n    Returns:\n    \n            \n\n    Clone of keys with newKey added at the end\n\n\n\n\n\n    \n        Type\n    \n    \n        \nArray.&amp;lt;String&gt;\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n    \n\n    \n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Class: Entity",
		 "url"     : "jsdoc/Entity.html",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t&lt;h1 class=&quot;page-title&quot;&gt;Class: Entity&lt;/h1&gt;\n&lt;section&gt;\n\n&lt;header&gt;\n    \n        &lt;h2&gt;\n        Entity\n        &lt;/h2&gt;\n        \n            &lt;div class=&quot;class-description&quot;&gt;&lt;p&gt;An entity is a document in the population of all your datas of the same type&lt;/p&gt;&lt;/div&gt;\n        \n    \n&lt;/header&gt;\n\n\n&lt;article&gt;\n    &lt;div class=&quot;container-overview&quot;&gt;\n    \n        \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;Entity&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;new Entity(source)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Create a new entity&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;source&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash with properties to copy on the new object&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/dd&gt;\n\n    \n    &lt;/div&gt;\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Members&lt;/h3&gt;\n\n        &lt;dl&gt;\n            \n&lt;hr&gt;\n&lt;dt class=&quot;name&quot; id=&quot;.model&quot;&gt;\n    &lt;h4 id=&quot;.model&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&amp;lt;static&gt; &lt;/span&gt;model&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;&lt;/h4&gt;\n\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n    \n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n    &lt;h5 class=&quot;subsection-title&quot;&gt;Properties:&lt;/h5&gt;\n\n    &lt;dl&gt;\n\n&lt;table class=&quot;props table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;model&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;&lt;a href=&quot;Model.html&quot;&gt;Model&lt;/a&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Reference to this entity&#39;s model&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/dl&gt;\n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n&lt;/dd&gt;\n\n        \n            \n&lt;hr&gt;\n&lt;dt class=&quot;name&quot; id=&quot;.name&quot;&gt;\n    &lt;h4 id=&quot;.name&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&amp;lt;static&gt; &lt;/span&gt;name&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;&lt;/h4&gt;\n\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n    \n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n    &lt;h5 class=&quot;subsection-title&quot;&gt;Properties:&lt;/h5&gt;\n\n    &lt;dl&gt;\n\n&lt;table class=&quot;props table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;name&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the class&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/dl&gt;\n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n&lt;/dd&gt;\n\n        &lt;/dl&gt;\n    \n\n    \n\n    \n\n    \n&lt;/article&gt;\n\n&lt;/section&gt;\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\tClass: Entity\n\n\n\n    \n        \n        Entity\n        \n        \n            An entity is a document in the population of all your datas of the same type\n        \n    \n\n\n\n\n    \n    \n        \n\n\n    new Entity(source)\n    \n    \n\n\n\n    \n    \n        Create a new entity\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                source\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n\n            \n\n            Hash with properties to copy on the new object\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n\n    \n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n        Members\n\n        \n            \n\n\n    &amp;lt;static&gt; model\n\n    \n\n\n    \n\n    \n\n    \n\n    \n\n    Properties:\n\n    \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                model\n            \n\n            \n            \n                \nModel\n\n\n\n            \n            \n\n            \n\n            \n\n            Reference to this entity&#39;s model\n        \n\n    \n    \n\n\n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n\n        \n            \n\n\n    &amp;lt;static&gt; name\n\n    \n\n\n    \n\n    \n\n    \n\n    \n\n    Properties:\n\n    \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                name\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the class\n        \n\n    \n    \n\n\n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n\n        \n    \n\n    \n\n    \n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Gruntfile.js",
		 "url"     : "docco/Gruntfile.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;Gruntfile.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;Gruntfile.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;summary&quot;&gt;&lt;p&gt;global module: false&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;&lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;chalk&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;path&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;gruntInit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-3&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-3&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Project configuration.&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;baseDocPath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;site&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;doccoPath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;baseDocPath&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;/docco`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;jsdocPath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;baseDocPath&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;/jsdoc`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;jsAssets&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;cm&quot;&gt;/*[&amp;#39;lib/adapters/baseAdapter.js&amp;#39;] ||*/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;Gruntfile.js&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;diaspora.js&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;lib/**/*.js&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;!node_modules/**/*&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;    &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;jsFilesWTests&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;jsAssets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;test/**/*.js&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;    &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;initConfig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;pkg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;readJSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;package.json&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;eslint&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;&amp;#39;stylish&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//&amp;#39;node_modules/eslint-tap&amp;#39;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;fix&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;        &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;configFile&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;eslint-es6-node.json&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;silent&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;jsFilesWTests&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-40&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;strict&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-41&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-42&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;nx&quot;&gt;jsFilesWTests&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-43&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-44&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-45&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;docco_husky&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-46&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-47&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expand&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-48&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;nx&quot;&gt;jsFilesWTests&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-49&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-50&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;output_dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;nx&quot;&gt;doccoPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-51&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;project_name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Diaspora&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-52&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;template_dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;node_modules/diaspora_doc/docco&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-53&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;readme&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;       &lt;span class=&quot;s1&quot;&gt;&amp;#39;README-docco.md&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-54&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-55&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;jsdoc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-56&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;nx&quot;&gt;jsAssets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-57&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-58&quot;&gt;                &lt;span class=&quot;kr&quot;&gt;private&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-59&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;destination&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;jsdocPath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-60&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;      &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;baseDocPath&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;/jsdoc.json`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-61&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;template&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;s1&quot;&gt;&amp;#39;node_modules/diaspora_doc/jsdoc&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-62&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;readme&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;      &lt;span class=&quot;s1&quot;&gt;&amp;#39;README-jsdoc.md&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-63&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-64&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-65&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;browserify&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-66&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-67&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;browserifyOptions&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-68&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;standalone&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Diaspora&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-69&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-70&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-71&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;standalone&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-72&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;diaspora.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-73&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-74&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;lodash&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-75&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-76&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;_&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-77&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-78&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bluebird&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-79&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-80&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Promise&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-81&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-82&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;check-types&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-83&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-84&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;c&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-85&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-86&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sequential-event&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-87&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;entry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-88&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expose&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;SequentialEvent&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-89&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-90&quot;&gt;                &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-91&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;dest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;build/standalone/src/diaspora.js&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;   \n&lt;/span&gt;&lt;span id=&quot;line-92&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-93&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;isolated&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-94&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-95&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;external&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;lodash&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bluebird&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;check-types&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sequential-event&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-96&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-97&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;diaspora.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-98&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;dest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;build/isolated/src/diaspora.js&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-99&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-100&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-101&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;babel&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-102&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-103&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;sourceMap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-104&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;presets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;es2015&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-105&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-106&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;standalone&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-107&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-108&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expand&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-109&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;cwd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;s1&quot;&gt;&amp;#39;build/standalone/src&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-110&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;diaspora.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-111&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;dest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;s1&quot;&gt;&amp;#39;build/standalone/dist&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-112&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;ext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;s1&quot;&gt;&amp;#39;.js&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-113&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-114&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-115&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;isolated&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-116&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-117&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expand&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-118&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;cwd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;s1&quot;&gt;&amp;#39;build/isolated/src&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-119&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;diaspora.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-120&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;dest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;s1&quot;&gt;&amp;#39;build/isolated/dist&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-121&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;ext&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;s1&quot;&gt;&amp;#39;.js&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-122&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-123&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-124&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-125&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;uglify&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-126&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-127&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;banner&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;s1&quot;&gt;&amp;#39;/*! &amp;lt;%= pkg.name %&amp;gt; build on &amp;lt;%= grunt.template.today(&amp;quot;yyyy-mm-dd hh:MM:ss&amp;quot;) %&amp;gt; for v&amp;lt;%= pkg.version %&amp;gt; */&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-128&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;sourceMap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-129&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-130&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;comments&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;some&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-131&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-132&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-133&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;standalone&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-134&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-135&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expand&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-136&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;build/standalone/dist/diaspora.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-137&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;dest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-138&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;rename&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dst&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dst&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/\\.js$/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.min.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-139&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-140&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-141&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;isolated&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-142&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-143&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expand&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-144&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;build/isolated/dist/diaspora.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-145&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;dest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-146&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;rename&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dst&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dst&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/\\.js$/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.min.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-147&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-148&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-149&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-150&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;copy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-151&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;diaspora_to_docs_site&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-152&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-153&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expand&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-154&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;cwd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;s1&quot;&gt;&amp;#39;./build/standalone/dist/&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-155&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./diaspora*.js*&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-156&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;dest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;baseDocPath&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;/assets/js/`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-157&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-158&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-159&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-160&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-161&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-4&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-4&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;summary&quot;&gt;&lt;p&gt;markdown: {&lt;br /&gt;\n            index: {&lt;br /&gt;\n                files: [&lt;br /&gt;\n                    {&lt;br /&gt;\n                        src:  &#39;README.md&#39;,&lt;br /&gt;\n                        dest: &#39;docs/index.html&#39;,&lt;br /&gt;\n                        ext:  &#39;.html&#39;,&lt;br /&gt;\n                    },&lt;br /&gt;\n                ],&lt;br /&gt;\n                options: {&lt;br /&gt;\n                    templateContext:    {},&lt;br /&gt;\n                    contextBinder:      false,&lt;br /&gt;\n                    contextBinderMark:  &#39;@@@&#39;,&lt;br /&gt;\n                    autoTemplate:       true,&lt;br /&gt;\n                    autoTemplateFormat: &#39;jst&#39;,&lt;br /&gt;\n                    markdownOptions:    {&lt;br /&gt;\n                        gfm:       true,&lt;br /&gt;\n                        highlight: &#39;manual&#39;,&lt;br /&gt;\n                        codeLines: {&lt;br /&gt;\n                            before: &#39;&lt;span&gt;&#39;,&lt;br /&gt;\n                            after:  &#39;&lt;/span&gt;&#39;,&lt;br /&gt;\n                        },&lt;br /&gt;\n                    },&lt;br /&gt;\n                },&lt;br /&gt;\n            },&lt;br /&gt;\n        },&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-162&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-163&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-164&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;loadNpmTasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;grunt-jsdoc&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-165&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;loadNpmTasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;grunt-docco-husky&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-166&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;loadNpmTasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;grunt-markdown&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-167&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;loadNpmTasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;gruntify-eslint&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-168&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;loadNpmTasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;grunt-changed&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-169&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;loadNpmTasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;grunt-browserify&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-170&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;loadNpmTasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;grunt-contrib-uglify&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-171&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;loadNpmTasks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;grunt-contrib-copy&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-172&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-173&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;load-grunt-tasks&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-174&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-175&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;registerTask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;documentate&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-176&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;lint&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-177&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;jsdoc&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-178&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;docco_husky&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-179&quot;&gt;    &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-180&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;registerTask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;refreshScripts&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-181&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;lint&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-182&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;buildStandalone&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-183&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;buildIsolated&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-184&quot;&gt;    &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-185&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;registerTask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;buildStandalone&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-186&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;browserify:standalone&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-187&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;babel:standalone&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-188&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;uglify:standalone&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-189&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;copy:diaspora_to_docs_site&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-190&quot;&gt;    &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-191&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;registerTask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;buildIsolated&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-192&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;browserify:isolated&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-193&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;babel:isolated&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-194&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;uglify:isolated&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-195&quot;&gt;    &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-196&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;registerTask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;lint&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-197&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;eslint:info&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-198&quot;&gt;    &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-199&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;grunt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;registerTask&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;all&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-200&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;refreshScripts&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-201&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;documentate&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-202&quot;&gt;    &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-203&quot;&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "Gruntfile.jsGruntfile.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\n\n&amp;#182;global module: false\nrequire( &amp;#39;chalk&amp;#39; );\nconst path = require( &amp;#39;path&amp;#39; );\n\nmodule.exports = function gruntInit( grunt ) {\n\n&amp;#182;Project configuration.\n    const baseDocPath = &amp;#39;site&amp;#39;;\n    const doccoPath = `${ baseDocPath }/docco`;\n    const jsdocPath = `${ baseDocPath }/jsdoc`;\n    const jsAssets = /*[&amp;#39;lib/adapters/baseAdapter.js&amp;#39;] ||*/ [\n        &amp;#39;Gruntfile.js&amp;#39;,\n        &amp;#39;diaspora.js&amp;#39;,\n        &amp;#39;lib/**/*.js&amp;#39;,\n        &amp;#39;!node_modules/**/*&amp;#39;,\n    ];\n    const jsFilesWTests = jsAssets.concat([\n        &amp;#39;test/**/*.js&amp;#39;,\n    ]);\n\n    grunt.initConfig({\n        pkg:    grunt.file.readJSON( &amp;#39;package.json&amp;#39; ),\n        eslint: {\n            options: {\n                format:     &amp;#39;stylish&amp;#39;, //&amp;#39;node_modules/eslint-tap&amp;#39;,\n                fix:        true,\n                configFile: &amp;#39;eslint-es6-node.json&amp;#39;,\n            },\n            info: {\n                options: {\n                    silent: true,\n                },\n                src: jsFilesWTests,\n            },\n            strict: {\n                options: {},\n                src:     jsFilesWTests,\n            },\n        },\n        docco_husky: {\n            files: {\n                expand: true,\n                src:    jsFilesWTests,\n            },\n            output_dir:   doccoPath,\n            project_name: &amp;#39;Diaspora&amp;#39;,\n            template_dir: &amp;#39;node_modules/diaspora_doc/docco&amp;#39;,\n            readme:       &amp;#39;README-docco.md&amp;#39;,\n        },\n        jsdoc: {\n            src:     jsAssets,\n            options: {\n                private:     true,\n                destination: jsdocPath,\n                config:      `${ baseDocPath }/jsdoc.json`, \n                template:    &amp;#39;node_modules/diaspora_doc/jsdoc&amp;#39;,\n                readme:      &amp;#39;README-jsdoc.md&amp;#39;,\n            },\n        },\n        browserify: {\n            options: {\n                browserifyOptions: {\n                    standalone: &amp;#39;Diaspora&amp;#39;,\n                },\n            },\n            standalone: {\n                src:     [ &amp;#39;diaspora.js&amp;#39; ],\n                require: [\n                    [ &amp;#39;lodash&amp;#39;, {\n                        entry:  true,\n                        expose: &amp;#39;_&amp;#39;,\n                    }],\n                    [ &amp;#39;bluebird&amp;#39;, {\n                        entry:  true,\n                        expose: &amp;#39;Promise&amp;#39;,\n                    }],\n                    [ &amp;#39;check-types&amp;#39;, {\n                        entry:  true,\n                        expose: &amp;#39;c&amp;#39;,\n                    }],\n                    [ &amp;#39;sequential-event&amp;#39;, {\n                        entry:  true,\n                        expose: &amp;#39;SequentialEvent&amp;#39;,\n                    }],\n                ],\n                dest: &amp;#39;build/standalone/src/diaspora.js&amp;#39;,   \n            },\n            isolated: {\n                options: {\n                    external: [ &amp;#39;lodash&amp;#39;, &amp;#39;bluebird&amp;#39;, &amp;#39;check-types&amp;#39;, &amp;#39;sequential-event&amp;#39; ],\n                },\n                src:  [ &amp;#39;diaspora.js&amp;#39; ],\n                dest: &amp;#39;build/isolated/src/diaspora.js&amp;#39;, \n            },\n        },\n        babel: {\n            options: {\n                sourceMap: true,\n                presets:   [ &amp;#39;es2015&amp;#39; ],\n            },\n            standalone: {\n                files: [{\n                    expand: true,\n                    cwd:    &amp;#39;build/standalone/src&amp;#39;,\n                    src:    [ &amp;#39;diaspora.js&amp;#39; ],\n                    dest:   &amp;#39;build/standalone/dist&amp;#39;,\n                    ext:    &amp;#39;.js&amp;#39;,\n                }],\n            },\n            isolated: {\n                files: [{\n                    expand: true,\n                    cwd:    &amp;#39;build/isolated/src&amp;#39;,\n                    src:    [ &amp;#39;diaspora.js&amp;#39; ],\n                    dest:   &amp;#39;build/isolated/dist&amp;#39;,\n                    ext:    &amp;#39;.js&amp;#39;,\n                }],\n            },\n        },\n        uglify: {\n            options: {\n                banner:    &amp;#39;/*! &amp;lt;%= pkg.name %&amp;gt; build on &amp;lt;%= grunt.template.today(&amp;quot;yyyy-mm-dd hh:MM:ss&amp;quot;) %&amp;gt; for v&amp;lt;%= pkg.version %&amp;gt; */&amp;#39;,\n                sourceMap: true,\n                output:    {\n                    comments: &amp;#39;some&amp;#39;,\n                },\n            },\n            standalone: {\n                files: [{\n                    expand: true,\n                    src:    [ &amp;#39;build/standalone/dist/diaspora.js&amp;#39; ],\n                    dest:     &amp;#39;.&amp;#39;,\n                    rename: ( dst, src ) =&amp;gt; path.resolve( dst, src.replace( /\\.js$/, &amp;#39;.min.js&amp;#39; )),\n                }],\n            },\n            isolated: {\n                files: [{\n                    expand: true,\n                    src:    [ &amp;#39;build/isolated/dist/diaspora.js&amp;#39; ],\n                    dest:     &amp;#39;.&amp;#39;,\n                    rename: ( dst, src ) =&amp;gt; path.resolve( dst, src.replace( /\\.js$/, &amp;#39;.min.js&amp;#39; )),\n                }],\n            },\n        },\n        copy: {\n            diaspora_to_docs_site: {\n                files: [{\n                    expand: true,\n                    cwd:    &amp;#39;./build/standalone/dist/&amp;#39;,\n                    src:    [ &amp;#39;./diaspora*.js*&amp;#39; ],\n                    dest:   `${ baseDocPath }/assets/js/`,\n                }],\n            },\n        },\n\n&amp;#182;markdown: {\n            index: {\n                files: [\n                    {\n                        src:  &#39;README.md&#39;,\n                        dest: &#39;docs/index.html&#39;,\n                        ext:  &#39;.html&#39;,\n                    },\n                ],\n                options: {\n                    templateContext:    {},\n                    contextBinder:      false,\n                    contextBinderMark:  &#39;@@@&#39;,\n                    autoTemplate:       true,\n                    autoTemplateFormat: &#39;jst&#39;,\n                    markdownOptions:    {\n                        gfm:       true,\n                        highlight: &#39;manual&#39;,\n                        codeLines: {\n                            before: &#39;&#39;,\n                            after:  &#39;&#39;,\n                        },\n                    },\n                },\n            },\n        },    });\n\n    grunt.loadNpmTasks( &amp;#39;grunt-jsdoc&amp;#39; );\n    grunt.loadNpmTasks( &amp;#39;grunt-docco-husky&amp;#39; );\n    grunt.loadNpmTasks( &amp;#39;grunt-markdown&amp;#39; );\n    grunt.loadNpmTasks( &amp;#39;gruntify-eslint&amp;#39; );\n    grunt.loadNpmTasks( &amp;#39;grunt-changed&amp;#39; );\n    grunt.loadNpmTasks( &amp;#39;grunt-browserify&amp;#39; );\n    grunt.loadNpmTasks( &amp;#39;grunt-contrib-uglify&amp;#39; );\n    grunt.loadNpmTasks( &amp;#39;grunt-contrib-copy&amp;#39; );\n\n    require( &amp;#39;load-grunt-tasks&amp;#39; )( grunt );\n\n    grunt.registerTask( &amp;#39;documentate&amp;#39;, [\n        &amp;#39;lint&amp;#39;,\n        &amp;#39;jsdoc&amp;#39;,\n        &amp;#39;docco_husky&amp;#39;,\n    ]);\n    grunt.registerTask( &amp;#39;refreshScripts&amp;#39;, [\n        &amp;#39;lint&amp;#39;,\n        &amp;#39;buildStandalone&amp;#39;,\n        &amp;#39;buildIsolated&amp;#39;,\n    ]);\n    grunt.registerTask( &amp;#39;buildStandalone&amp;#39;, [\n        &amp;#39;browserify:standalone&amp;#39;,\n        &amp;#39;babel:standalone&amp;#39;,\n        &amp;#39;uglify:standalone&amp;#39;,\n        &amp;#39;copy:diaspora_to_docs_site&amp;#39;,\n    ]);\n    grunt.registerTask( &amp;#39;buildIsolated&amp;#39;, [\n        &amp;#39;browserify:isolated&amp;#39;,\n        &amp;#39;babel:isolated&amp;#39;,\n        &amp;#39;uglify:isolated&amp;#39;,\n    ]);\n    grunt.registerTask( &amp;#39;lint&amp;#39;, [\n        &amp;#39;eslint:info&amp;#39;,\n    ]);\n    grunt.registerTask( &amp;#39;all&amp;#39;, [\n        &amp;#39;refreshScripts&amp;#39;,\n        &amp;#39;documentate&amp;#39;,\n    ]);\n};\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Class: Model",
		 "url"     : "jsdoc/Model.html",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t&lt;h1 class=&quot;page-title&quot;&gt;Class: Model&lt;/h1&gt;\n&lt;section&gt;\n\n&lt;header&gt;\n    \n        &lt;h2&gt;\n        Model\n        &lt;/h2&gt;\n        \n            &lt;div class=&quot;class-description&quot;&gt;&lt;p&gt;The model class is used to interact with the population of all data of the same type.&lt;/p&gt;&lt;/div&gt;\n        \n    \n&lt;/header&gt;\n\n\n&lt;article&gt;\n    &lt;div class=&quot;container-overview&quot;&gt;\n    \n        \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;Model&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;new Model(namespace, namespace, modelDesc)&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Construct a new model.&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;namespace&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Namespace of the model. This may be used for scope or inheriting mechanisms&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;namespace&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Name of the model&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;modelDesc&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;ModelDescription&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Hash representing the configuration of the model&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/dd&gt;\n\n    \n    &lt;/div&gt;\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/article&gt;\n\n&lt;/section&gt;\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\tClass: Model\n\n\n\n    \n        \n        Model\n        \n        \n            The model class is used to interact with the population of all data of the same type.\n        \n    \n\n\n\n\n    \n    \n        \n\n\n    new Model(namespace, namespace, modelDesc)\n    \n    \n\n\n\n    \n    \n        Construct a new model.\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                namespace\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Namespace of the model. This may be used for scope or inheriting mechanisms\n        \n\n    \n\n        \n            \n                namespace\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            Name of the model\n        \n\n    \n\n        \n            \n                modelDesc\n            \n\n            \n            \n                \nModelDescription\n\n\n\n            \n            \n\n            \n\n            \n\n            Hash representing the configuration of the model\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n\n    \n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Namespace: QueryLanguage",
		 "url"     : "jsdoc/QueryLanguage.html",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t&lt;h1 class=&quot;page-title&quot;&gt;Namespace: QueryLanguage&lt;/h1&gt;\n&lt;section&gt;\n\n&lt;header&gt;\n    \n        &lt;h2&gt;\n        QueryLanguage\n        &lt;/h2&gt;\n        \n    \n&lt;/header&gt;\n\n\n&lt;article&gt;\n    &lt;div class=&quot;container-overview&quot;&gt;\n    \n        \n\n        \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n        \n    \n    &lt;/div&gt;\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Type Definitions&lt;/h3&gt;\n\n        &lt;dl&gt;\n                \n&lt;hr&gt;\n&lt;dt class=&quot;name&quot; id=&quot;QueryOptions&quot;&gt;\n    &lt;h4 id=&quot;QueryOptions&quot;&gt;QueryOptions&lt;/h4&gt;\n\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;All properties are optional&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n        &lt;h5&gt;Type:&lt;/h5&gt;\n        &lt;ul&gt;\n            &lt;li&gt;\n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n    &lt;h5 class=&quot;subsection-title&quot;&gt;Properties:&lt;/h5&gt;\n\n    &lt;dl&gt;\n\n&lt;table class=&quot;props table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;skip&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;&lt;a href=&quot;ConstrainedTypes.html#.AbsInt0&quot;&gt;ConstrainedTypes.AbsInt0&lt;/a&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    0\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Number of items to skip&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;limit&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;&lt;a href=&quot;ConstrainedTypes.html#.AbsIntInf0&quot;&gt;ConstrainedTypes.AbsIntInf0&lt;/a&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    Infinity\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Number of items to get&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;page&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;&lt;a href=&quot;ConstrainedTypes.html#.AbsInt0&quot;&gt;ConstrainedTypes.AbsInt0&lt;/a&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;To use with &lt;code&gt;limit&lt;/code&gt; and without &lt;code&gt;skip&lt;/code&gt;. Skips &lt;code&gt;page&lt;/code&gt; pages of &lt;code&gt;limit&lt;/code&gt; elements&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;remapInput&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Boolean&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    true\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Flag indicating if adapter input should be remapped or not. TODO Remapping doc&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;remapOutput&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Boolean&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    true\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Flag indicating if adapter output should be remapped or not. TODO Remapping doc&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/dl&gt;\n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n&lt;/dd&gt;\n\n            \n                \n&lt;hr&gt;\n&lt;dt class=&quot;name&quot; id=&quot;SelectQuery&quot;&gt;\n    &lt;h4 id=&quot;SelectQuery&quot;&gt;SelectQuery&lt;/h4&gt;\n\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n    \n\n    \n        &lt;h5&gt;Type:&lt;/h5&gt;\n        &lt;ul&gt;\n            &lt;li&gt;\n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n    &lt;h5 class=&quot;subsection-title&quot;&gt;Properties:&lt;/h5&gt;\n\n    &lt;dl&gt;\n\n&lt;table class=&quot;props table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;*&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Any&lt;/span&gt;\n|\n\n&lt;span class=&quot;param-type&quot;&gt;SelectQueryCondition&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Fields to search. If not providing an object, find items with a property value that equals this value&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/dl&gt;\n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n&lt;/dd&gt;\n\n            \n                \n&lt;hr&gt;\n&lt;dt class=&quot;name&quot; id=&quot;SelectQueryCondition&quot;&gt;\n    &lt;h4 id=&quot;SelectQueryCondition&quot;&gt;SelectQueryCondition&lt;/h4&gt;\n\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;By default, all conditions in a single SelectQueryCondition are combined with an &lt;code&gt;AND&lt;/code&gt; operator&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n        &lt;h5&gt;Type:&lt;/h5&gt;\n        &lt;ul&gt;\n            &lt;li&gt;\n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n    &lt;h5 class=&quot;subsection-title&quot;&gt;Properties:&lt;/h5&gt;\n\n    &lt;dl&gt;\n\n&lt;table class=&quot;props table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;$equals&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Any&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Match if item value is equal to this. Objects and array are compared deeply. &lt;strong&gt;Alias: &lt;code&gt;==&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;$diff&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Any&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Match if item value is different to this. Objects and array are compared deeply. &lt;strong&gt;Alias: &lt;code&gt;!=&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;$exists&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Boolean&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;If &lt;code&gt;true&lt;/code&gt;, match items where this prop is defined. If &lt;code&gt;false&lt;/code&gt;, match when prop is null or not set. &lt;strong&gt;Alias: &lt;code&gt;~&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;$less&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Integer&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Match if item value is less than this. &lt;strong&gt;Alias: &lt;code&gt;&amp;lt;&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;$lessEqual&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Integer&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Match if item value is less than this or equals to this. &lt;strong&gt;Alias: &lt;code&gt;&amp;lt;=&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;$greater&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Integer&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Match if item value is greater than this. &lt;strong&gt;Alias: &lt;code&gt;&amp;gt;&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;$greaterEqual&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Integer&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Match if item value is greater than this or equals to this. &lt;strong&gt;Alias: &lt;code&gt;&amp;gt;=&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;$or&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Array.&amp;lt;&lt;a href=&quot;QueryLanguage.html#SelectQueryOrCondition&quot;&gt;QueryLanguage#SelectQueryOrCondition&lt;/a&gt;&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Match if &lt;em&gt;one of&lt;/em&gt; the conditions in the array is true. &lt;strong&gt;Alias: &lt;code&gt;||&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;$and&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Array.&amp;lt;&lt;a href=&quot;QueryLanguage.html#SelectQueryOrCondition&quot;&gt;QueryLanguage#SelectQueryOrCondition&lt;/a&gt;&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Match if &lt;em&gt;all&lt;/em&gt; the conditions in the array are true. Optional, because several conditions in a single SelectQueryCondition are combined with an &lt;code&gt;AND&lt;/code&gt; operator. &lt;strong&gt;Alias: &lt;code&gt;&amp;amp;&amp;amp;&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;$xor&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Array.&amp;lt;&lt;a href=&quot;QueryLanguage.html#SelectQueryOrCondition&quot;&gt;QueryLanguage#SelectQueryOrCondition&lt;/a&gt;&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Match if &lt;em&gt;a single&lt;/em&gt; of the conditions in the array is true. &lt;strong&gt;Alias: &lt;code&gt;^^&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;$not&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;&lt;a href=&quot;QueryLanguage.html#SelectQueryOrCondition&quot;&gt;QueryLanguage#SelectQueryOrCondition&lt;/a&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Invert the condition &lt;strong&gt;Alias: &lt;code&gt;!&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;$contains&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;String&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;On &lt;em&gt;string&lt;/em&gt;, it will check if query is included in item using GLOB. &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;$contains&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;&lt;a href=&quot;QueryLanguage.html#SelectQueryOrCondition&quot;&gt;QueryLanguage#SelectQueryOrCondition&lt;/a&gt;&lt;/span&gt;\n|\n\n&lt;span class=&quot;param-type&quot;&gt;Any&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;On &lt;em&gt;array&lt;/em&gt;, it will check if item contains the query. &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;$in&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Array.&amp;lt;Any&gt;&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Check if item value is contained (using deep comparaison) in query. &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/dl&gt;\n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n&lt;/dd&gt;\n\n            \n                \n&lt;hr&gt;\n&lt;dt class=&quot;name&quot; id=&quot;SelectQueryOrCondition&quot;&gt;\n    &lt;h4 id=&quot;SelectQueryOrCondition&quot;&gt;SelectQueryOrCondition&lt;/h4&gt;\n\n    \n&lt;/dt&gt;\n&lt;dd&gt;\n    \n\n    \n        &lt;h5&gt;Type:&lt;/h5&gt;\n        &lt;ul&gt;\n            &lt;li&gt;\n                \n&lt;span class=&quot;param-type&quot;&gt;&lt;a href=&quot;QueryLanguage.html#SelectQuery&quot;&gt;QueryLanguage#SelectQuery&lt;/a&gt;&lt;/span&gt;\n|\n\n&lt;span class=&quot;param-type&quot;&gt;&lt;a href=&quot;QueryLanguage.html#SelectQueryCondition&quot;&gt;QueryLanguage#SelectQueryCondition&lt;/a&gt;&lt;/span&gt;\n\n\n\n            &lt;/li&gt;\n        &lt;/ul&gt;\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\t&lt;dt class=&quot;tag-author method-doc-label method-doc-details-label&quot;&gt;Author:&lt;/dt&gt;\n\t&lt;dd class=&quot;tag-author&quot;&gt;\n\t\t&lt;ul&gt;\n\t\t\t&lt;li&gt;gerkin&lt;/li&gt;\n\t\t\t&lt;/ul&gt;\n\t&lt;/dd&gt;\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n&lt;/dd&gt;\n\n            &lt;/dl&gt;\n    \n\n    \n&lt;/article&gt;\n\n&lt;/section&gt;\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\tNamespace: QueryLanguage\n\n\n\n    \n        \n        QueryLanguage\n        \n        \n    \n\n\n\n\n    \n    \n        \n\n        \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n        \n    \n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n        Type Definitions\n\n        \n                \n\n\n    QueryOptions\n\n    \n\n\n    \n    \n        All properties are optional\n    \n    \n\n    \n        Type:\n        \n            \n                \nObject\n\n\n\n            \n        \n    \n\n    \n\n    \n\n    Properties:\n\n    \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                skip\n            \n\n            \n            \n                \nConstrainedTypes.AbsInt0\n\n\n\n            \n            \n\n            \n\n            \n                \n                \n                    0\n                \n                \n            \n\n            Number of items to skip\n        \n\n    \n\n        \n            \n                limit\n            \n\n            \n            \n                \nConstrainedTypes.AbsIntInf0\n\n\n\n            \n            \n\n            \n\n            \n                \n                \n                    Infinity\n                \n                \n            \n\n            Number of items to get\n        \n\n    \n\n        \n            \n                page\n            \n\n            \n            \n                \nConstrainedTypes.AbsInt0\n\n\n\n            \n            \n\n            \n\n            \n                \n                \n                \n            \n\n            To use with limit and without skip. Skips page pages of limit elements\n        \n\n    \n\n        \n            \n                remapInput\n            \n\n            \n            \n                \nBoolean\n\n\n\n            \n            \n\n            \n\n            \n                \n                \n                    true\n                \n                \n            \n\n            Flag indicating if adapter input should be remapped or not. TODO Remapping doc\n        \n\n    \n\n        \n            \n                remapOutput\n            \n\n            \n            \n                \nBoolean\n\n\n\n            \n            \n\n            \n\n            \n                \n                \n                    true\n                \n                \n            \n\n            Flag indicating if adapter output should be remapped or not. TODO Remapping doc\n        \n\n    \n    \n\n\n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n\n            \n                \n\n\n    SelectQuery\n\n    \n\n\n    \n\n    \n        Type:\n        \n            \n                \nObject\n\n\n\n            \n        \n    \n\n    \n\n    \n\n    Properties:\n\n    \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                *\n            \n\n            \n            \n                \nAny\n|\n\nSelectQueryCondition\n\n\n\n            \n            \n\n            \n\n            \n\n            Fields to search. If not providing an object, find items with a property value that equals this value\n        \n\n    \n    \n\n\n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n\n            \n                \n\n\n    SelectQueryCondition\n\n    \n\n\n    \n    \n        By default, all conditions in a single SelectQueryCondition are combined with an AND operator\n    \n    \n\n    \n        Type:\n        \n            \n                \nObject\n\n\n\n            \n        \n    \n\n    \n\n    \n\n    Properties:\n\n    \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                $equals\n            \n\n            \n            \n                \nAny\n\n\n\n            \n            \n\n            \n\n            \n\n            Match if item value is equal to this. Objects and array are compared deeply. Alias: ==\n        \n\n    \n\n        \n            \n                $diff\n            \n\n            \n            \n                \nAny\n\n\n\n            \n            \n\n            \n\n            \n\n            Match if item value is different to this. Objects and array are compared deeply. Alias: != NOT IMPLEMENTED YET\n        \n\n    \n\n        \n            \n                $exists\n            \n\n            \n            \n                \nBoolean\n\n\n\n            \n            \n\n            \n\n            \n\n            If true, match items where this prop is defined. If false, match when prop is null or not set. Alias: ~ NOT IMPLEMENTED YET\n        \n\n    \n\n        \n            \n                $less\n            \n\n            \n            \n                \nInteger\n\n\n\n            \n            \n\n            \n\n            \n\n            Match if item value is less than this. Alias: &amp;lt; NOT IMPLEMENTED YET\n        \n\n    \n\n        \n            \n                $lessEqual\n            \n\n            \n            \n                \nInteger\n\n\n\n            \n            \n\n            \n\n            \n\n            Match if item value is less than this or equals to this. Alias: &amp;lt;= NOT IMPLEMENTED YET\n        \n\n    \n\n        \n            \n                $greater\n            \n\n            \n            \n                \nInteger\n\n\n\n            \n            \n\n            \n\n            \n\n            Match if item value is greater than this. Alias: &amp;gt; NOT IMPLEMENTED YET\n        \n\n    \n\n        \n            \n                $greaterEqual\n            \n\n            \n            \n                \nInteger\n\n\n\n            \n            \n\n            \n\n            \n\n            Match if item value is greater than this or equals to this. Alias: &amp;gt;= NOT IMPLEMENTED YET\n        \n\n    \n\n        \n            \n                $or\n            \n\n            \n            \n                \nArray.&amp;lt;QueryLanguage#SelectQueryOrCondition&gt;\n\n\n\n            \n            \n\n            \n\n            \n\n            Match if one of the conditions in the array is true. Alias: || NOT IMPLEMENTED YET\n        \n\n    \n\n        \n            \n                $and\n            \n\n            \n            \n                \nArray.&amp;lt;QueryLanguage#SelectQueryOrCondition&gt;\n\n\n\n            \n            \n\n            \n\n            \n\n            Match if all the conditions in the array are true. Optional, because several conditions in a single SelectQueryCondition are combined with an AND operator. Alias: &amp;amp;&amp;amp; NOT IMPLEMENTED YET\n        \n\n    \n\n        \n            \n                $xor\n            \n\n            \n            \n                \nArray.&amp;lt;QueryLanguage#SelectQueryOrCondition&gt;\n\n\n\n            \n            \n\n            \n\n            \n\n            Match if a single of the conditions in the array is true. Alias: ^^ NOT IMPLEMENTED YET\n        \n\n    \n\n        \n            \n                $not\n            \n\n            \n            \n                \nQueryLanguage#SelectQueryOrCondition\n\n\n\n            \n            \n\n            \n\n            \n\n            Invert the condition Alias: ! NOT IMPLEMENTED YET\n        \n\n    \n\n        \n            \n                $contains\n            \n\n            \n            \n                \nString\n\n\n\n            \n            \n\n            \n\n            \n\n            On string, it will check if query is included in item using GLOB. NOT IMPLEMENTED YET\n        \n\n    \n\n        \n            \n                $contains\n            \n\n            \n            \n                \nQueryLanguage#SelectQueryOrCondition\n|\n\nAny\n\n\n\n            \n            \n\n            \n\n            \n\n            On array, it will check if item contains the query. NOT IMPLEMENTED YET\n        \n\n    \n\n        \n            \n                $in\n            \n\n            \n            \n                \nArray.&amp;lt;Any&gt;\n\n\n\n            \n            \n\n            \n\n            \n\n            Check if item value is contained (using deep comparaison) in query. NOT IMPLEMENTED YET\n        \n\n    \n    \n\n\n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n\n            \n                \n\n\n    SelectQueryOrCondition\n\n    \n\n\n    \n\n    \n        Type:\n        \n            \n                \nQueryLanguage#SelectQuery\n|\n\nQueryLanguage#SelectQueryCondition\n\n\n\n            \n        \n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\tAuthor:\n\t\n\t\t\n\t\t\tgerkin\n\t\t\t\n\t\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n\n            \n    \n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:19+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "app1-matchmail-simple.js",
		 "url"     : "docco/test/testApps/adapters/app1-matchmail-simple.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;app1-matchmail-simple.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;test/testApps/adapters/app1-matchmail-simple.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39; Clear old data&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deleteMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39; Insert test data&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;insertTestData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20000&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;lastWithEmail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;` Find last entity with an email (option &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;skip&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;process.exit();\n&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reject&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;loop&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;below&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Oops, we looped over data length&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assigned&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;email&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reject&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;            &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;lastCompleteItem&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-40&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;4th item has email&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-41&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;lastCompleteItem&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-42&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;lastCompleteItem&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;ip_address&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;url&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;email&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-43&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;lastWithEmail&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;lastCompleteItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-44&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-45&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-46&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39; Insert a new record based on previous&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-47&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newItem&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pick&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;lastWithEmail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;ip_address&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;email&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-48&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;newItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;/diaspora_app1&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-49&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newItem&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-50&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newItem&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-51&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-52&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-53&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-54&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ips&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;254.243.134.211&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;249.7.97.150&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;168.186.151.29&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-55&quot;&gt;    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ipRecords&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-56&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39; Get items with some test IPs&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-57&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ips&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ip&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-58&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-59&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;ip_address&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-60&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-61&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-62&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-63&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-64&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;ip_address&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ips&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-65&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-66&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-67&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;ipRecords&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;zipObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ips&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-68&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-69&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-70&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;` Update those items with email (options &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;skip&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; &amp;amp; &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;limit&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-71&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ipRecords&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ip&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-72&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;records&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ipRecords&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-73&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;emails&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;records&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;email&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-74&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;lastSyncIdx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-75&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;email&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;emails&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;compact&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-76&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;promises&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-77&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;records&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-78&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-79&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}]),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;idx&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-80&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;email&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;email&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;email&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-81&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;promises&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;updateMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-82&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;ip_address&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-83&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-84&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-85&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-86&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;nx&quot;&gt;lastSyncIdx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-87&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;idx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;lastSyncIdx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-88&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-89&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;email&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;record&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-90&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;lastSyncIdx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;idx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-91&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-92&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-93&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;promises&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-94&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-95&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;updates&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-96&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;updates&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-97&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-98&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-99&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;ip_address&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ips&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-100&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;      &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-101&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-102&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-103&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-104&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-105&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-106&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-3&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-3&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;summary&quot;&gt;&lt;p&gt;const out = l.zipObject(ips, results);&lt;br /&gt;\n            console.log(out);&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-107&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-108&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-109&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pageSize&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-110&quot;&gt;    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;page&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-111&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;` Get items without email by page of &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pageSize&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; (options &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;page&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; &amp;amp; &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;skip&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-112&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reject&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-113&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;loop&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-114&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;page&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;below&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ceil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pageSize&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Oops, we looped over data length&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-115&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-116&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-117&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-118&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-119&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-120&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pageSize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-121&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}),&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-122&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-123&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-124&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-125&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;nx&quot;&gt;page&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pageSize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-126&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pageSize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-127&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}),&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-128&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryRes&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-129&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryRes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;page&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryRes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;quot;page&amp;quot; &amp;amp; &amp;quot;skip&amp;quot; should return same data&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-130&quot;&gt;                    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryRes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-131&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-132&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-133&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;below&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pageSize&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Sets should be at most &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pageSize&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; items length`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-134&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-135&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-136&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-137&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-138&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-139&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-140&quot;&gt;            &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-141&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;loop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-142&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-143&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-144&quot;&gt;    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;allItems&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-145&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39; Find all items&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-146&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-147&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;Infinity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-148&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-149&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-150&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;allItems&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-151&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-152&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-153&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;` Delete 2 pages (options &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;page&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; &amp;amp; &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;limit&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-154&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deleteMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-155&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-156&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-157&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-158&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deleteMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-159&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-160&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-161&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-162&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-163&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-164&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;Infinity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-165&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-166&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-167&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-168&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;idxRemoved&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([]).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-169&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;times&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Number&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-170&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;times&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Number&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-171&quot;&gt;            &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-172&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pullAt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-173&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;allItems&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-174&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;idxRemoved&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-175&quot;&gt;            &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-176&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;spa&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "app1-matchmail-simple.jstest/testApps/adapters/app1-matchmail-simple.js&amp;#182;module.exports = ( adapter, data, tableName ) =&amp;gt; {\n    it( &amp;#39; Clear old data&amp;#39;, () =&amp;gt; {\n        return adapter.deleteMany( tableName, {}).then(() =&amp;gt; {\n            return adapter.findMany( tableName, {});\n        }).then( found =&amp;gt; {\n            expect( found ).to.be.a.set.of.dataStoreEntity( adapter ).that.have.lengthOf( 0 );\n            return Promise.resolve();\n        });\n    });\n    it( &amp;#39; Insert test data&amp;#39;, function insertTestData() {\n        this.timeout( 20000 );\n        return adapter.insertMany( tableName, data ).then( entities =&amp;gt; {\n            expect( entities ).to.be.a.set.of.dataStoreEntity( adapter, data ).that.have.lengthOf( data.length );\n            return Promise.resolve();\n        });\n    });\n    let lastWithEmail;\n    it( ` Find last entity with an email (option ${ chalk.bold( &amp;#39;skip&amp;#39; ) })`, () =&amp;gt; {\n\n&amp;#182;process.exit();\n        let index = 1;\n        return new Promise(( resolve, reject ) =&amp;gt; {\n            const loop = () =&amp;gt; {\n                expect( index ).to.be.below( data.length, &amp;#39;Oops, we looped over data length&amp;#39; );\n                return adapter.findOne( tableName, {}, {\n                    skip: index - 1,\n                }).then( entity =&amp;gt; {\n                    if ( !c.assigned( entity )) {\n                        return resolve();\n                    }\n                    if ( entity.hasOwnProperty( &amp;#39;email&amp;#39; )) {\n                        return resolve( entity );\n                    }\n                    index++;\n                    return loop();\n                }).catch( reject );\n            };\n            return loop();\n        }).then( lastCompleteItem =&amp;gt; {\n            expect( index ).to.be.equal( 4, &amp;#39;4th item has email&amp;#39; );\n            expect( lastCompleteItem ).to.be.a.dataStoreEntity( adapter );\n            expect( lastCompleteItem ).to.include.all.keys( &amp;#39;ip_address&amp;#39;, &amp;#39;url&amp;#39;, &amp;#39;email&amp;#39; );\n            lastWithEmail = lastCompleteItem;\n        });\n    });\n    it( &amp;#39; Insert a new record based on previous&amp;#39;, () =&amp;gt; {\n        const newItem = l.pick( lastWithEmail, [ &amp;#39;ip_address&amp;#39;, &amp;#39;email&amp;#39; ]);\n        newItem.url = &amp;#39;/diaspora_app1&amp;#39;;\n        return adapter.insertOne( tableName, newItem ).then( entity =&amp;gt; {\n            expect( entity ).to.be.a.dataStoreEntity( adapter, newItem );\n            return Promise.resolve();\n        });\n    });\n    const ips = [ &amp;#39;254.243.134.211&amp;#39;, &amp;#39;249.7.97.150&amp;#39;, &amp;#39;168.186.151.29&amp;#39; ];\n    let ipRecords = {};\n    it( &amp;#39; Get items with some test IPs&amp;#39;, () =&amp;gt; {\n        return Promise.map( ips, ip =&amp;gt; {\n            return adapter.findMany( tableName, {\n                ip_address: ip,\n            });\n        }).then( results =&amp;gt; {\n            l.forEach( results, ( set, index ) =&amp;gt; {\n                expect( set ).to.be.a.set.of.dataStoreEntity( adapter, {\n                    ip_address: ips[index],\n                });\n            });\n            ipRecords = l.zipObject( ips, results );\n        });\n    });\n    it( ` Update those items with email (options ${ chalk.bold( &amp;#39;skip&amp;#39; ) } &amp;amp; ${ chalk.bold( &amp;#39;limit&amp;#39; ) })`, () =&amp;gt; {\n        return Promise.map( l.keys( ipRecords ), ip =&amp;gt; {\n            const records = ipRecords[ip];\n            const emails = l( records ).map( &amp;#39;email&amp;#39; ).value();\n            let lastSyncIdx = 0;\n            let email = l( emails ).compact().first();\n            const promises = [];\n            l.forEach( records.concat([{\n                email: null,\n            }]), ( record, idx ) =&amp;gt; {\n                if ( record.hasOwnProperty( &amp;#39;email&amp;#39; ) &amp;amp;&amp;amp; record.email !== email ) {\n                    promises.push( adapter.updateMany( tableName, {\n                        ip_address: ip,\n                    }, {\n                        email,\n                    }, {\n                        skip:  lastSyncIdx,\n                        limit: idx - lastSyncIdx,\n                    }));\n                    email = record.email;\n                    lastSyncIdx = idx;\n                }\n            });\n            return Promise.all( promises );\n        }).then( results =&amp;gt; {\n            l.forEach( results, ( updates, index ) =&amp;gt; {\n                l.forEach( updates, update =&amp;gt; {\n                    if ( update.length &amp;gt; 0 ) {\n                        expect( update ).to.be.a.set.of.dataStoreEntity( adapter, {\n                            ip_address: ips[index],\n                            email:      update[0].email,\n                        });\n                    }\n                });\n            });\n\n&amp;#182;const out = l.zipObject(ips, results);\n            console.log(out);        });\n    });\n    const pageSize = 11;\n    let page = 0;\n    it( ` Get items without email by page of ${ pageSize } (options ${ chalk.bold( &amp;#39;page&amp;#39; ) } &amp;amp; ${ chalk.bold( &amp;#39;skip&amp;#39; ) })`, () =&amp;gt; {\n        return new Promise(( resolve, reject ) =&amp;gt; {\n            const loop = () =&amp;gt; {\n                expect( page ).to.be.below( Math.ceil( data.length / pageSize ) + 1, &amp;#39;Oops, we looped over data length&amp;#39; );\n                return Promise.props({\n                    page: adapter.findMany( tableName, {\n                        email: undefined,\n                    }, {\n                        page,\n                        limit: pageSize,\n                    }),\n                    skip: adapter.findMany( tableName, {\n                        email: undefined,\n                    }, {\n                        skip:  page * pageSize,\n                        limit: pageSize,\n                    }),\n                }).then( queryRes =&amp;gt; {\n                    expect( queryRes.page ).to.be.deep.eql( queryRes.skip, &amp;#39;&amp;quot;page&amp;quot; &amp;amp; &amp;quot;skip&amp;quot; should return same data&amp;#39; );\n                    const entities = queryRes.page;\n                    expect( entities ).to.be.a.set.of.dataStoreEntity( adapter, {\n                        email: undefined,\n                    }).that.have.lengthOf.below( pageSize + 1, `Sets should be at most ${ pageSize } items length` );\n                    if ( 0 == entities.length ) {\n                        return resolve();\n                    }\n                    page++;\n                    return loop();\n                }).catch( err =&amp;gt; reject( err ));\n            };\n            return loop();\n        });\n    });\n    let allItems;\n    it( &amp;#39; Find all items&amp;#39;, () =&amp;gt; {\n        return adapter.findMany( tableName, {}, {\n            limit: Infinity,\n        }).then( items =&amp;gt; {\n            expect( items ).to.be.a.set.of.dataStoreEntity( adapter ).that.have.lengthOf( data.length + 1 );\n            allItems = items;\n        });\n    });\n    it( ` Delete 2 pages (options ${ chalk.bold( &amp;#39;page&amp;#39; ) } &amp;amp; ${ chalk.bold( &amp;#39;limit&amp;#39; ) })`, () =&amp;gt; {\n        return adapter.deleteMany( tableName, {}, {\n            page:  3,\n            limit: 20,\n        }).then(() =&amp;gt; {\n            return adapter.deleteMany( tableName, {}, {\n                page:  2,\n                limit: 5,\n            });\n        }).then(() =&amp;gt; {\n            return adapter.findMany( tableName, {}, {\n                limit: Infinity,\n            });\n        }).then( items =&amp;gt; {\n            expect( items ).to.be.a.set.of.dataStoreEntity( adapter ).that.have.lengthOf( data.length + 1 - ( 20 + 5 ));\n            const idxRemoved = l([]).concat(\n                l.times( 5, Number ).map( v =&amp;gt; v + 10 ),\n                l.times( 20, Number ).map( v =&amp;gt; v + 60 )\n            ).value();\n            l.pullAt(\n                allItems,\n                idxRemoved\n            );\n            expect( items ).to"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "baseAdapter.js",
		 "url"     : "docco/lib/adapters/baseAdapter.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;baseAdapter.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;lib/adapters/baseAdapter.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SequentialEvent&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sequential-event&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;lodash&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bluebird&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Namespace &lt;em&gt;ConstrainedTypes&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Namespace for types with constraints, like &lt;code&gt;[0, Infinity]&lt;/code&gt;, &lt;code&gt;]0, Infinity[&lt;/code&gt;, etc etc&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-3&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-3&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Typedef &lt;em&gt;AbsInt0&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_types&quot;&gt;&lt;span&gt;Types: &lt;/span&gt;&lt;span class=&quot;dox_type type-integer&quot;&gt;Integer&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;ConstrainedTypes&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Integer equal or above 0&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-4&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-4&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Typedef &lt;em&gt;AbsInt&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_types&quot;&gt;&lt;span&gt;Types: &lt;/span&gt;&lt;span class=&quot;dox_type type-integer&quot;&gt;Integer&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;ConstrainedTypes&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Integer above 0&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-5&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-5&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Typedef &lt;em&gt;AbsIntInf&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_types&quot;&gt;&lt;span&gt;Types: &lt;/span&gt;&lt;span class=&quot;dox_type type-integer&quot;&gt;Integer&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;ConstrainedTypes&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Integer above 0, may be integer&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-6&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-6&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Typedef &lt;em&gt;AbsIntInf0&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_types&quot;&gt;&lt;span&gt;Types: &lt;/span&gt;&lt;span class=&quot;dox_type type-integer&quot;&gt;Integer&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;ConstrainedTypes&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Integer equal or above 0, may be integer&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-7&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-7&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Namespace &lt;em&gt;QueryLanguage&lt;/em&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-8&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-8&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Typedef &lt;em&gt;QueryOptions&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_types&quot;&gt;&lt;span&gt;Types: &lt;/span&gt;&lt;span class=&quot;dox_type type-object&quot;&gt;Object&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;All properties are optional&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;QueryLanguage&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Properties&lt;/div&gt;&lt;table class=&quot;dox_properties dox_tag_detail table-striped&quot;&gt;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Types&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;skip=0&lt;/td&gt;&lt;td&gt;ConstrainedTypes&lt;span class=&quot;sep&quot;&gt;.&lt;/span&gt;AbsInt0&lt;/td&gt;&lt;td&gt;&lt;p&gt;Number of items to skip&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;limit=Infinity&lt;/td&gt;&lt;td&gt;ConstrainedTypes&lt;span class=&quot;sep&quot;&gt;.&lt;/span&gt;AbsIntInf0&lt;/td&gt;&lt;td&gt;&lt;p&gt;Number of items to get&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;page&lt;/td&gt;&lt;td&gt;ConstrainedTypes&lt;span class=&quot;sep&quot;&gt;.&lt;/span&gt;AbsInt0&lt;/td&gt;&lt;td&gt;&lt;p&gt;To use with {@link QueryOptions.limit &lt;code&gt;limit&lt;/code&gt;} and without {@link QueryOptions.skip &lt;code&gt;skip&lt;/code&gt;}. Skips &lt;code&gt;page&lt;/code&gt; pages of &lt;code&gt;limit&lt;/code&gt; elements&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;remapInput=true&lt;/td&gt;&lt;td&gt;Boolean&lt;/td&gt;&lt;td&gt;&lt;p&gt;Flag indicating if adapter input should be remapped or not. TODO Remapping doc&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;remapOutput=true&lt;/td&gt;&lt;td&gt;Boolean&lt;/td&gt;&lt;td&gt;&lt;p&gt;Flag indicating if adapter output should be remapped or not. TODO Remapping doc&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-9&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-9&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Typedef &lt;em&gt;SelectQuery&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_types&quot;&gt;&lt;span&gt;Types: &lt;/span&gt;&lt;span class=&quot;dox_type type-object&quot;&gt;Object&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;QueryLanguage&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Properties&lt;/div&gt;&lt;table class=&quot;dox_properties dox_tag_detail table-striped&quot;&gt;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Types&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;*&lt;/td&gt;&lt;td&gt;Any&lt;span class=&quot;sep&quot;&gt;|&lt;/span&gt;SelectQueryCondition&lt;/td&gt;&lt;td&gt;&lt;p&gt;Fields to search. If not providing an object, find items with a property value that equals this value&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-10&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-10&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Typedef &lt;em&gt;SelectQueryCondition&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_types&quot;&gt;&lt;span&gt;Types: &lt;/span&gt;&lt;span class=&quot;dox_type type-object&quot;&gt;Object&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;By default, all conditions in a single SelectQueryCondition are combined with an &lt;code&gt;AND&lt;/code&gt; operator&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;QueryLanguage&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Properties&lt;/div&gt;&lt;table class=&quot;dox_properties dox_tag_detail table-striped&quot;&gt;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Types&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;$equals&lt;/td&gt;&lt;td&gt;Any&lt;/td&gt;&lt;td&gt;&lt;p&gt;Match if item value is equal to this. Objects and array are compared deeply. &lt;strong&gt;Alias: &lt;code&gt;==&lt;/code&gt;&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;$diff&lt;/td&gt;&lt;td&gt;Any&lt;/td&gt;&lt;td&gt;&lt;p&gt;Match if item value is different to this. Objects and array are compared deeply. &lt;strong&gt;Alias: &lt;code&gt;!=&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;$exists&lt;/td&gt;&lt;td&gt;Boolean&lt;/td&gt;&lt;td&gt;&lt;p&gt;If &lt;code&gt;true&lt;/code&gt;, match items where this prop is defined. If &lt;code&gt;false&lt;/code&gt;, match when prop is null or not set. &lt;strong&gt;Alias: &lt;code&gt;~&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;$less&lt;/td&gt;&lt;td&gt;Integer&lt;/td&gt;&lt;td&gt;&lt;p&gt;Match if item value is less than this. &lt;strong&gt;Alias: &lt;code&gt;&amp;lt;&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;$lessEqual&lt;/td&gt;&lt;td&gt;Integer&lt;/td&gt;&lt;td&gt;&lt;p&gt;Match if item value is less than this or equals to this. &lt;strong&gt;Alias: &lt;code&gt;&amp;lt;=&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;$greater&lt;/td&gt;&lt;td&gt;Integer&lt;/td&gt;&lt;td&gt;&lt;p&gt;Match if item value is greater than this. &lt;strong&gt;Alias: &lt;code&gt;&amp;gt;&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;$greaterEqual&lt;/td&gt;&lt;td&gt;Integer&lt;/td&gt;&lt;td&gt;&lt;p&gt;Match if item value is greater than this or equals to this. &lt;strong&gt;Alias: &lt;code&gt;&amp;gt;=&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;$or&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Match if &lt;em&gt;one of&lt;/em&gt; the conditions in the array is true. &lt;strong&gt;Alias: &lt;code&gt;||&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;$and&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Match if &lt;em&gt;all&lt;/em&gt; the conditions in the array are true. Optional, because several conditions in a single SelectQueryCondition are combined with an &lt;code&gt;AND&lt;/code&gt; operator. &lt;strong&gt;Alias: &lt;code&gt;&amp;amp;&amp;amp;&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;$xor&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Match if &lt;em&gt;a single&lt;/em&gt; of the conditions in the array is true. &lt;strong&gt;Alias: &lt;code&gt;^^&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;$not&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Invert the condition &lt;strong&gt;Alias: &lt;code&gt;!&lt;/code&gt;&lt;/strong&gt; &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;$contains&lt;/td&gt;&lt;td&gt;String&lt;/td&gt;&lt;td&gt;&lt;p&gt;On &lt;em&gt;string&lt;/em&gt;, it will check if query is included in item using GLOB. &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;$contains&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;On &lt;em&gt;array&lt;/em&gt;, it will check if item contains the query. &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;$in&lt;/td&gt;&lt;td&gt;Array&lt;span class=&quot;sep&quot;&gt;.&lt;/span&gt;&lt;Any&gt;&lt;/td&gt;&lt;td&gt;&lt;p&gt;Check if item value is contained (using deep comparaison) in query. &lt;strong&gt;NOT IMPLEMENTED YET&lt;/strong&gt;&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-11&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-11&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Typedef &lt;em&gt;SelectQueryOrCondition&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_types&quot;&gt;&lt;span&gt;Types: &lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;QueryLanguage&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-12&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-12&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Namespace &lt;em&gt;Adapters&lt;/em&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-40&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-41&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-42&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-13&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-13&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Class &lt;em&gt;DiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;DiasporaAdapter is the base class of adapters. Adapters are components that are in charge to interact with data sources (files, databases, etc etc) with standardized methods. You should not use this class directly: extend this class and re-implement some methods to build an adapter. See the (upcoming) tutorial section.&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;classEntity &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;DataStoreEntity&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Class used to spawn source entities&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-43&quot;&gt;&lt;span class=&quot;kr&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DiasporaAdapter&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SequentialEvent&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-44&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;classEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-45&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-46&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remaps&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-47&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remapsInverted&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-48&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filters&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-49&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;classEntity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;classEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-50&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;ready&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-51&quot;&gt;            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;ready&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-52&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-53&quot;&gt;            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-54&quot;&gt;            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-55&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-56&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-57&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-58&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;configureCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remaps&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;filters&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-59&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remaps&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remaps&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-60&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remapsInverted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;invert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remaps&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-61&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filters&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;filters&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-62&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-63&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-64&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-65&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-14&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-14&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;hr /&gt;\n\n&lt;h3&gt;Utils&lt;/h3&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-66&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-67&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;remapFields&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;invert&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-68&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keysMap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;invert&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remapsInverted&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remaps&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tableName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-69&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keysMap&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-70&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-71&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-72&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapKeys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-73&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keysMap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-74&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keysMap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-75&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-76&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-77&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-78&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-79&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-80&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-81&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-15&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-15&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;waitReady&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Returns a promise resolved once adapter state is ready&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.DiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved when adapter is ready, and rejected if an error occured&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-82&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;waitReady&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-83&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reject&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-84&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;ready&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-85&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-86&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;error&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-87&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-88&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-89&quot;&gt;            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;ready&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-90&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-91&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;on&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;error&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-92&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-93&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-94&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-95&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-96&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-97&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-98&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-16&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-16&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;remapInput&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;TODO&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.DiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;See&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;TODO remapping&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table for which we remap&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;query &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing the entity to remap&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;&lt;p&gt;Remapped object&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-99&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;remapInput&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-100&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-101&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-102&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-103&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;filtered&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapValues&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-104&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-105&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-106&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-107&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-108&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-109&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remaped&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapKeys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;filtered&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-110&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remaps&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-111&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remaps&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-112&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-113&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-114&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-115&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remaped&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-116&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-117&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-118&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-119&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-17&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-17&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;remapOutput&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;TODO&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.DiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;See&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;TODO remapping&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table for which we remap&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;query &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing the entity to remap&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;&lt;p&gt;Remapped object&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-120&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;remapOutput&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-121&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-122&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-123&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-124&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;filtered&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapValues&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-125&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-126&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filters&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-127&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-128&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-129&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-130&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remaped&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapKeys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;filtered&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-131&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remapsInverted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-132&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remapsInverted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-133&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-134&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-135&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-136&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remaped&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-137&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-138&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-139&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-140&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-18&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-18&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;entity &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Object containing attributes of the entity&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;propName &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;= &#39;id&#39; Name of the &lt;code&gt;id&lt;/code&gt; field&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;&lt;p&gt;Modified entity (for chaining)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-141&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;setIdHash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;propName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;id&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-142&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;idHash&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({},&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;idHash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-143&quot;&gt;            &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;propName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-144&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-145&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-146&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-147&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-148&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-149&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-19&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-19&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;query &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryLanguage.SelectQuery&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Query to match against&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;entity &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Entity to test&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Boolean&lt;/span&gt;&lt;span&gt;&lt;p&gt;&lt;code&gt;true&lt;/code&gt; if query matches, &lt;code&gt;false&lt;/code&gt; otherwise&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-150&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;matchEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-151&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;matchResult&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;every&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toPairs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;([&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;desc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-152&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;desc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-153&quot;&gt;                &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityVal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-154&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;every&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;operation&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-155&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;operation&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-156&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$exists&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-157&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isUndefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityVal&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-158&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-159&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-160&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$equal&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-161&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isUndefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityVal&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityVal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-162&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-163&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-164&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$diff&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-165&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isUndefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityVal&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityVal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-166&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-167&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-168&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$less&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-169&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isUndefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityVal&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityVal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-170&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-171&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-172&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$lessEqual&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-173&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isUndefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityVal&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityVal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-174&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-175&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-176&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$greater&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-177&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isUndefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityVal&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityVal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-178&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-179&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-180&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$greaterEqual&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-181&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isUndefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityVal&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityVal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-182&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-183&quot;&gt;                                       &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-184&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-185&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-186&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-187&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-188&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-189&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;matchResult&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-190&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-191&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-192&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;applyUpdateEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-193&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-194&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isUndefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-195&quot;&gt;                &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-196&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-197&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-198&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-199&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-200&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-201&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-202&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-203&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-20&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-20&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;normalizeOptions&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Transform options to their canonical form. This function must be applied before calling adapters&#39; methods&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Throws:&lt;/div&gt;&lt;div class=&quot;dox_tag_types&quot;&gt;&lt;span&gt;Type: &lt;/span&gt;&lt;span class=&quot;dox_type type-typeerror&quot;&gt;TypeError&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Thrown if an option does not have an acceptable type&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Throws:&lt;/div&gt;&lt;div class=&quot;dox_tag_types&quot;&gt;&lt;span&gt;Type: &lt;/span&gt;&lt;span class=&quot;dox_type type-referenceerror&quot;&gt;ReferenceError&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Thrown if a required option is not present&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Throws:&lt;/div&gt;&lt;div class=&quot;dox_tag_types&quot;&gt;&lt;span&gt;Type: &lt;/span&gt;&lt;span class=&quot;dox_type type-error&quot;&gt;Error&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Thrown when there isn&#39;t more precise description of the error is available (eg. when conflicts occurs)&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[opts={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Options to transform&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;&lt;p&gt;Transformed options (also called &lt;code&gt;canonical options&lt;/code&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-204&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;normalizeOptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-205&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cloneDeep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-206&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;limit&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-207&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;limitOpt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-208&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;limitOpt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-209&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;limitOpt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;limitOpt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-210&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-211&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isInteger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;limitOpt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;Infinity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;limitOpt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;limitOpt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-212&quot;&gt;                &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TypeError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Expect &amp;quot;options.limit&amp;quot; to be an integer equal to or above 0, have &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;limitOpt&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-213&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-214&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;limitOpt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-215&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-216&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;skip&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-217&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;skipOpt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-218&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;skipOpt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-219&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;skipOpt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;skipOpt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-220&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-221&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isInteger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;skipOpt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;skipOpt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;isFinite&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;skipOpt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-222&quot;&gt;                &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TypeError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Expect &amp;quot;options.skip&amp;quot; to be a finite integer equal to or above 0, have &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;skipOpt&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-223&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-224&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;skipOpt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-225&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-226&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;page&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-227&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;limit&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-228&quot;&gt;                &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ReferenceError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Usage of &amp;quot;options.page&amp;quot; requires &amp;quot;options.limit&amp;quot; to be defined.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-229&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-230&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;isFinite&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-231&quot;&gt;                &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ReferenceError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Usage of &amp;quot;options.page&amp;quot; requires &amp;quot;options.limit&amp;quot; to not be infinite&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-232&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-233&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;skip&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-234&quot;&gt;                &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Use either &amp;quot;options.page&amp;quot; or &amp;quot;options.skip&amp;quot;&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-235&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-236&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pageOpt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-237&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pageOpt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-238&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;pageOpt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;parseInt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pageOpt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-239&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-240&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isInteger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pageOpt&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pageOpt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-241&quot;&gt;                &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TypeError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Expect &amp;quot;options.page&amp;quot; to be an integer equal to or above 0, have &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pageOpt&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-242&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-243&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pageOpt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-244&quot;&gt;            &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-245&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-246&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;defaults&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-247&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;        &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-248&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;remapInput&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-249&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;remapOutput&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-250&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-251&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-252&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-253&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-254&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;normalizeQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;originalQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-255&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;canonicalOperations&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-256&quot;&gt;            &lt;span class=&quot;s1&quot;&gt;&amp;#39;~&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;s1&quot;&gt;&amp;#39;$exists&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-257&quot;&gt;            &lt;span class=&quot;s1&quot;&gt;&amp;#39;==&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$equal&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-258&quot;&gt;            &lt;span class=&quot;s1&quot;&gt;&amp;#39;!=&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$diff&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-259&quot;&gt;            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;s1&quot;&gt;&amp;#39;$less&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-260&quot;&gt;            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;=&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$lessEqual&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-261&quot;&gt;            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;s1&quot;&gt;&amp;#39;$greater&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-262&quot;&gt;            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;=&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$greaterEqual&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-263&quot;&gt;        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-264&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;normalizedQuery&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remapInput&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cloneDeep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;originalQuery&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapValues&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-265&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrSearch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrSearch&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-266&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrSearch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-267&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-268&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;$equal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-269&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-270&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-271&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-272&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-273&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-274&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-275&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-276&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-277&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-21&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-21&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Replace operations alias by canonical expressions&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-278&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;canonicalOperations&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;canon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-279&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-280&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-22&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-22&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;If the currently checked alias is in the search hash...&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-281&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-282&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-283&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-23&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-23&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;... check for conflict with canonical operation name...&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-284&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;canon&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-285&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Search can&amp;#39;t have both &amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;alias&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&amp;quot; and &amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;canon&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&amp;quot; keys, as they are synonyms`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-286&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-287&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-288&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-24&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-24&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;... and replace alias by canonical&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-289&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;attrSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;canon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;alias&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-290&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;alias&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-291&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-292&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-293&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-294&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-295&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-25&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-25&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;For arithmetic comparison, check if values are numeric (TODO later: support date)&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-296&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$less&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$lessEqual&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$greater&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$greaterEqual&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;operation&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-297&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;operation&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNumber&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;operation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-298&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TypeError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Expect &amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;operation&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&amp;quot; in &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrSearch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; to be a numeric value`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-299&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-300&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-301&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attrSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-302&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-303&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cloneDeep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;originalQuery&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-304&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;normalizedQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-305&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-306&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-307&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-308&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-26&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-26&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;hr /&gt;\n\n&lt;h3&gt;Insert&lt;/h3&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-309&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-310&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-311&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-27&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-27&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;insertOne&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;At least one of {@link insertOne} or {@link insertMany} must be reimplemented by adapter&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Insert a single entity in the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;insertOne&lt;/code&gt; itself&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.DiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to insert data in&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;entity &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing the entity to insert&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once insertion is done. Called with (&lt;em&gt;{@link DataStoreEntity}&lt;/em&gt; entity)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-312&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;insertOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-313&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-314&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-315&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-316&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-317&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-28&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-28&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;insertMany&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;At least one of {@link insertOne} or {@link insertMany} must be reimplemented by adapter&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Insert several entities in the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;insertMany&lt;/code&gt; itself&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.DiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to insert data in&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;entities &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Array.&amp;lt;Object&amp;gt;&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Array of hashs representing the entities to insert&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once insertion is done. Called with (&lt;em&gt;{@link DataStoreEntity}[]&lt;/em&gt; entities)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-318&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;insertMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-319&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapSeries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-320&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-321&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-322&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-323&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-29&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-29&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;hr /&gt;\n\n&lt;h3&gt;Find&lt;/h3&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-324&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-325&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-326&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-30&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-30&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;findOne&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;At least one of {@link findOne} or {@link findMany} must be reimplemented by adapter&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Retrieve a single entity from the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;findOne&lt;/code&gt; itself&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.DiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to retrieve data from&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;queryFind &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing the entity to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[options={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryOptions&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash of options.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;{@link DataStoreEntity}&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-327&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-328&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-329&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-330&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-331&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-332&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-333&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-31&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-31&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;findMany&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;At least one of {@link findOne} or {@link findMany} must be reimplemented by adapter&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Retrieve several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;findMany&lt;/code&gt; itself&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.DiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to retrieve data from&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;queryFind &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing entities to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[options={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryOptions&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash of options.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;{@link DataStoreEntity}[]&lt;/em&gt; &lt;code&gt;entities&lt;/code&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-334&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-335&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-336&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;normalizeOptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-337&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundCount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-338&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;origSkip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-339&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-340&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-341&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-32&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-32&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;We are going to loop until we find enough items&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-342&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;loopFind&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-343&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-344&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-33&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-33&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;If the search returned nothing, then just finish the findMany&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-345&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-346&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-347&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-348&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-34&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-34&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Else, if this is a value and not the initial &lt;code&gt;true&lt;/code&gt;, add it to the list&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-349&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-350&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-351&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-352&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-353&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-35&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-35&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;If we found enough items, return them&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-354&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundCount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-355&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-356&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-357&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;origSkip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundCount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-358&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-359&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-36&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-36&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Next time we&#39;ll skip 1 more item&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-360&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;foundCount&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-361&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-362&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-37&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-37&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Do the query &amp;amp; loop&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-363&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;loopFind&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-364&quot;&gt;        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-365&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;loopFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-366&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-367&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-368&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-369&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-38&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-38&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;hr /&gt;\n\n&lt;h3&gt;Update&lt;/h3&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-370&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-371&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-372&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-39&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-39&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;updateOne&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;At least one of {@link updateOne} or {@link updateMany} must be reimplemented by adapter&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Update a single entity from the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;updateOne&lt;/code&gt; itself&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.DiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to retrieve data from&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;queryFind &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing the entity to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;update &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Object properties to set&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[options={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryOptions&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash of options.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;{@link DataStoreEntity}&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-373&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;updateOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-374&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-375&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;updateMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-376&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-377&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-378&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-379&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-40&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-40&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;updateMany&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;At least one of {@link updateOne} or {@link updateMany} must be reimplemented by adapter&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Update several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;updateMany&lt;/code&gt; itself&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.DiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to retrieve data from&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;queryFind &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing entities to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;update &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Object properties to set&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[options={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryOptions&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash of options.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;{@link DataStoreEntity}[]&lt;/em&gt; &lt;code&gt;entities&lt;/code&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-380&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;updateMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-381&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-382&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-383&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-384&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-385&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-41&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-41&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;We are going to loop until we find enough items&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-386&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;loopFind&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-387&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-388&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-42&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-42&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;If the search returned nothing, then just finish the findMany&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-389&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-390&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-391&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-392&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-43&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-43&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Else, if this is a value and not the initial &lt;code&gt;true&lt;/code&gt;, add it to the list&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-393&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-394&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-395&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-396&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-397&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-44&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-44&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;If we found enough items, return them&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-398&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-399&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-400&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-401&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-402&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-403&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-45&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-45&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Next time we&#39;ll skip 1 more item&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-404&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-405&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-406&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-46&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-46&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Do the query &amp;amp; loop&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-407&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;updateOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;loopFind&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-408&quot;&gt;        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-409&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;loopFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-410&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-411&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-412&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-413&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-47&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-47&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;hr /&gt;\n\n&lt;h3&gt;Delete&lt;/h3&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-414&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-415&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-416&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-48&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-48&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;deleteOne&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;At least one of {@link deleteOne} or {@link deleteMany} must be reimplemented by adapter&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Update a single entity from the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;deleteOne&lt;/code&gt; itself&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.DiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to delete data from&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;queryFind &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing the entities to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[options={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryOptions&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash of options.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;{@link DataStoreEntity}&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-417&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;deleteOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-418&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-419&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deleteMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-420&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-421&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-422&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-423&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-49&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-49&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;deleteMany&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;At least one of {@link deleteOne} or {@link deleteMany} must be reimplemented by adapter&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Update several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide &lt;code&gt;deleteMany&lt;/code&gt; itself&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.DiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to delete data from&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;queryFind &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing the entities to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[options={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryOptions&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash of options.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;{@link DataStoreEntity}[]&lt;/em&gt; &lt;code&gt;entities&lt;/code&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-424&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;deleteMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-425&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-426&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-427&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-428&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-50&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-50&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;We are going to loop until we find enough items&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-429&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;loopFind&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-430&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-431&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-51&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-51&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;First, search for the item.&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-432&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-433&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-434&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-52&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-52&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;If the search returned nothing, then just finish the findMany&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-435&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;found&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-436&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-437&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-438&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-53&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-53&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Else, if this is a value and not the initial &lt;code&gt;true&lt;/code&gt;, add it to the list&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-439&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-440&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-441&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-54&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-54&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;If we found enough items, return them&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-442&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-443&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-444&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-445&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-446&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-55&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-55&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Increase our counter&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-447&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-448&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-449&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-56&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-56&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Do the deletion &amp;amp; loop&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-450&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deleteOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;loopFind&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-451&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-452&quot;&gt;        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-453&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;loopFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-454&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-455&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-456&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-457&quot;&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DiasporaAdapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "baseAdapter.jslib/adapters/baseAdapter.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\nconst SequentialEvent = require( &amp;#39;sequential-event&amp;#39; );\nconst _ = require( &amp;#39;lodash&amp;#39; );\nconst Promise = require( &amp;#39;bluebird&amp;#39; );\n\n\n\n&amp;#182;Namespace ConstrainedTypesDescription:Namespace for types with constraints, like [0, Infinity], ]0, Infinity[, etc etc\n\n&amp;#182;Typedef AbsInt0Types: IntegerIn: ConstrainedTypesDescription:Integer equal or above 0\n\n&amp;#182;Typedef AbsIntTypes: IntegerIn: ConstrainedTypesDescription:Integer above 0\n\n&amp;#182;Typedef AbsIntInfTypes: IntegerIn: ConstrainedTypesDescription:Integer above 0, may be integer\n\n&amp;#182;Typedef AbsIntInf0Types: IntegerIn: ConstrainedTypesDescription:Integer equal or above 0, may be integer\n\n&amp;#182;Namespace QueryLanguage\n\n&amp;#182;Typedef QueryOptionsTypes: ObjectDescription:All properties are optionalIn: QueryLanguageScope: instancepublicPropertiesNameTypesDescriptionskip=0ConstrainedTypes.AbsInt0Number of items to skiplimit=InfinityConstrainedTypes.AbsIntInf0Number of items to getpageConstrainedTypes.AbsInt0To use with {@link QueryOptions.limit limit} and without {@link QueryOptions.skip skip}. Skips page pages of limit elementsremapInput=trueBooleanFlag indicating if adapter input should be remapped or not. TODO Remapping docremapOutput=trueBooleanFlag indicating if adapter output should be remapped or not. TODO Remapping docAuthor\n\n&amp;#182;Typedef SelectQueryTypes: ObjectIn: QueryLanguageScope: instancepublicPropertiesNameTypesDescription*Any|SelectQueryConditionFields to search. If not providing an object, find items with a property value that equals this valueAuthor\n\n&amp;#182;Typedef SelectQueryConditionTypes: ObjectDescription:By default, all conditions in a single SelectQueryCondition are combined with an AND operatorIn: QueryLanguageScope: instancepublicPropertiesNameTypesDescription$equalsAnyMatch if item value is equal to this. Objects and array are compared deeply. Alias: ==$diffAnyMatch if item value is different to this. Objects and array are compared deeply. Alias: != NOT IMPLEMENTED YET$existsBooleanIf true, match items where this prop is defined. If false, match when prop is null or not set. Alias: ~ NOT IMPLEMENTED YET$lessIntegerMatch if item value is less than this. Alias: &amp;lt; NOT IMPLEMENTED YET$lessEqualIntegerMatch if item value is less than this or equals to this. Alias: &amp;lt;= NOT IMPLEMENTED YET$greaterIntegerMatch if item value is greater than this. Alias: &amp;gt; NOT IMPLEMENTED YET$greaterEqualIntegerMatch if item value is greater than this or equals to this. Alias: &amp;gt;= NOT IMPLEMENTED YET$orMatch if one of the conditions in the array is true. Alias: || NOT IMPLEMENTED YET$andMatch if all the conditions in the array are true. Optional, because several conditions in a single SelectQueryCondition are combined with an AND operator. Alias: &amp;amp;&amp;amp; NOT IMPLEMENTED YET$xorMatch if a single of the conditions in the array is true. Alias: ^^ NOT IMPLEMENTED YET$notInvert the condition Alias: ! NOT IMPLEMENTED YET$containsStringOn string, it will check if query is included in item using GLOB. NOT IMPLEMENTED YET$containsOn array, it will check if item contains the query. NOT IMPLEMENTED YET$inArray.Check if item value is contained (using deep comparaison) in query. NOT IMPLEMENTED YETAuthor\n\n&amp;#182;Typedef SelectQueryOrConditionTypes: In: QueryLanguageScope: instancepublicAuthor\n\n&amp;#182;Namespace Adapters\n\n&amp;#182;Class DiasporaAdapterDiasporaAdapter is the base class of adapters. Adapters are components that are in charge to interact with data sources (files, databases, etc etc) with standardized methods. You should not use this class directly: extend this class and re-implement some methods to build an adapter. See the (upcoming) tutorial section.In: AdaptersParams classEntity DataStoreEntity- Class used to spawn source entitiesScope: publicAuthorclass DiasporaAdapter extends SequentialEvent {\n    constructor( classEntity ) {\n        super();\n        this.remaps = {};\n        this.remapsInverted = {};\n        this.filters = {};\n        this.classEntity = classEntity;\n        this.on( &amp;#39;ready&amp;#39;, () =&amp;gt; {\n            this.state = &amp;#39;ready&amp;#39;;\n        }).on( &amp;#39;error&amp;#39;, err =&amp;gt; {\n            this.state = &amp;#39;error&amp;#39;;\n            this.error = err;\n        });\n    }\n\n    configureCollection( tableName, remaps, filters ) {\n        this.remaps[tableName] = remaps;\n        this.remapsInverted[tableName] = _.invert( remaps );\n        this.filters = filters ||{};\n    }\n\n\n&amp;#182;\n\nUtils\n    remapFields( tableName, query, invert = false ) {\n        const keysMap = ( invert ? this.remapsInverted : this.remaps )[tableName];\n        if ( _.isNil( keysMap )) {\n            return query;\n        }\n        return _.mapKeys( query, ( value, key ) =&amp;gt; {\n            if ( keysMap.hasOwnProperty( key )) {\n                return keysMap[key];\n            }\n            return key;\n        });\n    }\n\n\n&amp;#182;Method waitReadyDescription:Returns a promise resolved once adapter state is readyIn: Adapters.DiasporaAdapterReturnsPromisePromise resolved when adapter is ready, and rejected if an error occuredScope: instancepublicAuthor    waitReady() {\n        return new Promise(( resolve, reject ) =&amp;gt; {\n            if ( &amp;#39;ready&amp;#39; === this.state ) {\n                return resolve( this );\n            } else if ( &amp;#39;error&amp;#39; === this.state ) {\n                return reject( this.error );\n            }\n            this.on( &amp;#39;ready&amp;#39;, () =&amp;gt; {\n                return resolve( this );\n            }).on( &amp;#39;error&amp;#39;, err =&amp;gt; {\n                return reject( err );\n            });\n        });\n    }\n\n\n&amp;#182;Method remapInputDescription:TODOIn: Adapters.DiasporaAdapterSeeTODO remappingParams table String- Name of the table for which we remap query Object- Hash representing the entity to remapReturnsObjectRemapped objectScope: instancepublicAuthor    remapInput( table, query ) {\n        if ( _.isNil( query )) {\n            return query;\n        }\n        const filtered = _.mapValues( query, ( value, key ) =&amp;gt; {\n            if ( this.filters.input.hasOwnProperty( key )) {\n                return this.filters.input[key]( value );\n            }\n            return value;\n        });\n        const remaped = _.mapKeys( filtered, ( value, key ) =&amp;gt; {\n            if ( this.remaps.hasOwnProperty( key )) {\n                return this.remaps[key];\n            }\n            return key;\n        });\n        return remaped;\n    }\n\n\n&amp;#182;Method remapOutputDescription:TODOIn: Adapters.DiasporaAdapterSeeTODO remappingParams table String- Name of the table for which we remap query Object- Hash representing the entity to remapReturnsObjectRemapped objectScope: instancepublicAuthor    remapOutput( table, query ) {\n        if ( _.isNil( query )) {\n            return query;\n        }\n        const filtered = _.mapValues( query, ( value, key ) =&amp;gt; {\n            if ( this.filters.output.hasOwnProperty( key )) {\n                return this.filters.output[key]( value );\n            }\n            return value;\n        });\n        const remaped = _.mapKeys( filtered, ( value, key ) =&amp;gt; {\n            if ( this.remapsInverted.hasOwnProperty( key )) {\n                return this.remapsInverted[key];\n            }\n            return key;\n        });\n        return remaped;\n    }\n\n\n&amp;#182;Params entity Object- Object containing attributes of the entity propName String- = &#39;id&#39; Name of the id fieldReturnsObjectModified entity (for chaining)    setIdHash( entity, propName = &amp;#39;id&amp;#39; ) {\n        entity.idHash = _.assign({}, entity.idHash, {\n            [this.name]: entity[propName],\n        });\n        return entity;\n    }\n\n\n&amp;#182;Params query QueryLanguage.SelectQuery- Query to match against entity Object- Entity to testReturnsBooleantrue if query matches, false otherwise    matchEntity( query, entity ) {\n        const matchResult = _.every( _.toPairs( query ), ([ key, desc ]) =&amp;gt; {\n            if ( _.isObject( desc )) {\n                const entityVal = entity[key];\n                return _.every( desc, ( val, operation ) =&amp;gt; {\n                    switch ( operation ) {\n                        case &amp;#39;$exists&amp;#39;: {\n                            return val === !_.isUndefined( entityVal );\n                        }\n\n                        case &amp;#39;$equal&amp;#39;: {\n                            return !_.isUndefined( entityVal ) &amp;amp;&amp;amp; entityVal === val;\n                        }\n\n                        case &amp;#39;$diff&amp;#39;: {\n                            return !_.isUndefined( entityVal ) &amp;amp;&amp;amp; entityVal !== val;\n                        }\n\n                        case &amp;#39;$less&amp;#39;: {\n                            return !_.isUndefined( entityVal ) &amp;amp;&amp;amp; entityVal &amp;lt; val;\n                        }\n\n                        case &amp;#39;$lessEqual&amp;#39;: {\n                            return !_.isUndefined( entityVal ) &amp;amp;&amp;amp; entityVal &amp;lt;= val;\n                        }\n\n                        case &amp;#39;$greater&amp;#39;: {\n                            return !_.isUndefined( entityVal ) &amp;amp;&amp;amp; entityVal &amp;gt; val;\n                        }\n\n                        case &amp;#39;$greaterEqual&amp;#39;: {\n                            return !_.isUndefined( entityVal ) &amp;amp;&amp;amp; entityVal &amp;gt;= val;\n                        }\n                                       }\n                    return false;\n                });\n            }\n            return false;\n        });\n        return matchResult;\n    }\n\n    applyUpdateEntity( update, entity ) {\n        _.forEach( update, ( val, key ) =&amp;gt; {\n            if ( _.isUndefined( val )) {\n                delete entity[key];\n            } else {\n                entity[key] = val;\n            }\n        });\n    }\n\n\n&amp;#182;Method normalizeOptionsDescription:Transform options to their canonical form. This function must be applied before calling adapters&#39; methodsThrows:Type: TypeErrorThrown if an option does not have an acceptable typeThrows:Type: ReferenceErrorThrown if a required option is not presentThrows:Type: ErrorThrown when there isn&#39;t more precise description of the error is available (eg. when conflicts occurs)Params [opts={}] Object- Options to transformReturnsObjectTransformed options (also called canonical options)    normalizeOptions( opts = {}) {\n        opts = _.cloneDeep( opts );\n        if ( opts.hasOwnProperty( &amp;#39;limit&amp;#39; )) {\n            let limitOpt = opts.limit;\n            if ( _.isString( limitOpt )) {\n                limitOpt = parseInt( limitOpt );\n            }\n            if ( !( _.isInteger( limitOpt ) || Infinity === limitOpt ) || limitOpt &amp;lt; 0 ) {\n                throw new TypeError( `Expect &amp;quot;options.limit&amp;quot; to be an integer equal to or above 0, have ${ limitOpt }` );\n            }\n            opts.limit = limitOpt;\n        }\n        if ( opts.hasOwnProperty( &amp;#39;skip&amp;#39; )) {\n            let skipOpt = opts.skip;\n            if ( _.isString( skipOpt )) {\n                skipOpt = parseInt( skipOpt );\n            }\n            if ( !_.isInteger( skipOpt ) || skipOpt &amp;lt; 0 || !isFinite( skipOpt )) {\n                throw new TypeError( `Expect &amp;quot;options.skip&amp;quot; to be a finite integer equal to or above 0, have ${ skipOpt }` );\n            }\n            opts.skip = skipOpt;\n        }\n        if ( opts.hasOwnProperty( &amp;#39;page&amp;#39; )) {\n            if ( !opts.hasOwnProperty( &amp;#39;limit&amp;#39; )) {\n                throw new ReferenceError( &amp;#39;Usage of &amp;quot;options.page&amp;quot; requires &amp;quot;options.limit&amp;quot; to be defined.&amp;#39; );\n            }\n            if ( !isFinite( opts.limit )) {\n                throw new ReferenceError( &amp;#39;Usage of &amp;quot;options.page&amp;quot; requires &amp;quot;options.limit&amp;quot; to not be infinite&amp;#39; );\n            }\n            if ( opts.hasOwnProperty( &amp;#39;skip&amp;#39; )) {\n                throw new Error( &amp;#39;Use either &amp;quot;options.page&amp;quot; or &amp;quot;options.skip&amp;quot;&amp;#39; );\n            }\n            let pageOpt = opts.page;\n            if ( _.isString( pageOpt )) {\n                pageOpt = parseInt( pageOpt );\n            }\n            if ( !_.isInteger( pageOpt ) || pageOpt &amp;lt; 0 ) {\n                throw new TypeError( `Expect &amp;quot;options.page&amp;quot; to be an integer equal to or above 0, have ${ pageOpt }` );\n            }\n            opts.skip = pageOpt * opts.limit;\n            delete opts.page;\n        }\n        _.defaults( opts, {\n            skip:        0,\n            remapInput:  true,\n            remapOutput: true,\n        });\n        return opts;\n    }\n\n    normalizeQuery( originalQuery, options ) {\n        const canonicalOperations = {\n            &amp;#39;~&amp;#39;:  &amp;#39;$exists&amp;#39;,\n            &amp;#39;==&amp;#39;: &amp;#39;$equal&amp;#39;,\n            &amp;#39;!=&amp;#39;: &amp;#39;$diff&amp;#39;,\n            &amp;#39;&amp;lt;&amp;#39;:  &amp;#39;$less&amp;#39;,\n            &amp;#39;&amp;lt;=&amp;#39;: &amp;#39;$lessEqual&amp;#39;,\n            &amp;#39;&amp;gt;&amp;#39;:  &amp;#39;$greater&amp;#39;,\n            &amp;#39;&amp;gt;=&amp;#39;: &amp;#39;$greaterEqual&amp;#39;,\n        };\n        const normalizedQuery = true === options.remapInput ? _( _.cloneDeep( originalQuery )).mapValues(( attrSearch, attrName ) =&amp;gt; {\n            if ( !( !_.isNil( attrSearch ) &amp;amp;&amp;amp; attrSearch instanceof Object )) {\n                if ( !_.isNil( attrSearch )) {\n                    return {\n                        $equal: attrSearch,\n                    };\n                } else {\n                    return {\n                        $exists: false,\n                    };\n                }\n            } else {\n\n&amp;#182;Replace operations alias by canonical expressions                _.forEach( canonicalOperations, ( canon, alias ) =&amp;gt; {\n\n&amp;#182;If the currently checked alias is in the search hash...                    if ( attrSearch.hasOwnProperty( alias )) {\n\n&amp;#182;... check for conflict with canonical operation name...                        if ( attrSearch.hasOwnProperty( canon )) {\n                            throw new Error( `Search can&amp;#39;t have both &amp;quot;${ alias }&amp;quot; and &amp;quot;${ canon }&amp;quot; keys, as they are synonyms` );\n                        } else {\n\n&amp;#182;... and replace alias by canonical                            attrSearch[canon] = attrSearch[alias];\n                            delete attrSearch[alias];\n                        }\n                    }\n                });\n\n&amp;#182;For arithmetic comparison, check if values are numeric (TODO later: support date)                _.forEach([ &amp;#39;$less&amp;#39;, &amp;#39;$lessEqual&amp;#39;, &amp;#39;$greater&amp;#39;, &amp;#39;$greaterEqual&amp;#39; ], operation =&amp;gt; {\n                    if ( attrSearch.hasOwnProperty( operation ) &amp;amp;&amp;amp; !_.isNumber( attrSearch[operation])) {\n                        throw new TypeError( `Expect &amp;quot;${ operation }&amp;quot; in ${ JSON.stringify( attrSearch ) } to be a numeric value` );\n                    }\n                });\n                return attrSearch;\n            }\n        }).value() : _.cloneDeep( originalQuery );\n        return normalizedQuery;\n    }\n\n\n&amp;#182;\n\nInsert\n\n&amp;#182;Method insertOneSummary:At least one of {@link insertOne} or {@link insertMany} must be reimplemented by adapterDescription:Insert a single entity in the data store. This function is a default polyfill if the inheriting adapter does not provide insertOne itselfIn: Adapters.DiasporaAdapterParams table String- Name of the table to insert data in entity Object- Hash representing the entity to insertReturnsPromisePromise resolved once insertion is done. Called with ({@link DataStoreEntity} entity)Scope: instancepublicAuthor    insertOne( table, entity ) {\n        return this.insertMany( table, [ entity ]).then( entities =&amp;gt; Promise.resolve( _.first( entities )));\n    }\n\n\n&amp;#182;Method insertManySummary:At least one of {@link insertOne} or {@link insertMany} must be reimplemented by adapterDescription:Insert several entities in the data store. This function is a default polyfill if the inheriting adapter does not provide insertMany itselfIn: Adapters.DiasporaAdapterParams table String- Name of the table to insert data in entities Array.&amp;lt;Object&amp;gt;- Array of hashs representing the entities to insertReturnsPromisePromise resolved once insertion is done. Called with ({@link DataStoreEntity}[] entities)Scope: instancepublicAuthor    insertMany( table, entities ) {\n        return Promise.mapSeries( entities, entity =&amp;gt; this.insertOne( table, entity || {}));\n    }\n\n\n&amp;#182;\n\nFind\n\n&amp;#182;Method findOneSummary:At least one of {@link findOne} or {@link findMany} must be reimplemented by adapterDescription:Retrieve a single entity from the data store. This function is a default polyfill if the inheriting adapter does not provide findOne itselfIn: Adapters.DiasporaAdapterParams table String- Name of the table to retrieve data from queryFind SelectQueryOrCondition- Hash representing the entity to find [options={}] QueryOptions- Hash of options.ReturnsPromisePromise resolved once item is found. Called with ({@link DataStoreEntity} entity)Scope: instancepublicAuthor    findOne( table, queryFind, options = {}) {\n        options.limit = 1;\n        return this.findMany( table, queryFind, options ).then( entities =&amp;gt; Promise.resolve( _.first( entities )));\n    }\n\n\n&amp;#182;Method findManySummary:At least one of {@link findOne} or {@link findMany} must be reimplemented by adapterDescription:Retrieve several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide findMany itselfIn: Adapters.DiasporaAdapterParams table String- Name of the table to retrieve data from queryFind SelectQueryOrCondition- Hash representing entities to find [options={}] QueryOptions- Hash of options.ReturnsPromisePromise resolved once item is found. Called with ({@link DataStoreEntity}[] entities)Scope: instancepublicAuthor    findMany( table, queryFind, options = {}) {\n        const foundEntities = [];\n        options = this.normalizeOptions( options );\n        let foundCount = 0;\n        let origSkip = options.skip;\n\n\n&amp;#182;We are going to loop until we find enough items        const loopFind = found =&amp;gt; {\n\n&amp;#182;If the search returned nothing, then just finish the findMany            if ( _.isNil( found )) {\n                return Promise.resolve( foundEntities );\n\n&amp;#182;Else, if this is a value and not the initial true, add it to the list            } else if ( found !== true ) {\n                foundEntities.push( found );\n            }\n\n&amp;#182;If we found enough items, return them            if ( foundCount === options.limit ) {\n                return Promise.resolve( foundEntities );\n            }\n            options.skip = origSkip + foundCount;\n\n&amp;#182;Next time we&#39;ll skip 1 more item            foundCount++;\n\n&amp;#182;Do the query &amp;amp; loop            return this.findOne( table, queryFind, options ).then( loopFind );\n        };\n        return loopFind( true );\n    }\n\n\n&amp;#182;\n\nUpdate\n\n&amp;#182;Method updateOneSummary:At least one of {@link updateOne} or {@link updateMany} must be reimplemented by adapterDescription:Update a single entity from the data store. This function is a default polyfill if the inheriting adapter does not provide updateOne itselfIn: Adapters.DiasporaAdapterParams table String- Name of the table to retrieve data from queryFind SelectQueryOrCondition- Hash representing the entity to find update Object- Object properties to set [options={}] QueryOptions- Hash of options.ReturnsPromisePromise resolved once item is found. Called with ({@link DataStoreEntity} entity)Scope: instancepublicAuthor    updateOne( table, queryFind, update, options = {}) {\n        options.limit = 1;\n        return this.updateMany( table, queryFind, update, options ).then( entities =&amp;gt; Promise.resolve( _.first( entities )));\n    }\n\n\n&amp;#182;Method updateManySummary:At least one of {@link updateOne} or {@link updateMany} must be reimplemented by adapterDescription:Update several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide updateMany itselfIn: Adapters.DiasporaAdapterParams table String- Name of the table to retrieve data from queryFind SelectQueryOrCondition- Hash representing entities to find update Object- Object properties to set [options={}] QueryOptions- Hash of options.ReturnsPromisePromise resolved once item is found. Called with ({@link DataStoreEntity}[] entities)Scope: instancepublicAuthor    updateMany( table, queryFind, update, options = {}) {\n        const foundEntities = [];\n        let skip = 0;\n\n\n&amp;#182;We are going to loop until we find enough items        const loopFind = found =&amp;gt; {\n\n&amp;#182;If the search returned nothing, then just finish the findMany            if ( _.isNil( found )) {\n                return Promise.resolve( foundEntities );\n\n&amp;#182;Else, if this is a value and not the initial true, add it to the list            } else if ( found !== true ) {\n                foundEntities.push( found );\n            }\n\n&amp;#182;If we found enough items, return them            if ( skip === options.limit ) {\n                return Promise.resolve( foundEntities );\n            }\n            options.skip = skip;\n\n&amp;#182;Next time we&#39;ll skip 1 more item            skip++;\n\n&amp;#182;Do the query &amp;amp; loop            return this.updateOne( table, queryFind, update, options ).then( loopFind );\n        };\n        return loopFind( true );\n    }\n\n\n&amp;#182;\n\nDelete\n\n&amp;#182;Method deleteOneSummary:At least one of {@link deleteOne} or {@link deleteMany} must be reimplemented by adapterDescription:Update a single entity from the data store. This function is a default polyfill if the inheriting adapter does not provide deleteOne itselfIn: Adapters.DiasporaAdapterParams table String- Name of the table to delete data from queryFind SelectQueryOrCondition- Hash representing the entities to find [options={}] QueryOptions- Hash of options.ReturnsPromisePromise resolved once item is found. Called with ({@link DataStoreEntity} entity)Scope: instancepublicAuthor    deleteOne( table, queryFind, options = {}) {\n        options.limit = 1;\n        return this.deleteMany( table, queryFind, options );\n    }\n\n\n&amp;#182;Method deleteManySummary:At least one of {@link deleteOne} or {@link deleteMany} must be reimplemented by adapterDescription:Update several entities from the data store. This function is a default polyfill if the inheriting adapter does not provide deleteMany itselfIn: Adapters.DiasporaAdapterParams table String- Name of the table to delete data from queryFind SelectQueryOrCondition- Hash representing the entities to find [options={}] QueryOptions- Hash of options.ReturnsPromisePromise resolved once item is found. Called with ({@link DataStoreEntity}[] entities)Scope: instancepublicAuthor    deleteMany( table, queryFind, options = {}) {\n        let count = 0;\n\n\n&amp;#182;We are going to loop until we find enough items        const loopFind = () =&amp;gt; {\n\n&amp;#182;First, search for the item.            return this.findOne( table, queryFind, options ).then( found =&amp;gt; {\n\n&amp;#182;If the search returned nothing, then just finish the findMany                if ( _.isNil( found )) {\n                    return Promise.resolve();\n\n&amp;#182;Else, if this is a value and not the initial true, add it to the list                }\n\n&amp;#182;If we found enough items, return them                if ( count === options.limit ) {\n                    return Promise.resolve();\n                }\n\n&amp;#182;Increase our counter                count++;\n\n&amp;#182;Do the deletion &amp;amp; loop                return this.deleteOne( table, queryFind, options ).then( loopFind );\n            });\n        };\n        return loopFind( true );\n    }\n}\n\nmodule.exports = DiasporaAdapter;\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "baseEntity.js",
		 "url"     : "docco/lib/dataStoreEntities/baseEntity.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;baseEntity.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;lib/dataStoreEntities/baseEntity.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;lodash&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Namespace &lt;em&gt;DataStoreEntities&lt;/em&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-3&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-3&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Class &lt;em&gt;DataStoreEntity&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;DataStoreEntity is the sub-entity reflecting a single source content. Values may differ from the Entity itself&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;DataStoreEntities&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;source &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash containing properties to copy in this entity&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;&lt;span class=&quot;kr&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DataStoreEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;        &lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;defineProperties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;        &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;enumerable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;configurable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;toObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;omit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;dataSource&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;id&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "baseEntity.jslib/dataStoreEntities/baseEntity.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\nconst _ = require( &amp;#39;lodash&amp;#39; );\n\n\n&amp;#182;Namespace DataStoreEntities\n\n&amp;#182;Class DataStoreEntityDataStoreEntity is the sub-entity reflecting a single source content. Values may differ from the Entity itselfIn: DataStoreEntitiesParams source Object- Hash containing properties to copy in this entityScope: publicAuthorclass DataStoreEntity {\n    constructor( entity, dataSource ) {\n        if ( _.isNil( entity )) {\n            return undefined;\n        }\n        Object.defineProperties( this, {\n            dataSource: {\n                value:        dataSource,\n                enumerable:   false,\n                configurable: false,\n            },\n        });\n        _.assign( this, entity );\n    }\n    toObject() {\n        return _.omit( this, [ &amp;#39;dataSource&amp;#39;, &amp;#39;id&amp;#39; ]);\n    }\n}\n\nmodule.exports = DataStoreEntity;\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Classes",
		 "url"     : "jsdoc/classes.list.html",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t&lt;h1 class=&quot;page-title&quot;&gt;Classes&lt;/h1&gt;\n&lt;section&gt;\n\n&lt;header&gt;\n    \n        &lt;h2&gt;\n        \n        &lt;/h2&gt;\n        \n    \n&lt;/header&gt;\n\n\n&lt;article&gt;\n    &lt;div class=&quot;container-overview&quot;&gt;\n    \n        \n\n        \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n        \n    \n    &lt;/div&gt;\n\n    \n\n    \n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Classes&lt;/h3&gt;\n\n        &lt;dl&gt;\n            &lt;dt&gt;&lt;a href=&quot;Adapters.DiasporaAdapter.html&quot;&gt;DiasporaAdapter&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;Adapters.InMemoryDiasporaAdapter.html&quot;&gt;InMemoryDiasporaAdapter&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;Adapters.LocalStorageDiasporaAdapter.html&quot;&gt;LocalStorageDiasporaAdapter&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;DataStoreEntities.DataStoreEntity.html&quot;&gt;DataStoreEntity&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;DataStoreEntities.InMemoryEntity.html&quot;&gt;InMemoryEntity&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;DataStoreEntities.LocalStorageEntity.html&quot;&gt;LocalStorageEntity&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;Entity.html&quot;&gt;Entity&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;Model.html&quot;&gt;Model&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        &lt;/dl&gt;\n    \n\n    \n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Namespaces&lt;/h3&gt;\n\n        &lt;dl&gt;\n            &lt;dt&gt;&lt;a href=&quot;namespaces.list.html#Adapters&quot;&gt;&lt;a href=&quot;Adapters.html&quot;&gt;Adapters&lt;/a&gt;&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;namespaces.list.html#ConstrainedTypes&quot;&gt;&lt;a href=&quot;ConstrainedTypes.html&quot;&gt;ConstrainedTypes&lt;/a&gt;&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;namespaces.list.html#DataStoreEntities&quot;&gt;&lt;a href=&quot;DataStoreEntities.html&quot;&gt;DataStoreEntities&lt;/a&gt;&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;namespaces.list.html#Diaspora&quot;&gt;&lt;a href=&quot;Diaspora.html&quot;&gt;Diaspora&lt;/a&gt;&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;namespaces.list.html#QueryLanguage&quot;&gt;&lt;a href=&quot;QueryLanguage.html&quot;&gt;QueryLanguage&lt;/a&gt;&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        &lt;/dl&gt;\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/article&gt;\n\n&lt;/section&gt;\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:18+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\tClasses\n\n\n\n    \n        \n        \n        \n        \n    \n\n\n\n\n    \n    \n        \n\n        \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n        \n    \n    \n\n    \n\n    \n\n    \n        Classes\n\n        \n            DiasporaAdapter\n            \n        \n            InMemoryDiasporaAdapter\n            \n        \n            LocalStorageDiasporaAdapter\n            \n        \n            DataStoreEntity\n            \n        \n            InMemoryEntity\n            \n        \n            LocalStorageEntity\n            \n        \n            Entity\n            \n        \n            Model\n            \n        \n    \n\n    \n\n    \n        Namespaces\n\n        \n            Adapters\n            \n        \n            ConstrainedTypes\n            \n        \n            DataStoreEntities\n            \n        \n            Diaspora\n            \n        \n            QueryLanguage\n            \n        \n    \n\n    \n\n    \n\n    \n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:18+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "config-sample.js",
		 "url"     : "docco/test/config-sample.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;config-sample.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;test/config-sample.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;mongo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;database: &#39;diaspora_test&#39;,\nusername: &#39;user&#39;,\npassword: false,\n&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;redis&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-3&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-3&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;database: 1,&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;localstorage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-4&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-4&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;data_dir: &#39;.localStorageTest&#39;\n&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "config-sample.jstest/config-sample.js&amp;#182;module.exports = {\n    mongo: {\n\n&amp;#182;database: &#39;diaspora_test&#39;,\nusername: &#39;user&#39;,\npassword: false,\n    },\n    redis: {\n\n&amp;#182;database: 1,    },\n    localstorage: {\n\n&amp;#182;data_dir: &#39;.localStorageTest&#39;\n    },\n};\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "config.js",
		 "url"     : "docco/test/config.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;config.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;test/config.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;mongo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;database&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;diaspora_test&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;admin&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;password: false,\n&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;redis&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;database&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;localstorage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;data_dir&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.localStorageTest&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "config.jstest/config.js&amp;#182;module.exports = {\n    mongo: {\n        database: &amp;#39;diaspora_test&amp;#39;,\n        username: &amp;#39;admin&amp;#39;,\n\n&amp;#182;password: false,\n    },\n    redis: {\n        database: 3,\n    },\n    localstorage: {\n        data_dir: &amp;#39;.localStorageTest&amp;#39;,\n    },\n};\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Create a custom adapter",
		 "url"     : "create-an-adapter.html",
		 "date"     : "",
		 "html"  : "&lt;h1 id=&quot;create-a-custom-adapter&quot;&gt;Create a custom adapter&lt;/h1&gt;\n\n&lt;p&gt;Yep, not done yet&lt;/p&gt;\n",
			   "content"  : "Create a custom adapter\n\nYep, not done yet\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "defineGlobals.js",
		 "url"     : "docco/test/defineGlobals.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;defineGlobals.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;test/defineGlobals.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;path&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;projectPath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;../&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;chalk&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;stackTrace&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;stack-trace&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;getCurrentDir&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;stackItem&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;stackTrace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;stackItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getFileName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;    &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;chalk&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;    &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./config.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;MODULE_NOT_FOUND&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;code&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Missing required file &amp;quot;config.js&amp;quot;, please copy &amp;quot;config-sample.js&amp;quot; and edit it.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;getCurrentDir&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;scriptPath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;        &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Throw an error to generate a stack trace&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stack&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-3&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-3&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Split the stack trace into each line&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;stackLines&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stack&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;\\n&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;stackLines&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;callerIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-40&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-4&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-4&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Now walk though each line until we find a path reference&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-41&quot;&gt;            &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;stackLines&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-42&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stackLines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/(?:https?|file):\\/\\//&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-43&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;continue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-44&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-45&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-46&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-5&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-5&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;We skipped all the lines with out an http so we now have a script reference\nThis one is the class constructor, the next is the getScriptPath() call\nThe one after that is the user code requesting the path info (so offset by 2)&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-47&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;callerIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-48&quot;&gt;                &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-49&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-50&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-51&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-6&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-6&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Now parse the string for each section we want to return&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-52&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;pathParts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;stackLines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;callerIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/((?:https?|file):\\/\\/.+\\/)([^\\/]+\\.js)/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-53&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;pathParts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-54&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-55&quot;&gt;    &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-56&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-57&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-58&quot;&gt;&lt;span class=&quot;nx&quot;&gt;getConfig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-59&quot;&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;adapterName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-60&quot;&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-61&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-62&quot;&gt;&lt;span class=&quot;nx&quot;&gt;importTest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modulePath&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-63&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fullPath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getCurrentDir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modulePath&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modulePath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-64&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-65&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fullPath&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-66&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-67&quot;&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-68&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-69&quot;&gt;&lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;lodash&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-70&quot;&gt;&lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;check-types&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-71&quot;&gt;&lt;span class=&quot;nx&quot;&gt;CheckTypes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-72&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chai&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;chai&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-73&quot;&gt;&lt;span class=&quot;nx&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chai&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-74&quot;&gt;&lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chai&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-75&quot;&gt;&lt;span class=&quot;nx&quot;&gt;SequentialEvent&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sequential-event&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-76&quot;&gt;&lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bluebird&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-77&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-78&quot;&gt;&lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-79&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;white&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;underline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;white&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-80&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;s1&quot;&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-81&quot;&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-82&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-83&quot;&gt;&lt;span class=&quot;nx&quot;&gt;chai&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;use&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_chai&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;utils&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-84&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chai&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Assertion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prototype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;set&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-85&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-86&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-87&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_obj&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-88&quot;&gt;            &lt;span class=&quot;s1&quot;&gt;&amp;#39;expected #{this} to be a collection&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-89&quot;&gt;            &lt;span class=&quot;s1&quot;&gt;&amp;#39;expected #{this} to not be a collection&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-90&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;collection&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-91&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-92&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chai&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Assertion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prototype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;of&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-93&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addChainableMethod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chai&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Assertion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prototype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;boolean&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkBool&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-94&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;elem&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-95&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;collection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;collection&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-96&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-97&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;collection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;every&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;elem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;boolean&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;boolean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;elem&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-98&quot;&gt;            &lt;span class=&quot;sb&quot;&gt;`expected #{this} to be a &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;collection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;collection of &amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;boolean`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-99&quot;&gt;            &lt;span class=&quot;sb&quot;&gt;`expected #{this} to not be a &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;collection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;collection of &amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;boolean`&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-100&quot;&gt;        &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-101&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-102&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addChainableMethod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chai&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Assertion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prototype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;dataStoreEntity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkDataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;properties&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-103&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-104&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;collection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;collection&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-105&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;entityType&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;dataStoreEntity&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-106&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;props&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-107&quot;&gt;            &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-108&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-109&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-110&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-7&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-7&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;console.log({name: adapter.name, idHash: entity.idHash, id: entity.id})&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-111&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;idHash&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-112&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;id&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;idHash&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-113&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-114&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-115&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-116&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-117&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-118&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Entity Class name does not comply to naming convention&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;baseName&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;Entity`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-119&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-120&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-121&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-122&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;satisfy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-123&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-124&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-125&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-126&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-127&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-128&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-129&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-130&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-131&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-132&quot;&gt;        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-133&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-134&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;collection&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-135&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;properties&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-136&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-137&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-138&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-139&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-140&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-141&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-142&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;properties&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-143&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-144&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-145&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-146&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-147&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;properties&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-148&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-149&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-150&quot;&gt;            &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-151&quot;&gt;            &lt;span class=&quot;sb&quot;&gt;`expected #{this} to be a &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;collection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;collection of &amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;DataStoreEntity: failed because of &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-152&quot;&gt;            &lt;span class=&quot;sb&quot;&gt;`expected #{this} to not be a &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;collection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;collection of &amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;DataStoreEntity: failed because of &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-153&quot;&gt;        &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-154&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-155&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;addChainableMethod&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chai&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Assertion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;prototype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;entity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkDataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;orphan&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-156&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-157&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;collection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;collection&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-158&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;flag&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;entityType&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;entity&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-159&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;props&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-160&quot;&gt;            &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-161&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-162&quot;&gt;                &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;orphan&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;orphan&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-163&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;orphan&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;orphan&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-164&quot;&gt;                &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;orphan&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-165&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-166&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getState&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Entity should be orphan&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;orphan&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-167&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-168&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-169&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-170&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getState&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Entity should not be orphan&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;orphan&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-171&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-172&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-173&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-174&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-175&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-176&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;orphan&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-177&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getLastDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Orphans should not have a last data source&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-178&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;id should be an undefined value or key on orphans&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;id&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-179&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;idHash should be an undefined value or key on orphans&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;idHash&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-180&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;orphan&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-181&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-182&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getLastDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-183&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-184&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getLastDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Non orphans should have a last data source&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-185&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-186&quot;&gt;                    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;lds&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getLastDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-187&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;id should be a defined value on non-orphan last data source&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;id&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-188&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;idHash should be a hash on non-orphan last data source&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;idHash&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-189&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;id should not be copied in model\\&amp;#39;s value&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;id&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-190&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;idHash should be a hash on non-orphan model&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;idHash&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;is&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-191&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-192&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;persist&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-193&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;toObject&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-194&quot;&gt;                &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;toObj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-195&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;props&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-196&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-197&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;toObj&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;satisfy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-198&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-199&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-200&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-201&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;toObj&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-202&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-203&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-204&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-205&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-206&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-207&quot;&gt;        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-208&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-209&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;collection&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-210&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;properties&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-211&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-212&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;properties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-213&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-214&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-215&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-216&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-217&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;properties&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-218&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-219&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-220&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-221&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-222&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;properties&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-223&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-224&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-225&quot;&gt;            &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-226&quot;&gt;            &lt;span class=&quot;sb&quot;&gt;`expected #{this} to be a&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;collection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39; collection of&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;n&amp;#39;&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; Entity: failed because of &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-227&quot;&gt;            &lt;span class=&quot;sb&quot;&gt;`expected #{this} to not be a&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;collection&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39; collection of&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;n&amp;#39;&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; Entity: failed because of &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;errorOut&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-228&quot;&gt;        &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-229&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-230&quot;&gt;&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "defineGlobals.jstest/defineGlobals.js&amp;#182;if ( &amp;#39;undefined&amp;#39; === typeof window ) {\n    path = require( &amp;#39;path&amp;#39; );\n    projectPath = path.resolve( &amp;#39;../&amp;#39; );\n    chalk = require( &amp;#39;chalk&amp;#39; );\n\n    const stackTrace = require( &amp;#39;stack-trace&amp;#39; );\n    getCurrentDir = () =&amp;gt; {\n        const stackItem = stackTrace.get()[2];\n        return path.dirname( stackItem.getFileName());\n    };\n\n    chalk = require( &amp;#39;chalk&amp;#39; );\n    try {\n        config = require( &amp;#39;./config.js&amp;#39; );\n    } catch ( err ) {\n        if ( &amp;#39;MODULE_NOT_FOUND&amp;#39; === err.code ) {\n            console.error( &amp;#39;Missing required file &amp;quot;config.js&amp;quot;, please copy &amp;quot;config-sample.js&amp;quot; and edit it.&amp;#39; );\n        } else {\n            console.error( err );\n        }\n        process.exit();\n    }\n\n} else {\n    getCurrentDir = () =&amp;gt; {\n        return &amp;#39;&amp;#39;;\n        var scriptPath = &amp;#39;&amp;#39;;\n        try {\n\n&amp;#182;Throw an error to generate a stack trace            throw new Error();\n        } catch ( e ) {\n            console.log( e, e.stack );\n\n&amp;#182;Split the stack trace into each line            var stackLines = e.stack.split( &amp;#39;\\n&amp;#39; );\n            console.log( stackLines );\n            var callerIndex = 0;\n\n&amp;#182;Now walk though each line until we find a path reference            for ( var i in stackLines ) {\n                if ( !stackLines[i].match( /(?:https?|file):\\/\\// )) {\n                    continue; \n                }\n\n&amp;#182;We skipped all the lines with out an http so we now have a script reference\nThis one is the class constructor, the next is the getScriptPath() call\nThe one after that is the user code requesting the path info (so offset by 2)                callerIndex = Number( i ) + 2;\n                break;\n            }\n\n&amp;#182;Now parse the string for each section we want to return            pathParts = stackLines[callerIndex].match( /((?:https?|file):\\/\\/.+\\/)([^\\/]+\\.js)/ );\n            return pathParts[1];\n        }\n    };\n}\n\ngetConfig = adapterName =&amp;gt; {\n    return ( config &amp;amp;&amp;amp; config[adapterName]) || {};\n};\n\nimportTest = ( name, modulePath ) =&amp;gt; {\n    const fullPath = &amp;#39;undefined&amp;#39; === typeof window ? path.resolve( getCurrentDir(), modulePath ) : modulePath;\n    describe( name, () =&amp;gt; {\n        require( fullPath );\n    });\n};\n\nl = require( &amp;#39;lodash&amp;#39; );\nc = require( &amp;#39;check-types&amp;#39; );\nCheckTypes = c;\nconst chai = require( &amp;#39;chai&amp;#39; );\nassert = chai.assert;\nexpect = chai.expect;\nSequentialEvent = require( &amp;#39;sequential-event&amp;#39; );\nPromise = require( &amp;#39;bluebird&amp;#39; );\n\nstyle = {\n    white: &amp;#39;undefined&amp;#39; === typeof window ? chalk.underline.white : v =&amp;gt; v,\n    bold:  &amp;#39;undefined&amp;#39; === typeof window ? chalk.bold : v =&amp;gt; v,\n};\n\nchai.use( function( _chai, utils ) {\n    utils.addProperty( chai.Assertion.prototype, &amp;#39;set&amp;#39;, function() {\n        var obj = utils.flag( this, &amp;#39;object&amp;#39; );\n        const assert = this.assert(\n            c.array( this._obj ),\n            &amp;#39;expected #{this} to be a collection&amp;#39;,\n            &amp;#39;expected #{this} to not be a collection&amp;#39; );\n        utils.flag( this, &amp;#39;collection&amp;#39;, true );\n    });\n    utils.addProperty( chai.Assertion.prototype, &amp;#39;of&amp;#39;, function() {});\n    utils.addChainableMethod( chai.Assertion.prototype, &amp;#39;boolean&amp;#39;, function checkBool() {\n        const elem = this._obj;\n        const collection = utils.flag( this, &amp;#39;collection&amp;#39; );\n        this.assert(\n            collection ? l.every( elem, c.boolean ) : c.boolean( elem ),\n            `expected #{this} to be a ${ collection ? &amp;#39;collection of &amp;#39; : &amp;#39;&amp;#39; }boolean`,\n            `expected #{this} to not be a ${ collection ? &amp;#39;collection of &amp;#39; : &amp;#39;&amp;#39; }boolean`\n        );\n    });\n    utils.addChainableMethod( chai.Assertion.prototype, &amp;#39;dataStoreEntity&amp;#39;, function checkDataStoreEntity( adapter, properties ) {\n        const data = this._obj;\n        const collection = utils.flag( this, &amp;#39;collection&amp;#39; );\n        utils.flag( this, &amp;#39;entityType&amp;#39;, &amp;#39;dataStoreEntity&amp;#39; );\n        const check = ( entity, props = {}) =&amp;gt; {\n            try {\n                expect( entity ).to.be.an( &amp;#39;object&amp;#39; );\n\n&amp;#182;console.log({name: adapter.name, idHash: entity.idHash, id: entity.id})                expect( entity.idHash ).to.be.an( &amp;#39;object&amp;#39; ).that.have.property( adapter.name, entity.id );\n                expect( entity ).to.include.all.keys( &amp;#39;id&amp;#39;, &amp;#39;idHash&amp;#39; );\n                expect( entity.id ).to.not.be.undefined;\n                if ( !entity.id ) {\n                    throw new Error();\n                }\n                if ( &amp;#39;undefined&amp;#39; === typeof window ) {\n                    expect( entity.constructor.name, &amp;#39;Entity Class name does not comply to naming convention&amp;#39; ).to.equal( `${ adapter.baseName }Entity` );\n                }\n                l.forEach( props, ( val, key ) =&amp;gt; {\n                    if ( c.undefined( val )) {\n                        expect( entity ).to.satisfy( obj =&amp;gt; {\n                            return c.undefined( obj[key]) || !obj.hasOwnProperty( key );\n                        });\n                    } else {\n                        expect( entity ).to.have.property( key, val );\n                    }\n                });\n            } catch ( e ) {\n                return e;\n            }\n        };\n        let errorOut;\n        if ( collection ) {\n            if ( c.array( properties ) &amp;amp;&amp;amp; properties.length === data.length ) {\n                l.forEach( data, ( entity, index ) =&amp;gt; {\n                    errorOut = check( entity, properties[index]);\n                    return !errorOut;\n                });\n            } else {\n                l.forEach( data, entity =&amp;gt; {\n                    errorOut = check( entity, properties );\n                    return !errorOut;\n                });\n            }\n        } else {\n            errorOut = check( data, properties );\n        }\n        this.assert(\n            !errorOut,\n            `expected #{this} to be a ${ collection ? &amp;#39;collection of &amp;#39; : &amp;#39;&amp;#39; }DataStoreEntity: failed because of ${ errorOut }`,\n            `expected #{this} to not be a ${ collection ? &amp;#39;collection of &amp;#39; : &amp;#39;&amp;#39; }DataStoreEntity: failed because of ${ errorOut }`\n        );\n    });\n    utils.addChainableMethod( chai.Assertion.prototype, &amp;#39;entity&amp;#39;, function checkDataStoreEntity( model, properties, orphan = null ) {\n        const data = this._obj;\n        const collection = utils.flag( this, &amp;#39;collection&amp;#39; );\n        utils.flag( this, &amp;#39;entityType&amp;#39;, &amp;#39;entity&amp;#39; );\n        const check = ( entity, props = {}) =&amp;gt; {\n            try {\n                expect( entity.model ).to.equal( model );\n                var dataSource = &amp;#39;string&amp;#39; === typeof orphan ? orphan : false;\n                orphan = dataSource ? false : orphan;\n                switch ( orphan ) {\n                    case true: {\n                        expect( entity.getState(), &amp;#39;Entity should be orphan&amp;#39; ).to.equal( &amp;#39;orphan&amp;#39; );\n                    } break;\n\n                    case false: {\n                        expect( entity.getState(), &amp;#39;Entity should not be orphan&amp;#39; ).to.not.equal( &amp;#39;orphan&amp;#39; );\n                    } break;\n\n                    case null: {\n                    } break;\n                }\n                if ( orphan ) {\n                    expect( entity.getLastDataSource(), &amp;#39;Orphans should not have a last data source&amp;#39; ).to.be.eql( null );\n                    expect( entity, &amp;#39;id should be an undefined value or key on orphans&amp;#39; ).to.not.have.property( &amp;#39;id&amp;#39; );\n                    expect( entity, &amp;#39;idHash should be an undefined value or key on orphans&amp;#39; ).to.not.have.property( &amp;#39;idHash&amp;#39; );\n                } else if ( null !== orphan ) {\n                    if ( dataSource ) {\n                        expect( entity.getLastDataSource()).to.be.eql( dataSource );\n                    } else {\n                        expect( entity.getLastDataSource(), &amp;#39;Non orphans should have a last data source&amp;#39; ).to.be.not.eql( null );\n                    }\n                    const lds = entity.getLastDataSource();\n                    expect( entity.dataSources[lds], &amp;#39;id should be a defined value on non-orphan last data source&amp;#39; ).to.be.an( &amp;#39;object&amp;#39; ).that.have.property( &amp;#39;id&amp;#39; );\n                    expect( entity.dataSources[lds], &amp;#39;idHash should be a hash on non-orphan last data source&amp;#39; ).to.be.an( &amp;#39;object&amp;#39; ).that.have.property( &amp;#39;idHash&amp;#39; ).that.is.an( &amp;#39;object&amp;#39; );\n                    expect( entity, &amp;#39;id should not be copied in model\\&amp;#39;s value&amp;#39; ).to.be.an( &amp;#39;object&amp;#39; ).that.have.not.property( &amp;#39;id&amp;#39; );\n                    expect( entity, &amp;#39;idHash should be a hash on non-orphan model&amp;#39; ).to.be.an( &amp;#39;object&amp;#39; ).that.have.property( &amp;#39;idHash&amp;#39; ).that.is.an( &amp;#39;object&amp;#39; );\n                }\n                expect( entity ).to.respondTo( &amp;#39;persist&amp;#39; );\n                expect( entity ).to.respondTo( &amp;#39;toObject&amp;#39; );\n                const toObj = entity.toObject();\n                l.forEach( props, ( val, key ) =&amp;gt; {\n                    if ( c.undefined( val )) {\n                        expect( toObj ).to.satisfy( obj =&amp;gt; {\n                            return c.undefined( obj[key]) || !obj.hasOwnProperty( key );\n                        });\n                    } else {\n                        expect( toObj ).to.have.property( key, val );\n                    }\n                });\n            } catch ( e ) {\n                return e;\n            }\n        };\n        let errorOut;\n        if ( collection ) {\n            if ( c.array( properties ) &amp;amp;&amp;amp; properties.length === data.length ) {\n                l.forEach( data, ( entity, index ) =&amp;gt; {\n                    errorOut = check( entity, properties[index]);\n                    return !errorOut;\n                });\n            } else {\n                l.forEach( data, entity =&amp;gt; {\n                    errorOut = check( entity, properties );\n                    return !errorOut;\n                });\n            }\n        } else {\n            errorOut = check( data, properties );\n        }\n        this.assert(\n            !errorOut,\n            `expected #{this} to be a${ collection ? &amp;#39; collection of&amp;#39; : &amp;#39;n&amp;#39; } Entity: failed because of ${ errorOut }`,\n            `expected #{this} to not be a${ collection ? &amp;#39; collection of&amp;#39; : &amp;#39;n&amp;#39; } Entity: failed because of ${ errorOut }`\n        );\n    });\n});\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "diaspora.js",
		 "url"     : "docco/diaspora.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;diaspora.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;diaspora.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./lib/diaspora&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "diaspora.jsdiaspora.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\nconst Diaspora = require( &amp;#39;./lib/diaspora&amp;#39; );\n\nmodule.exports = Diaspora;\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "diaspora.js",
		 "url"     : "docco/lib/diaspora.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;diaspora.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;lib/diaspora.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;lodash&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bluebird&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SequentialEvent&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sequential-event&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DiasporaAdapter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./adapters/baseAdapter.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapters&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;    &lt;span class=&quot;s1&quot;&gt;&amp;#39;in-memory&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./adapters/inMemoryAdapter&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;    &lt;span class=&quot;s1&quot;&gt;&amp;#39;localstorage&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./adapters/localStorageAdapter&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;models&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;cloneKeysAdd&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Clone keys array and add the provided value&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Diaspora&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;keys &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Array.&amp;lt;String&amp;gt;&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Array of keys to this point.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;newKey &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;New key value.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Array.&amp;lt;String&amp;gt;&lt;/span&gt;&lt;span&gt;&lt;p&gt;Clone of &lt;code&gt;keys&lt;/code&gt; with &lt;code&gt;newKey&lt;/code&gt; added at the end&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;inner&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;private&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cloneKeysAdd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newKey&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newKeys&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;newKeys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newKey&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newKeys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;wrapDataSourceAction&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-3&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-3&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Filter our results&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;filterResults&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-4&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-4&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Remap fields&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remapFields&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-5&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-5&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Force results to be class instances&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;classEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;classEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-40&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-6&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-6&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Transform arguments for find, update &amp;amp; delete&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-41&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;optIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-42&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;upd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-43&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;([&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;find&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;delete&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;indexOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-44&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-45&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-7&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-7&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;For find &amp;amp; delete, options are 3rd argument (so 2nd item in &lt;code&gt;args&lt;/code&gt;)&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-46&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;optIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-47&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;update&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-48&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-49&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-8&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-8&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;For update, options are 4th argument (so 3nd item in &lt;code&gt;args&lt;/code&gt;), and &lt;code&gt;upd&lt;/code&gt; flag is toggled on.&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-50&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;optIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-51&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;upd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-52&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-53&quot;&gt;        &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-54&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-55&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-9&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-9&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;console.log(&#39;Before query transformed&#39;, args[0]);&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-56&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;optIndex&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-57&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-58&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-10&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-10&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Options to canonical&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-59&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;optIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;normalizeOptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;optIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-60&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-61&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-11&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-11&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Query search to cannonical&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-62&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;optIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remapInput&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-63&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remapFields&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-64&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-65&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;upd&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-66&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remapFields&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-67&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-68&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-69&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;normalizeQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;optIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-70&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;optIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remapInput&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-71&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;insert&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-72&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;many&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryType&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-73&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;insertion&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remapFields&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;insertion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-74&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-75&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remapFields&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-76&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-77&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-78&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-79&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-12&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-12&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;console.log(&#39;Query transformed:&#39;, args[0]);&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-80&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-81&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-82&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-83&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-84&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-85&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-13&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-13&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Hook after promise resolution&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-86&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryPromise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;callback&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-87&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryPromise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-88&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isArrayLike&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-89&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;filterResults&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-90&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-91&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;filterResults&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-92&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-93&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;results&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-94&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-95&quot;&gt;    &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-96&quot;&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-97&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-98&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-14&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-14&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Namespace &lt;em&gt;Diaspora&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-99&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-100&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-101&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-15&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-15&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;check&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Check if the value matches the field description provided, thus verify if it is valid&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Diaspora&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;entity &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Entity to check&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;modelDesc &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;module:ModelExtension.ModelPrototype&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Model description&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Array.&amp;lt;Error&amp;gt;&lt;/span&gt;&lt;span&gt;&lt;p&gt;Array of errors&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-102&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-103&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-104&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-16&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-16&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Apply method &lt;code&gt;checkField&lt;/code&gt; on each field described&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-105&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-106&quot;&gt;            &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapValues&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;field&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;field&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;field&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-107&quot;&gt;            &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-108&quot;&gt;            &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;flatten&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-109&quot;&gt;            &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;compact&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-110&quot;&gt;            &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-111&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-112&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-113&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-114&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-17&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-17&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;checkField&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Check if the value matches the field description provided, thus verify if it is valid&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Diaspora&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;value &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Any&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Value to check&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;fieldDesc &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;module:ModelExtension.FieldDescriptor&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Description of the field to check with&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;keys &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Array.&amp;lt;String&amp;gt;&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Array of keys from highest ancestor to this property&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Array.&amp;lt;Error&amp;gt;&lt;/span&gt;&lt;span&gt;&lt;p&gt;Array of errors&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-115&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;checkField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-116&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-117&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-118&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-119&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;defaults&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-120&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-121&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-122&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-123&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-124&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-125&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-126&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-18&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-18&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;It the field has a &lt;code&gt;validate&lt;/code&gt; property, try to use it&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-127&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;validate&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-128&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-129&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; custom validation failed`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-130&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-131&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-132&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-133&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-134&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-19&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-19&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Check the type and the required status&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-135&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-136&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; spec can&amp;#39;t have both a type and a model`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-137&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-138&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-139&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-20&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-20&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Apply the &lt;code&gt;required&lt;/code&gt; modifier&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-140&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tester&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-141&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;required&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-142&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;tester&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;maybe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-143&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-144&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-145&quot;&gt;                &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-146&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-147&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-148&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-21&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-21&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;summary&quot;&gt;&lt;p&gt;if ( _.has( collections, fieldDesc.model )) {&lt;br /&gt;\n                        model = collections[fieldDesc.model].model;&lt;br /&gt;\n                    } else {&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-149&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; spec &amp;quot;model&amp;quot; string does not match with any registered model`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-150&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-151&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-22&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-22&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;pre&gt;&lt;code&gt;            }\n        } else if ( c.instance( Backbone.RelationalModel, fieldDesc.model )) {\n            model = fieldDesc.model;\n&lt;/code&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-152&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-153&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; spec &amp;quot;model&amp;quot; must be either a string or a Backbone.RelationalModel instance`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-154&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-155&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-156&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tester&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-157&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; expected to be a &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;modelName&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-158&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-159&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-160&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-161&quot;&gt;                &lt;span class=&quot;k&quot;&gt;switch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-162&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-163&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tester&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-164&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; expected to be a &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-165&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-166&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-167&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-168&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;integer&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-169&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tester&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;integer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-170&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; expected to be a &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-171&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-172&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-173&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-174&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;float&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-175&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tester&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-176&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; expected to be a &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-177&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-178&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-179&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-180&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;date&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-181&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tester&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-182&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; expected to be a &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-183&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-184&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-185&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-186&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-187&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tester&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-188&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; expected to be a &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-189&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-190&quot;&gt;                            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;deepTest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-191&quot;&gt;                                &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-192&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapValues&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-193&quot;&gt;                                    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;propVal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;propName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-194&quot;&gt;                                        &lt;span class=&quot;nx&quot;&gt;propVal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-195&quot;&gt;                                        &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;propName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-196&quot;&gt;                                        &lt;span class=&quot;nx&quot;&gt;cloneKeysAdd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;propName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-197&quot;&gt;                                    &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-198&quot;&gt;                                &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;flatten&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;compact&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-199&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;deepTest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-200&quot;&gt;                                &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;deepTest&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-201&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-202&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-203&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-204&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-205&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;array&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-206&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tester&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-207&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; expected to be a &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-208&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-209&quot;&gt;                            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;deepTest&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-210&quot;&gt;                                &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-211&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-212&quot;&gt;                                    &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;propVal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;propName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-213&quot;&gt;                                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isArrayLike&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-214&quot;&gt;                                            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;subErrors&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;desc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;propVal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cloneKeysAdd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;propName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-215&quot;&gt;                                            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;subErrors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-216&quot;&gt;                                                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;subErrors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-217&quot;&gt;                                            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-218&quot;&gt;                                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-219&quot;&gt;                                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;propVal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cloneKeysAdd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;propName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-220&quot;&gt;                                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-221&quot;&gt;                                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-222&quot;&gt;                                &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;flatten&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;compact&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-223&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;deepTest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-224&quot;&gt;                                &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;deepTest&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-225&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-226&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-227&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-228&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-229&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;case&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;any&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-230&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;tester&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assigned&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-231&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; expected to be assigned with any type`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-232&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-233&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-234&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-235&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-236&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; requires to be unhandled type &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-237&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-238&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-239&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-240&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; spec &amp;quot;type&amp;quot; must be a string`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-241&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-242&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-243&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;enum&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-244&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;some&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;enum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;enumVal&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-245&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;enumVal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;RegExp&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-246&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;enumVal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-247&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-248&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;enumVal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-249&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-250&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-251&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-252&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;.&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; expected to have a value`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-253&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-254&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-255&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;errors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-256&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-257&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-258&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-259&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-23&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-23&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;default&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Set default values if required&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Diaspora&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;entity &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Entity to set defaults in&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;modelDesc &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;module:ModelExtension.ModelPrototype&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Model description&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;&lt;p&gt;Entity merged with default values&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-260&quot;&gt;    &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-261&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-262&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-24&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-24&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Apply method &lt;code&gt;defaultField&lt;/code&gt; on each field described&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-263&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;defaults&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-264&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-265&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapValues&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-266&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-267&quot;&gt;                &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;field&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;defaultField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-268&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;field&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-269&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-270&quot;&gt;                &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-271&quot;&gt;            &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-272&quot;&gt;        &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-273&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-274&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-275&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-276&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-25&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-25&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;defaultField&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Set the default on a single field according to its description&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Diaspora&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;value &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Any&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Value to default&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;fieldDesc &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;module:ModelExtension.FieldDescriptor&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Description of the field to default&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Any&lt;/span&gt;&lt;span&gt;&lt;p&gt;Defaulted value&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-277&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;defaultField&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-278&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-279&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isUndefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-280&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-281&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-282&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isFunction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-283&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-284&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-285&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fieldDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-286&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-287&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-288&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-289&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-290&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-291&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;createDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-292&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;adapters&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-293&quot;&gt;            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Unknown adapter &amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&amp;quot;. Available currently are &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapters&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;, &amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-294&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-295&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;baseAdapter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapters&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-296&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newDataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Proxy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;baseAdapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-297&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-298&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-299&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-26&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-26&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;If this is an adapter action method, wrap it with filters. Our method keys are only string, not tags&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-300&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-301&quot;&gt;                    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-302&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;method&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;match&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/^(find|update|insert|delete)(Many|One)$/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-303&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toLowerCase&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-304&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;method&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapKeys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;val&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-305&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;full&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;query&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;number&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-306&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-307&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;wrapDataSourceAction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-308&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-309&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-310&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;target&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-311&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-312&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-313&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-314&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-315&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-316&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-317&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-27&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-27&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;registerDataSource&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Stores the data source with provided label&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Diaspora&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Throws:&lt;/div&gt;&lt;div class=&quot;dox_tag_types&quot;&gt;&lt;span&gt;Type: &lt;/span&gt;&lt;span class=&quot;dox_type type-error&quot;&gt;Error&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Error is thrown if parameters are incorrect or the name is already used or &lt;code&gt;dataSource&lt;/code&gt; is not an adapter.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;moduleName &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Module declaring this datasource. Modules requiring the provided dataSource will be able to use this dataSource using the &lt;code&gt;name&lt;/code&gt; provided&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;name &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name associated with this datasource&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;dataSource &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;DiasporaAdapter&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Datasource itself&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-318&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;registerDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;moduleName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-319&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;moduleName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;moduleName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-320&quot;&gt;            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Module name must be a non empty string, had &amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;moduleName&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&amp;quot;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-321&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-322&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-323&quot;&gt;            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`DataSource name must be a non empty string, had &amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&amp;quot;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-324&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-325&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-326&quot;&gt;            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`DataSource name already used, had &amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&amp;quot;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-327&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-328&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DiasporaAdapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-329&quot;&gt;            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;DataSource must be an instance inheriting &amp;quot;DiasporaAdapter&amp;quot;&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-330&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-331&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-332&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-333&quot;&gt;            &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;moduleName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-334&quot;&gt;                &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-335&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-336&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-337&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-338&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-339&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-340&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-28&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-28&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;declareModel&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Create a new Model with provided description&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Diaspora&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Throws:&lt;/div&gt;&lt;div class=&quot;dox_tag_types&quot;&gt;&lt;span&gt;Type: &lt;/span&gt;&lt;span class=&quot;dox_type type-error&quot;&gt;Error&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Thrown if parameters are incorrect&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;moduleName &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Module declaring this datasource. Modules requiring the provided dataSource will be able to use this dataSource using the &lt;code&gt;name&lt;/code&gt; provided&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;name &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name associated with this datasource&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;modelDesc &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Description of the model to define&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-341&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;declareModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;moduleName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-342&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;moduleName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;moduleName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-343&quot;&gt;            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Module name must be a non empty string, had &amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;moduleName&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&amp;quot;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-344&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-345&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-346&quot;&gt;            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`DataSource name must be a non empty string, had &amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&amp;quot;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-347&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-348&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-349&quot;&gt;            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;quot;modelDesc&amp;quot; must be an object&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-350&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-351&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;moduleName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-352&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-353&quot;&gt;            &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;moduleName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-354&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-355&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;moduleName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-356&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-357&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-358&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-359&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;models&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-360&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-361&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;adapters&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-362&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;dependencies&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-363&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;lodash&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;             &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-364&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;bluebird&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;           &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-365&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;sequential-event&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SequentialEvent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-366&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-367&quot;&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-368&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-369&quot;&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-370&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-371&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-372&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-29&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-29&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Load Model class after, so that Model requires Diaspora once it is declared&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-373&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Model&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./model&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "diaspora.jslib/diaspora.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\nconst _ = require( &amp;#39;lodash&amp;#39; );\nconst Promise = require( &amp;#39;bluebird&amp;#39; );\nconst SequentialEvent = require( &amp;#39;sequential-event&amp;#39; );\nconst DiasporaAdapter = require( &amp;#39;./adapters/baseAdapter.js&amp;#39; );\n\nconst adapters = {\n    &amp;#39;in-memory&amp;#39;:    require( &amp;#39;./adapters/inMemoryAdapter&amp;#39; ),\n    &amp;#39;localstorage&amp;#39;: require( &amp;#39;./adapters/localStorageAdapter&amp;#39; ),\n};\nconst dataSources = {};\nconst models = {};\n\n\n&amp;#182;Method cloneKeysAddDescription:Clone keys array and add the provided valueIn: DiasporaParams keys Array.&amp;lt;String&amp;gt;- Array of keys to this point. newKey String- New key value.ReturnsArray.&amp;lt;String&amp;gt;Clone of keys with newKey added at the endScope: innerprivateAuthorfunction cloneKeysAdd( keys, newKey ) {\n    const newKeys = _.clone( keys );\n    newKeys.push( newKey );\n    return newKeys;\n}\n\nconst wrapDataSourceAction = ( callback, queryType, adapter ) =&amp;gt; {\n    return ( table, ...args ) =&amp;gt; {\n\n&amp;#182;Filter our results        const filterResults = entity =&amp;gt; {\n\n&amp;#182;Remap fields            entity = adapter.remapFields( table, entity, true );\n\n&amp;#182;Force results to be class instances            if ( !( entity instanceof adapter.classEntity ) &amp;amp;&amp;amp; !_.isNil( entity )) {\n                return new adapter.classEntity( entity, adapter );\n            }\n            return entity;\n        };\n\n\n&amp;#182;Transform arguments for find, update &amp;amp; delete        let optIndex = false;\n        let upd = false;\n        if ([ &amp;#39;find&amp;#39;, &amp;#39;delete&amp;#39; ].indexOf( queryType.query ) &amp;gt;= 0 ) {\n\n&amp;#182;For find &amp;amp; delete, options are 3rd argument (so 2nd item in args)            optIndex = 1;\n        } else if ( &amp;#39;update&amp;#39; === queryType.query ) {\n\n&amp;#182;For update, options are 4th argument (so 3nd item in args), and upd flag is toggled on.            optIndex = 2;\n            upd = true;\n        }\n        try {\n\n&amp;#182;console.log(&#39;Before query transformed&#39;, args[0]);            if ( false !== optIndex ) {\n\n&amp;#182;Options to canonical                args[optIndex] = adapter.normalizeOptions( args[optIndex]);\n\n&amp;#182;Query search to cannonical                if ( true === args[optIndex].remapInput ) {\n                    args[0] = adapter.remapFields( table, args[0], false );\n\n                    if ( true === upd ) {\n                        args[1] = adapter.remapFields( table, args[1], false );\n                    }\n                }\n                args[0] = adapter.normalizeQuery( args[0], args[optIndex]);\n                args[optIndex].remapInput = false;\n            } else if ( &amp;#39;insert&amp;#39; === queryType.query ) {\n                if ( &amp;#39;many&amp;#39; === queryType.number ) {\n                    args[0] = _.map( args[0], insertion =&amp;gt; adapter.remapFields( table, insertion, false ));\n                } else {\n                    args[0] = adapter.remapFields( table, args[0], false );\n                }\n            }\n\n&amp;#182;console.log(&#39;Query transformed:&#39;, args[0]);        } catch ( err ) {\n            return Promise.reject( err );\n        }\n\n\n&amp;#182;Hook after promise resolution        const queryPromise = callback.call( adapter, table, ...args );\n        return queryPromise.then( results =&amp;gt; {\n            if ( _.isArrayLike( results )) {\n                results = _.map( results, filterResults );\n            } else if ( !_.isNil( results )) {\n                results = filterResults( results );\n            }\n            return Promise.resolve( results );\n        });\n    };\n};\n\n&amp;#182;Namespace DiasporaScope: publicAuthorconst Diaspora = {\n\n&amp;#182;Method checkDescription:Check if the value matches the field description provided, thus verify if it is validIn: DiasporaParams entity Object- Entity to check modelDesc module:ModelExtension.ModelPrototype- Model descriptionReturnsArray.&amp;lt;Error&amp;gt;Array of errorsScope: publicAuthor    check( entity, modelDesc ) {\n\n&amp;#182;Apply method checkField on each field described        return _( modelDesc )\n            .mapValues(( fieldDesc, field ) =&amp;gt; this.checkField.call( this, entity[field], fieldDesc, [ field ]))\n            .values()\n            .flatten()\n            .compact()\n            .value();\n    },\n\n\n&amp;#182;Method checkFieldDescription:Check if the value matches the field description provided, thus verify if it is validIn: DiasporaParams value Any- Value to check fieldDesc module:ModelExtension.FieldDescriptor- Description of the field to check with keys Array.&amp;lt;String&amp;gt;- Array of keys from highest ancestor to this propertyReturnsArray.&amp;lt;Error&amp;gt;Array of errorsScope: publicAuthor    checkField( value, fieldDesc, keys ) {\n        if ( !_.isObject( fieldDesc )) {\n            return;\n        }\n        _.defaults( fieldDesc, {\n            required: false,\n        });\n\n        var errors = [];\n\n\n&amp;#182;It the field has a validate property, try to use it        if ( fieldDesc.validate ) {\n            if ( !fieldDesc.validate.call( this, value, fieldDesc )) {\n                errors.push( `${ keys.join( &amp;#39;.&amp;#39; ) } custom validation failed` );\n            }\n        }\n\n\n&amp;#182;Check the type and the required status        if ( !_.isNil( fieldDesc.type ) &amp;amp;&amp;amp; !_.isNil( fieldDesc.model )) {\n            errors.push( `${ keys.join( &amp;#39;.&amp;#39; ) } spec can&amp;#39;t have both a type and a model` );\n        } else {\n\n&amp;#182;Apply the required modifier            let tester = c;\n            if ( fieldDesc.required !== true ) {\n                tester = c.maybe;\n            }\n            if ( !_.isNil( fieldDesc.model )) {\n                let model = false;\n                if ( _.isString( fieldDesc.model )) {\n\n&amp;#182;if ( _.has( collections, fieldDesc.model )) {\n                        model = collections[fieldDesc.model].model;\n                    } else {                    errors.push( `${ keys.join( &amp;#39;.&amp;#39; ) } spec &amp;quot;model&amp;quot; string does not match with any registered model` );\n\n&amp;#182;            }\n        } else if ( c.instance( Backbone.RelationalModel, fieldDesc.model )) {\n            model = fieldDesc.model;\n                } else {\n                    errors.push( `${ keys.join( &amp;#39;.&amp;#39; ) } spec &amp;quot;model&amp;quot; must be either a string or a Backbone.RelationalModel instance` );\n                }\n                if ( model ) {\n                    if ( !tester.instance( value, model )) {\n                        errors.push( `${ keys.join( &amp;#39;.&amp;#39; ) } expected to be a ${ model.modelName }` );\n                    }\n                }\n            } else if ( _.isString( fieldDesc.type )) {\n                switch ( fieldDesc.type ) {\n                    case &amp;#39;string&amp;#39;: {\n                        if ( !tester.string( value )) {\n                            errors.push( `${ keys.join( &amp;#39;.&amp;#39; ) } expected to be a ${ fieldDesc.type }` );\n                        }\n                    } break;\n\n                    case &amp;#39;integer&amp;#39;: {\n                        if ( !tester.integer( value )) {\n                            errors.push( `${ keys.join( &amp;#39;.&amp;#39; ) } expected to be a ${ fieldDesc.type }` );\n                        }\n                    } break;\n\n                    case &amp;#39;float&amp;#39;: {\n                        if ( !tester.number( value )) {\n                            errors.push( `${ keys.join( &amp;#39;.&amp;#39; ) } expected to be a ${ fieldDesc.type }` );\n                        }\n                    } break;\n\n                    case &amp;#39;date&amp;#39;: {\n                        if ( !tester.date( value )) {\n                            errors.push( `${ keys.join( &amp;#39;.&amp;#39; ) } expected to be a ${ fieldDesc.type }` );\n                        }\n                    } break;\n\n                    case &amp;#39;object&amp;#39;: {\n                        if ( !tester.object( value )) {\n                            errors.push( `${ keys.join( &amp;#39;.&amp;#39; ) } expected to be a ${ fieldDesc.type }` );\n                        } else {\n                            const deepTest = _.isObject(\n                                fieldDesc.attributes\n                            ) ? _( value ).mapValues(\n                                    ( propVal, propName ) =&amp;gt; this.checkField(\n                                        propVal,\n                                        fieldDesc.attributes[propName],\n                                        cloneKeysAdd( keys, propName )\n                                    )\n                                ).values().flatten().compact().value() : [];\n                            if ( deepTest.length !== 0 ) {\n                                errors = errors.concat( deepTest );\n                            }\n                        }\n                    } break;\n\n                    case &amp;#39;array&amp;#39;: {\n                        if ( !tester.array( value )) {\n                            errors.push( `${ keys.join( &amp;#39;.&amp;#39; ) } expected to be a ${ fieldDesc.type }` );\n                        } else {\n                            const deepTest = _.isObject(\n                                fieldDesc.of\n                            ) ? _( value ).map(\n                                    ( propVal, propName ) =&amp;gt; {\n                                        if ( _.isArrayLike( fieldDesc.of )) {\n                                            const subErrors = _( fieldDesc.of ).map( desc =&amp;gt; this.checkField( propVal, desc, cloneKeysAdd( keys, propName )));\n                                            if ( !_.find( subErrors, v =&amp;gt; 0 === v.length )) {\n                                                return subErrors;\n                                            }\n                                        } else {\n                                            return this.checkField( propVal, fieldDesc.of, cloneKeysAdd( keys, propName ));\n                                        }\n                                    }\n                                ).flatten().compact().value() : [];\n                            if ( deepTest.length !== 0 ) {\n                                errors = errors.concat( deepTest );\n                            }\n                        }\n                    } break;\n\n                    case &amp;#39;any&amp;#39;: {\n                        if ( !tester.assigned( value )) {\n                            errors.push( `${ keys.join( &amp;#39;.&amp;#39; ) } expected to be assigned with any type` );\n                        }\n                    } break;\n\n                    default: {\n                        errors.push( `${ keys.join( &amp;#39;.&amp;#39; ) } requires to be unhandled type ${ fieldDesc.type }` );\n                    } break;\n                }\n            } else {\n                errors.push( `${ keys.join( &amp;#39;.&amp;#39; ) } spec &amp;quot;type&amp;quot; must be a string` );\n            }\n        }\n        if ( !_.isNil( fieldDesc.enum )) {\n            const result = _.some( fieldDesc.enum, enumVal =&amp;gt; {\n                if ( c.instance( enumVal, RegExp )) {\n                    return null !== enumVal.exec( value );\n                } else {\n                    return value === enumVal;\n                }\n            });\n            if ( false === result ) {\n                errors.push( `${ keys.join( &amp;#39;.&amp;#39; ) } expected to have a value` );\n            }\n        }\n        return errors;\n    },\n\n\n&amp;#182;Method defaultDescription:Set default values if requiredIn: DiasporaParams entity Object- Entity to set defaults in modelDesc module:ModelExtension.ModelPrototype- Model descriptionReturnsObjectEntity merged with default valuesScope: publicAuthor    default( entity, modelDesc ) {\n\n&amp;#182;Apply method defaultField on each field described        return _.defaults(\n            entity,\n            _.mapValues(\n                modelDesc,\n                ( fieldDesc, field ) =&amp;gt; this.defaultField(\n                    entity[field],\n                    fieldDesc\n                )\n            )\n        );\n    },\n\n\n&amp;#182;Method defaultFieldDescription:Set the default on a single field according to its descriptionIn: DiasporaParams value Any- Value to default fieldDesc module:ModelExtension.FieldDescriptor- Description of the field to defaultReturnsAnyDefaulted valueScope: publicAuthor    defaultField( value, fieldDesc ) {\n        let out;\n        if ( !_.isUndefined( value )) {\n            out = value;\n        } else {\n            out = _.isFunction( fieldDesc.default ) ? fieldDesc.default() : fieldDesc.default;\n        }\n        if ( &amp;#39;object&amp;#39; === fieldDesc.type &amp;amp;&amp;amp; _.isObject( fieldDesc.attributes ) &amp;amp;&amp;amp; _.keys( fieldDesc.attributes ).length &amp;gt; 0 &amp;amp;&amp;amp; !_.isNil( out )) {\n            return this.default( out, fieldDesc.attributes );\n        } else {\n            return out;\n        }\n    },\n\n    createDataSource( adapter, config ) {\n        if ( !adapters.hasOwnProperty( adapter )) {\n            throw new Error( `Unknown adapter &amp;quot;${ adapter }&amp;quot;. Available currently are ${ Object.keys( adapters ).join( &amp;#39;, &amp;#39; ) }` );\n        }\n        const baseAdapter = new adapters[adapter]( config );\n        const newDataSource = new Proxy( baseAdapter, {\n            get: function( target, key ) {\n\n&amp;#182;If this is an adapter action method, wrap it with filters. Our method keys are only string, not tags                if ( _.isString( key )) {\n                    let method;\n                    if ( method = key.match( /^(find|update|insert|delete)(Many|One)$/ )) {\n                        method[2] = method[2].toLowerCase();\n                        method = _.mapKeys( method.slice( 0, 3 ), ( val, key ) =&amp;gt; {\n                            return [ &amp;#39;full&amp;#39;, &amp;#39;query&amp;#39;, &amp;#39;number&amp;#39; ][key];\n                        });\n                        return wrapDataSourceAction( target[key], method, target );\n                    }\n                }\n                return target[key];\n            },\n        });\n        return newDataSource;\n    },\n\n\n&amp;#182;Method registerDataSourceDescription:Stores the data source with provided labelIn: DiasporaThrows:Type: ErrorError is thrown if parameters are incorrect or the name is already used or dataSource is not an adapter.Params moduleName String- Module declaring this datasource. Modules requiring the provided dataSource will be able to use this dataSource using the name provided name String- Name associated with this datasource dataSource DiasporaAdapter- Datasource itselfScope: publicAuthor    registerDataSource( moduleName, name, dataSource ) {\n        if ( !_.isString( moduleName ) &amp;amp;&amp;amp; moduleName.length &amp;gt; 0 ) {\n            throw new Error( `Module name must be a non empty string, had &amp;quot;${ moduleName }&amp;quot;` );\n        }\n        if ( !_.isString( name ) &amp;amp;&amp;amp; name.length &amp;gt; 0 ) {\n            throw new Error( `DataSource name must be a non empty string, had &amp;quot;${ name }&amp;quot;` );\n        }\n        if ( dataSources.hasOwnProperty( name )) {\n            throw new Error( `DataSource name already used, had &amp;quot;${ name }&amp;quot;` );\n        }\n        if ( !( dataSource instanceof DiasporaAdapter )) {\n            throw new Error( &amp;#39;DataSource must be an instance inheriting &amp;quot;DiasporaAdapter&amp;quot;&amp;#39; );\n        }\n        dataSource.name = name;\n        _.merge( dataSources, {\n            [moduleName]: {\n                [name]: dataSource,\n            },\n        });\n    },\n\n\n&amp;#182;Method declareModelDescription:Create a new Model with provided descriptionIn: DiasporaThrows:Type: ErrorThrown if parameters are incorrectParams moduleName String- Module declaring this datasource. Modules requiring the provided dataSource will be able to use this dataSource using the name provided name String- Name associated with this datasource modelDesc Object- Description of the model to defineScope: publicAuthor    declareModel( moduleName, name, modelDesc ) {\n        if ( !_.isString( moduleName ) &amp;amp;&amp;amp; moduleName.length &amp;gt; 0 ) {\n            throw new Error( `Module name must be a non empty string, had &amp;quot;${ moduleName }&amp;quot;` );\n        }\n        if ( !_.isString( name ) &amp;amp;&amp;amp; name.length &amp;gt; 0 ) {\n            throw new Error( `DataSource name must be a non empty string, had &amp;quot;${ name }&amp;quot;` );\n        }\n        if ( !_.isObject( modelDesc )) {\n            throw new Error( &amp;#39;&amp;quot;modelDesc&amp;quot; must be an object&amp;#39; );\n        }\n        const model = new Model( moduleName, name, modelDesc );\n        _.assign( models, {\n            [moduleName]: {},\n        });\n        models[moduleName][name] = model;\n        return model;\n    },\n\n    models,\n    dataSources,\n    adapters,\n    dependencies: {\n        lodash:             _,\n        bluebird:           Promise,\n        &amp;#39;sequential-event&amp;#39;: SequentialEvent,\n    },\n};\n\nmodule.exports = Diaspora;\n\n\n&amp;#182;Load Model class after, so that Model requires Diaspora once it is declaredconst Model = require( &amp;#39;./model&amp;#39; );\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "entityFactory.js",
		 "url"     : "docco/lib/entityFactory.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;entityFactory.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;lib/entityFactory.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;lodash&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bluebird&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./diaspora&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DataStoreEntity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./dataStoreEntities/baseEntity&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityPrototype&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;writable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;enumerable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;writable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;enumerable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;toObject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;writable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;enumerable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;persist&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;writable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;enumerable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;writable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;enumerable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;destroy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;writable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;enumerable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;getState&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;writable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;enumerable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;getLastDataSource&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;writable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;enumerable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-40&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-41&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;getUidQuery&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-42&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;writable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-43&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;enumerable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-44&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-45&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;getTable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-46&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;writable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-47&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;enumerable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-48&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-49&quot;&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-50&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityPrototypeProperties&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityPrototype&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-51&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-52&quot;&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;EntityFactory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelAttrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-53&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelAttrsKeys&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelAttrs&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-54&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-55&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-56&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Class &lt;em&gt;Entity&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;An entity is a document in the population of all your datas of the same type&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Create a new entity&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;source &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash with properties to copy on the new object&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-57&quot;&gt;    &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-58&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-59&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-3&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-3&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Stores the object state&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-60&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;orphan&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-61&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;lastDataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-62&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;seal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapValues&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-63&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-64&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;instanceof&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DataStoreEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-65&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sync&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-66&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;lastDataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-67&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lastDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-68&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;omit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;id&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-69&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-70&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-71&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-4&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-4&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Check keys provided in source&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-72&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceKeys&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-73&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-74&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-5&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-5&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Check if there is an intersection with reserved, and have differences with model attributes&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-75&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceUReserved&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;intersection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityPrototypeProperties&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-76&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceUReserved&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-77&quot;&gt;            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Source has reserved keys: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceUReserved&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; in &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-78&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-79&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceDModel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;difference&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelAttrsKeys&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-80&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceDModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Later, add a criteria for schemaless models&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-81&quot;&gt;            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Source has unknown keys: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceDModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; in &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-82&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-83&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-84&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-6&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-6&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Now we know that the source is valid. First, deeply clone to detach object values from entity&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-85&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cloneDeep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-86&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-87&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-7&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-7&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Free the source&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-88&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-89&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-90&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-8&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-8&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Default model attributes with our model desc&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-91&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelAttrs&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-92&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-93&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-9&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-9&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Define getters &amp;amp; setters&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-94&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityDefined&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;defineProperties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;extend&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-95&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-96&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-97&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-98&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-99&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-100&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-101&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;toObject&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-102&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;toObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-103&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;omit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityPrototypeProperties&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-104&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-105&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-106&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;persist&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-107&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;persist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-108&quot;&gt;                    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-109&quot;&gt;                    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-110&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-111&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-10&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-10&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Depending on state, we are going to perform a different operation&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-112&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;orphan&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-113&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;promise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-114&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-115&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;promise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;updateOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getUidQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-116&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-117&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;syncing&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-118&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;lastDataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-119&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-120&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sync&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-121&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;entityDefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-122&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-123&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-124&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-125&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-126&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-127&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-128&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-129&quot;&gt;                    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-130&quot;&gt;                    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-131&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-132&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-11&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-11&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Depending on state, we are going to perform a different operation&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-133&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;orphan&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-134&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;promise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Can\\&amp;#39;t fetch an orphan entity&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-135&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-136&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;promise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getUidQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-137&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-138&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;syncing&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-139&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;lastDataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-140&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-141&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sync&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-142&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;entityDefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-143&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-144&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-145&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-146&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-147&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-148&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;destroy&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-149&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;destroy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-150&quot;&gt;                    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-151&quot;&gt;                    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-152&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;orphan&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-153&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;promise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Can\\&amp;#39;t destroy an orphan entity&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-154&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-155&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;promise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deleteOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getUidQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-156&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-157&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;syncing&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-158&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;lastDataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-159&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-160&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-161&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-12&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-12&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;If this was our only data source, then go back to orphan state&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-162&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;without&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-163&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;orphan&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-164&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-165&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sync&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-166&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;idHash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-167&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-168&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;entityDefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-169&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-170&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-171&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-172&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-173&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-174&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;getState&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-175&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getState&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-176&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-177&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-178&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-179&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;getLastDataSource&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-180&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getLastDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-181&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;lastDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-182&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-183&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-184&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;getUidQuery&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-185&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getUidQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-186&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-187&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;idHash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-188&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-189&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-190&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-191&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;getTable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-192&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-193&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-194&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-195&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-196&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-197&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityProxied&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Proxy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityDefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-198&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-199&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;constructor&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-200&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityDefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-201&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-202&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityDefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-203&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityDefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-204&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-205&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-206&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-207&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-208&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityDefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-209&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;warn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Trying to define read-only key &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;.`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-210&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-211&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-212&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-213&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-214&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;enumerate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-215&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-216&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-217&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;ownKeys&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-218&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;concat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityPrototypeProperties&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-219&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-220&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;has&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-221&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-222&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-223&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-224&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityProxied&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-225&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-226&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;EntityWrapped&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;defineProperties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-227&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-228&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-13&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-13&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Entity&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Properties&lt;/div&gt;&lt;table class=&quot;dox_properties dox_tag_detail table-striped&quot;&gt;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Types&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;name&lt;/td&gt;&lt;td&gt;String&lt;/td&gt;&lt;td&gt;&lt;p&gt;Name of the class&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-229&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-230&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;      &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;  &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;Entity`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-231&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;writable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-232&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;enumerable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-233&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-234&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-235&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-14&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-14&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Entity&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;static&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Properties&lt;/div&gt;&lt;table class=&quot;dox_properties dox_tag_detail table-striped&quot;&gt;&lt;tr&gt;&lt;th&gt;Name&lt;/th&gt;&lt;th&gt;Types&lt;/th&gt;&lt;th&gt;Description&lt;/th&gt;&lt;/tr&gt;&lt;tr class=&quot;dox_property&quot;&gt;&lt;td&gt;model&lt;/td&gt;&lt;td&gt;Model&lt;/td&gt;&lt;td&gt;&lt;p&gt;Reference to this entity&#39;s model&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-236&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-237&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;      &lt;span class=&quot;nx&quot;&gt;model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-238&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;writable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-239&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;enumerable&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-240&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-241&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-242&quot;&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;EntityWrapped&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-243&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-244&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-245&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-246&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-15&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-15&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Add prototype infos to the function, so users can know which props are used.&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-247&quot;&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;EntityFactory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-248&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;entityPrototype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-249&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;entityPrototypeProperties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-250&quot;&gt;&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-251&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-252&quot;&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;EntityFactory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "entityFactory.jslib/entityFactory.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\nconst _ = require( &amp;#39;lodash&amp;#39; );\nconst Promise = require( &amp;#39;bluebird&amp;#39; );\nconst Diaspora = require( &amp;#39;./diaspora&amp;#39; );\nconst DataStoreEntity = require( &amp;#39;./dataStoreEntities/baseEntity&amp;#39; );\n\nconst entityPrototype = {\n    model: {\n        writable:   false,\n        enumerable: true, \n    },\n    dataSources: {\n        writable:   false,\n        enumerable: true, \n    },\n    toObject: {\n        writable:   false,\n        enumerable: true, \n    },\n    persist: {\n        writable:   false,\n        enumerable: true, \n    },\n    fetch: {\n        writable:   false,\n        enumerable: true, \n    },\n    destroy: {\n        writable:   false,\n        enumerable: true, \n    },\n    getState: {\n        writable:   false,\n        enumerable: true, \n    },\n    getLastDataSource: {\n        writable:   false,\n        enumerable: true, \n    },\n    getUidQuery: {\n        writable:   false,\n        enumerable: true, \n    },\n    getTable: {\n        writable:   false,\n        enumerable: true, \n    },\n};\nconst entityPrototypeProperties = _.keys( entityPrototype );\n\nfunction EntityFactory( name, modelAttrs, model ) {\n    const modelAttrsKeys = _.keys( modelAttrs );\n\n\n&amp;#182;Class EntityAn entity is a document in the population of all your datas of the same typeDescription:Create a new entityParams source Object- Hash with properties to copy on the new objectScope: publicAuthor    function Entity( source = {}) {\n\n&amp;#182;Stores the object state        let state = &amp;#39;orphan&amp;#39;;\n        let lastDataSource = null;\n        const dataSources = Object.seal( _.mapValues( model.dataSources, () =&amp;gt; undefined ));\n\n        if ( source instanceof DataStoreEntity ) {\n            state = &amp;#39;sync&amp;#39;;\n            lastDataSource = source.dataSource.name;\n            dataSources[lastDataSource] = source;\n            source = _.omit( source.toObject(), [ &amp;#39;id&amp;#39; ]);\n        }\n\n&amp;#182;Check keys provided in source        const sourceKeys = _.keys( source );\n\n&amp;#182;Check if there is an intersection with reserved, and have differences with model attributes        const sourceUReserved = _.intersection( source, entityPrototypeProperties );\n        if ( 0 !== sourceUReserved.length ) {\n            throw new Error( `Source has reserved keys: ${ JSON.stringify( sourceUReserved ) } in ${ JSON.stringify( source ) }` );\n        }\n        const sourceDModel = _.difference( source, modelAttrsKeys );\n        if ( 0 !== sourceDModel.length ) { // Later, add a criteria for schemaless models\n            throw new Error( `Source has unknown keys: ${ JSON.stringify( sourceDModel ) } in ${ JSON.stringify( source ) }` );\n        }\n\n&amp;#182;Now we know that the source is valid. First, deeply clone to detach object values from entity        let attributes = _.cloneDeep( source );\n\n&amp;#182;Free the source        source = null;\n\n&amp;#182;Default model attributes with our model desc        Diaspora.default( attributes, modelAttrs );\n\n&amp;#182;Define getters &amp;amp; setters        const entityDefined = Object.defineProperties( this, _.extend({\n            model: {\n                value: model, \n            },\n            dataSources: {\n                value: dataSources, \n            },\n            toObject: {\n                value: function toObject() {\n                    return _.omit( attributes, entityPrototypeProperties ); \n                }, \n            },\n            persist: {\n                value: function persist( sourceName ) {\n                    const dataSource = this.model.getDataSource( sourceName );\n                    let promise;\n\n&amp;#182;Depending on state, we are going to perform a different operation                    if ( &amp;#39;orphan&amp;#39; === state ) {\n                        promise = dataSource.insertOne( this.getTable( sourceName ), this.toObject());\n                    } else {\n                        promise = dataSource.updateOne( this.getTable( sourceName ), this.getUidQuery( dataSource ), this.toObject());\n                    }\n                    state = &amp;#39;syncing&amp;#39;;\n                    lastDataSource = dataSource.name;\n                    return promise.then( dataStoreEntity =&amp;gt; {\n                        state = &amp;#39;sync&amp;#39;;\n                        entityDefined.dataSources[dataSource.name] = dataStoreEntity;\n                        attributes = dataStoreEntity.toObject();\n                        return Promise.resolve( this );\n                    });\n                }, \n            },\n            fetch: {\n                value: function fetch( sourceName ) {\n                    const dataSource = this.model.getDataSource( sourceName );\n                    let promise;\n\n&amp;#182;Depending on state, we are going to perform a different operation                    if ( &amp;#39;orphan&amp;#39; === state ) {\n                        promise = Promise.reject( &amp;#39;Can\\&amp;#39;t fetch an orphan entity&amp;#39; );\n                    } else {\n                        promise = dataSource.findOne( this.getTable( sourceName ), this.getUidQuery( dataSource ));\n                    }\n                    state = &amp;#39;syncing&amp;#39;;\n                    lastDataSource = dataSource.name;\n                    return promise.then( dataStoreEntity =&amp;gt; {\n                        state = &amp;#39;sync&amp;#39;;\n                        entityDefined.dataSources[dataSource.name] = dataStoreEntity;\n                        attributes = dataStoreEntity.toObject();\n                        return Promise.resolve( this );\n                    });\n                }, \n            },\n            destroy: {\n                value: function destroy( sourceName ) {\n                    const dataSource = this.model.getDataSource( sourceName );\n                    let promise;\n                    if ( &amp;#39;orphan&amp;#39; === state ) {\n                        promise = Promise.reject( new Error( &amp;#39;Can\\&amp;#39;t destroy an orphan entity&amp;#39; ));\n                    } else {\n                        promise = dataSource.deleteOne( this.getTable( sourceName ), this.getUidQuery( dataSource ));\n                    }\n                    state = &amp;#39;syncing&amp;#39;;\n                    lastDataSource = dataSource.name;\n                    return promise.then( dataStoreEntity =&amp;gt; {\n\n&amp;#182;If this was our only data source, then go back to orphan state                        if ( 0 === _.without( model.dataSources, dataSource.name ).length ) {\n                            state = &amp;#39;orphan&amp;#39;;\n                        } else {\n                            state = &amp;#39;sync&amp;#39;;\n                            delete attributes.idHash[dataSource.name];\n                        }\n                        entityDefined.dataSources[dataSource.name] = undefined;\n                        dataStoreEntity = null;\n                        return Promise.resolve( this );\n                    });\n                }, \n            },\n            getState: {\n                value: function getState() {\n                    return state; \n                }, \n            },\n            getLastDataSource: {\n                value: function getLastDataSource() {\n                    return lastDataSource; \n                }, \n            },\n            getUidQuery: {\n                value: function getUidQuery( dataSource ) {\n                    return {\n                        id: attributes.idHash[dataSource.name],\n                    };\n                }, \n            },\n            getTable: {\n                value: function getTable( sourceName ) {\n                    return name;\n                }, \n            },\n        }));\n        const entityProxied = new Proxy( entityDefined, {\n            get: ( obj, key ) =&amp;gt; {\n                if ( &amp;#39;constructor&amp;#39; === key ) {\n                    return entityDefined[key];\n                }\n                if ( entityDefined.hasOwnProperty( key )) {\n                    return entityDefined[key];\n                }\n                return attributes[key];\n            },\n            set: ( obj, key, value ) =&amp;gt; {\n                if ( entityDefined.hasOwnProperty( key )) {\n                    console.warn( `Trying to define read-only key ${ key }.` );\n                    return value;\n                }\n                return attributes[key] = value;\n            },\n            enumerate: obj =&amp;gt; {\n                return _.keys( attributes );\n            },\n            ownKeys: obj =&amp;gt; {\n                return _( attributes ).keys().concat( entityPrototypeProperties ).value();\n            },\n            has: ( obj, key ) =&amp;gt; {\n                return attributes.hasOwnProperty( key );\n            },\n        });\n        return entityProxied;\n    }\n    const EntityWrapped = Object.defineProperties( Entity, {\n\n&amp;#182;In: EntityScope: staticpublicPropertiesNameTypesDescriptionnameStringName of the classAuthor        name: {\n            value:      `${ name  }Entity`,\n            writable:   false,\n            enumerable: true, \n        },\n\n&amp;#182;In: EntityScope: staticpublicPropertiesNameTypesDescriptionmodelModelReference to this entity&#39;s modelAuthor        model: {\n            value:      model,\n            writable:   false,\n            enumerable: true, \n        },\n    });\n    return EntityWrapped;\n}\n\n\n&amp;#182;Add prototype infos to the function, so users can know which props are used._.assign( EntityFactory, {\n    entityPrototype,\n    entityPrototypeProperties,\n});\n\nmodule.exports = EntityFactory;\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Getting started",
		 "url"     : "getting-started.html",
		 "date"     : "",
		 "html"  : "&lt;h1 id=&quot;getting-started&quot;&gt;Getting started&lt;/h1&gt;\n\n&lt;h2 id=&quot;install-diaspora&quot;&gt;Install Diaspora&lt;/h2&gt;\n\n&lt;p&gt;Diaspora is available on both the browser &amp;amp; Node.JS. Follow these steps to include Diaspora in your app:&lt;/p&gt;\n\n&lt;h3 id=&quot;for-nodejs&quot;&gt;For Node.JS&lt;/h3&gt;\n\n&lt;p&gt;First, install the package (and add it to your projects &lt;em&gt;dependencies&lt;/em&gt;)&lt;/p&gt;\n\n&lt;div class=&quot;tabs tabs-code&quot;&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;npm&quot;&gt;\n\n    &lt;h4 id=&quot;with-npm&quot;&gt;With NPM&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;npm install --save diaspora&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n\n  &lt;!-- &lt;div class=&quot;tab&quot; data-ref=&quot;yarn&quot;&gt;\n\n#### With Yarn\n\n\n&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-shell&quot; data-lang=&quot;shell&quot;&gt;&lt;span class=&quot;c&quot;&gt;#npm install --save diaspora&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;\n\n&lt;/div&gt; --&gt;\n&lt;/div&gt;\n\n&lt;p&gt;Once installed, simply load it using &lt;em&gt;Node&lt;/em&gt;s &lt;code class=&quot;highlighter-rouge&quot;&gt;require&lt;/code&gt;&lt;/p&gt;\n\n&lt;figure class=&quot;highlight&quot;&gt;\n  &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;diaspora&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;/figure&gt;\n\n&lt;h3 id=&quot;for-the-browser&quot;&gt;For the browser&lt;/h3&gt;\n\n&lt;p&gt;Diaspora for the browser is built in 2 versions:&lt;/p&gt;\n\n&lt;h4 id=&quot;standalone&quot;&gt;Standalone&lt;/h4&gt;\n\n&lt;p&gt;This build contains Diaspora and all of its dependencies, packaged in a single (&lt;em&gt;big&lt;/em&gt;) script file. You may prefer to use this file if you want to load Diaspora on every page of your site, or if you dont want to worry with loading each dependencies.&lt;/p&gt;\n\n&lt;figure class=&quot;highlight&quot;&gt;\n  &lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;\n\t&lt;span class=&quot;nt&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- Your document&#39;s `head` --&amp;gt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;\n\t&lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;\n\t\t&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- Your page content --&amp;gt;&lt;/span&gt;\n\t\t&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;diaspora.min.js&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;\n\t\t&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;...&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- Load here your main page script. --&amp;gt;&lt;/span&gt;\n\t&lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;/figure&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;This build export following libraries:&lt;/p&gt;\n\n  &lt;ul&gt;\n    &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;lodash&lt;/code&gt; as &lt;code class=&quot;highlighter-rouge&quot;&gt;_&lt;/code&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;bluebird&lt;/code&gt; as &lt;code class=&quot;highlighter-rouge&quot;&gt;Promise&lt;/code&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;check-types&lt;/code&gt; as &lt;code class=&quot;highlighter-rouge&quot;&gt;c&lt;/code&gt;&lt;/li&gt;\n    &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sequential-event&lt;/code&gt; as &lt;code class=&quot;highlighter-rouge&quot;&gt;SequentialEvent&lt;/code&gt;&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/blockquote&gt;\n\n&lt;h4 id=&quot;isolated&quot;&gt;Isolated&lt;/h4&gt;\n\n&lt;p&gt;This version, much lighter, requires that you load each dependencies before loading Diaspora. You may use this version if you use Diaspora on some pages only, but you want some libraries (such as &lt;code class=&quot;highlighter-rouge&quot;&gt;lodash&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;bluebird&lt;/code&gt;) to be loaded everywhere. Youll improve your overall performance by using efficiently the browser cache.&lt;/p&gt;\n\n&lt;figure class=&quot;highlight&quot;&gt;\n  &lt;pre&gt;&lt;code class=&quot;language-html&quot; data-lang=&quot;html&quot;&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;html&amp;gt;&lt;/span&gt;\n\t&lt;span class=&quot;nt&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- Your document&#39;s `head` --&amp;gt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;\n\t&lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;\n\t\t&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- Your page content --&amp;gt;&lt;/span&gt;\n\t\t&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;lodash.min.js&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;\n\t\t&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;bluebird.min.js&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;\n\t\t&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;check-types.min.js&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;\n\t\t&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;sequential-event.min.js&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;\n\t\t&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;diaspora.min.js&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;\n\t\t&lt;span class=&quot;nt&quot;&gt;&amp;lt;script &lt;/span&gt;&lt;span class=&quot;na&quot;&gt;type=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;text/javascript&quot;&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;...&quot;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;gt;&amp;lt;/script&amp;gt;&lt;/span&gt;&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- Load here your main page script. --&amp;gt;&lt;/span&gt;\n\t&lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;\n&lt;span class=&quot;nt&quot;&gt;&amp;lt;/html&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;/figure&gt;\n\n&lt;h2 id=&quot;use-diaspora&quot;&gt;Use Diaspora&lt;/h2&gt;\n\n&lt;p&gt;&lt;strong&gt;Here we finally are&lt;/strong&gt;. Now &lt;em&gt;Diaspora&lt;/em&gt; is available in your app. You just have to configure and use it.&lt;/p&gt;\n\n&lt;h3 id=&quot;create-a-data-source&quot;&gt;Create a data source&lt;/h3&gt;\n\n&lt;figure class=&quot;highlight&quot;&gt;\n  &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;NAMESPACE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;myApp&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;inMemoryDataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;createDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;in-memory&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;registerDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;NAMESPACE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;myDataSource&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;inMemoryDataSource&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;/figure&gt;\n\n&lt;div class=&quot;note info&quot;&gt;\n  &lt;p&gt;Note the constant &lt;code class=&quot;highlighter-rouge&quot;&gt;NAMESPACE&lt;/code&gt;. Use case &amp;amp; infos about namespacing is detailed on &lt;a href=&quot;#&quot;&gt;this page&lt;/a&gt;.&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;h3 id=&quot;working-with-models&quot;&gt;Working with models&lt;/h3&gt;\n\n&lt;p&gt;Interactions with your data sources is done through &lt;strong&gt;Models&lt;/strong&gt;. Models will allow you to manage your complete collection, and retrieve or create &lt;em&gt;entities&lt;/em&gt;.&lt;/p&gt;\n\n&lt;h4 id=&quot;create-a-model&quot;&gt;Create a model&lt;/h4&gt;\n\n&lt;p&gt;To create a model, use the &lt;code class=&quot;highlighter-rouge&quot;&gt;declareModel&lt;/code&gt;s &lt;em&gt;Diaspora&lt;/em&gt; method.&lt;/p&gt;\n\n&lt;div class=&quot;note&quot;&gt;\n  &lt;p&gt;&lt;strong&gt;&lt;a href=&quot;jsdoc/Diaspora.html#.declareModel__anchor&quot;&gt;declareModel&lt;/a&gt;&lt;/strong&gt;(&lt;em&gt;String&lt;/em&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;moduleName&lt;/code&gt;, &lt;em&gt;String&lt;/em&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;name&lt;/code&gt;, &lt;em&gt;Object&lt;/em&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;modelDesc&lt;/code&gt;)  &lt;em&gt;&lt;a href=&quot;jsdoc/Model.html&quot;&gt;Model&lt;/a&gt;&lt;/em&gt;&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;p&gt;Lets create a &lt;strong&gt;model&lt;/strong&gt; describing a phone book, with a name, a phone, an email and a numeric index.&lt;/p&gt;\n\n&lt;figure class=&quot;highlight&quot;&gt;\n  &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;declareModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;NAMESPACE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n\t&lt;span class=&quot;na&quot;&gt;sources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;myDataSource&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n\t&lt;span class=&quot;na&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n\t\t&lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n\t\t\t&lt;span class=&quot;na&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;string&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n\t\t&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n\t\t&lt;span class=&quot;na&quot;&gt;phone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;string&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n\t\t&lt;span class=&quot;na&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n\t\t\t&lt;span class=&quot;na&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;string&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n\t\t&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n\t\t&lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n\t\t\t&lt;span class=&quot;na&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;integer&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n\t\t&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;/figure&gt;\n\n&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;PhoneBook&lt;/code&gt; is now an instance of &lt;strong&gt;&lt;a href=&quot;jsdoc/Model.html&quot;&gt;Model&lt;/a&gt;&lt;/strong&gt;.&lt;/p&gt;\n\n&lt;p&gt;You can see more infos about how to configure a model &lt;a href=&quot;#&quot;&gt;here&lt;/a&gt;&lt;/p&gt;\n\n&lt;h4 id=&quot;using-models&quot;&gt;Using models&lt;/h4&gt;\n\n&lt;p&gt;With this model, youll be able to retrieve or create entities, or perform bulk operations on your whole collection. Remember that a single model can use different storage locations, so be careful to keep your data coherent at every moment (according to the Consistancy requirement of ACID database properties).&lt;/p&gt;\n\n&lt;figure class=&quot;highlight&quot;&gt;\n  &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;John Doe&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;phone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;555-623-987&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;cm&quot;&gt;/**\n * Create a sinhle entity in the default data source\n **/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;Foo Bar&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;phone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;555-125-428&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;Baz Qux&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;bazqux@foomail.com&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PermanentStorage&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;cm&quot;&gt;/**\n * Create 2 entities in a specific data source\n **/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;cm&quot;&gt;/**\n * Find a single entity in default data source, with `index` equals to 2\n **/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n &lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;cm&quot;&gt;/* query, options, dataSource*/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n &lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;cm&quot;&gt;/* query, update, options, dataSource*/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n &lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;updateMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;cm&quot;&gt;/* query, update, options, dataSource*/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n &lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;cm&quot;&gt;/* query, options, dataSource*/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n &lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deleteMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;cm&quot;&gt;/* query, options, dataSource*/&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;/figure&gt;\n\n&lt;p&gt;&lt;a href=&quot;query-language.html&quot; class=&quot;btn&quot;&gt;Learn more about &lt;em&gt;Query Language&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;p&gt;Methods &lt;code class=&quot;highlighter-rouge&quot;&gt;insert&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;find&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;update&lt;/code&gt; will return Entities, and &lt;code class=&quot;highlighter-rouge&quot;&gt;insertMany&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;findMany&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;updateMany&lt;/code&gt; will return collections of Entities (for now, collections are just arrays).&lt;/p&gt;\n\n&lt;h3 id=&quot;working-with-entities&quot;&gt;Working with entities&lt;/h3&gt;\n\n&lt;p&gt;Entities are objects with a status, some data sources related informations, and their own methods.&lt;/p&gt;\n\n&lt;ul&gt;\n  &lt;li&gt;Status of an entity can be checked using &lt;code class=&quot;highlighter-rouge&quot;&gt;getStatus()&lt;/code&gt;.  Currently, there are 3 status implemented:\n    &lt;ol&gt;\n      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;orphan&lt;/code&gt;:&lt;/li&gt;\n      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;syncing&lt;/code&gt;:&lt;/li&gt;\n      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sync&lt;/code&gt;:&lt;/li&gt;\n    &lt;/ol&gt;\n  &lt;/li&gt;\n  &lt;li&gt;You can check your entity status in each data sources it is aware of by inspecting the &lt;code class=&quot;highlighter-rouge&quot;&gt;dataSources&lt;/code&gt; property. This hash contains the &lt;code class=&quot;highlighter-rouge&quot;&gt;DataSourceEntity&lt;/code&gt; for each sources. You can also know which data source was lastly used by using &lt;code class=&quot;highlighter-rouge&quot;&gt;lastDataSource()&lt;/code&gt;&lt;/li&gt;\n  &lt;li&gt;You can use methods to help you working with your Entities. Custom methods can be added by setting the &lt;code class=&quot;highlighter-rouge&quot;&gt;methods&lt;/code&gt; hash in the model configuration.&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h4 id=&quot;create-retrieve--manage-entities&quot;&gt;Create, retrieve &amp;amp; manage entities&lt;/h4&gt;\n\n&lt;p&gt;You can get Entities from model methods. Query methods (&lt;code class=&quot;highlighter-rouge&quot;&gt;insert&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;insertMany&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;find&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;findMany&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;update&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;updateMany&lt;/code&gt;) will return an entity in a &lt;em&gt;sync&lt;/em&gt; status. You can also create &lt;em&gt;orphan&lt;/em&gt; entities with &lt;code class=&quot;highlighter-rouge&quot;&gt;spawn&lt;/code&gt;.&lt;/p&gt;\n\n&lt;p&gt;Entities can be saved to a specific data source with &lt;strong&gt;&lt;a href=&quot;#&quot;&gt;persist&lt;/a&gt;&lt;/strong&gt;([&lt;em&gt;String&lt;/em&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;sourceName&lt;/code&gt;])  &lt;em&gt;Promise&lt;/em&gt;&lt;br /&gt;\nYou can reload your entity from a specific data source by using &lt;strong&gt;&lt;a href=&quot;#&quot;&gt;fetch&lt;/a&gt;&lt;/strong&gt;([&lt;em&gt;String&lt;/em&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;sourceName&lt;/code&gt;])  &lt;em&gt;Promise&lt;/em&gt;&lt;br /&gt;\nLastly, you can decide to remove your entity from your data source with &lt;strong&gt;&lt;a href=&quot;#&quot;&gt;destroy&lt;/a&gt;&lt;/strong&gt;([&lt;em&gt;String&lt;/em&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;sourceName&lt;/code&gt;])  &lt;em&gt;Promise&lt;/em&gt;&lt;/p&gt;\n\n&lt;h4 id=&quot;validation-methods&quot;&gt;Validation methods&lt;/h4&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;Well Diaspora is very young, and validations are not yet integrated. Some validation methods are nevertheless available in the &lt;code class=&quot;highlighter-rouge&quot;&gt;Diaspora&lt;/code&gt; object.&lt;/p&gt;\n&lt;/blockquote&gt;\n",
			   "content"  : "Getting started\n\nInstall Diaspora\n\nDiaspora is available on both the browser &amp;amp; Node.JS. Follow these steps to include Diaspora in your app:\n\nFor Node.JS\n\nFirst, install the package (and add it to your projects dependencies)\n\n\n  \n\n    With NPM\n\n    \n      npm install --save diaspora\n    \n\n  \n\n  \n\n\nOnce installed, simply load it using Nodes require\n\n\n  const Diaspora = require( &#39;diaspora&#39; );\n\n\nFor the browser\n\nDiaspora for the browser is built in 2 versions:\n\nStandalone\n\nThis build contains Diaspora and all of its dependencies, packaged in a single (big) script file. You may prefer to use this file if you want to load Diaspora on every page of your site, or if you dont want to worry with loading each dependencies.\n\n\n  &amp;lt;html&amp;gt;\n\t&amp;lt;head&amp;gt;&amp;lt;!-- Your document&#39;s `head` --&amp;gt;&amp;lt;/head&amp;gt;\n\t&amp;lt;body&amp;gt;\n\t\t&amp;lt;!-- Your page content --&amp;gt;\n\t\t&amp;lt;script type=&quot;text/javascript&quot; src=&quot;diaspora.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;\n\t\t&amp;lt;script type=&quot;text/javascript&quot; src=&quot;...&quot;&amp;gt;&amp;lt;/script&amp;gt;&amp;lt;!-- Load here your main page script. --&amp;gt;\n\t&amp;lt;/body&amp;gt;\n&amp;lt;/html&amp;gt;\n\n\n\n  This build export following libraries:\n\n  \n    lodash as _\n    bluebird as Promise\n    check-types as c\n    sequential-event as SequentialEvent\n  \n\n\nIsolated\n\nThis version, much lighter, requires that you load each dependencies before loading Diaspora. You may use this version if you use Diaspora on some pages only, but you want some libraries (such as lodash or bluebird) to be loaded everywhere. Youll improve your overall performance by using efficiently the browser cache.\n\n\n  &amp;lt;html&amp;gt;\n\t&amp;lt;head&amp;gt;&amp;lt;!-- Your document&#39;s `head` --&amp;gt;&amp;lt;/head&amp;gt;\n\t&amp;lt;body&amp;gt;\n\t\t&amp;lt;!-- Your page content --&amp;gt;\n\t\t&amp;lt;script type=&quot;text/javascript&quot; src=&quot;lodash.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;\n\t\t&amp;lt;script type=&quot;text/javascript&quot; src=&quot;bluebird.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;\n\t\t&amp;lt;script type=&quot;text/javascript&quot; src=&quot;check-types.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;\n\t\t&amp;lt;script type=&quot;text/javascript&quot; src=&quot;sequential-event.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;\n\t\t&amp;lt;script type=&quot;text/javascript&quot; src=&quot;diaspora.min.js&quot;&amp;gt;&amp;lt;/script&amp;gt;\n\t\t&amp;lt;script type=&quot;text/javascript&quot; src=&quot;...&quot;&amp;gt;&amp;lt;/script&amp;gt;&amp;lt;!-- Load here your main page script. --&amp;gt;\n\t&amp;lt;/body&amp;gt;\n&amp;lt;/html&amp;gt;\n\n\nUse Diaspora\n\nHere we finally are. Now Diaspora is available in your app. You just have to configure and use it.\n\nCreate a data source\n\n\n  const NAMESPACE = &#39;myApp&#39;;\nconst inMemoryDataSource = Diaspora.createDataSource( &#39;in-memory&#39;, {} );\nDiaspora.registerDataSource( NAMESPACE, &#39;myDataSource&#39;, inMemoryDataSource );\n\n\n\n  Note the constant NAMESPACE. Use case &amp;amp; infos about namespacing is detailed on this page.\n\n\nWorking with models\n\nInteractions with your data sources is done through Models. Models will allow you to manage your complete collection, and retrieve or create entities.\n\nCreate a model\n\nTo create a model, use the declareModels Diaspora method.\n\n\n  declareModel(String moduleName, String name, Object modelDesc)  Model\n\n\nLets create a model describing a phone book, with a name, a phone, an email and a numeric index.\n\n\n  const PhoneBook = Diaspora.declareModel( NAMESPACE, &#39;PhoneBook&#39;, {\n\tsources:    [ &#39;myDataSource&#39; ],\n\tattributes: {\n\t\tname: {\n\t\t\ttype: &#39;string&#39;,\n\t\t},\n\t\tphone: &#39;string&#39;,\n\t\temail: {\n\t\t\ttype: &#39;string&#39;,\n\t\t},\n\t\tindex: {\n\t\t\ttype: &#39;integer&#39;,\n\t\t}\n\t},\n});\n\n\nPhoneBook is now an instance of Model.\n\nYou can see more infos about how to configure a model here\n\nUsing models\n\nWith this model, youll be able to retrieve or create entities, or perform bulk operations on your whole collection. Remember that a single model can use different storage locations, so be careful to keep your data coherent at every moment (according to the Consistancy requirement of ACID database properties).\n\n\n  PhoneBook.insert({name: &#39;John Doe&#39;, phone: &#39;555-623-987&#39;, index: 1}).then(/**\n * Create a sinhle entity in the default data source\n **/);\nPhoneBook.insertMany([\n\t{name: &#39;Foo Bar&#39;, phone: &#39;555-125-428&#39;, index: 2},\n\t{name: &#39;Baz Qux&#39;, email: &#39;bazqux@foomail.com&#39;, index: 3},\n], &#39;PermanentStorage&#39;).then(/**\n * Create 2 entities in a specific data source\n **/);\nPhoneBook.find({index: 2}).then(/**\n * Find a single entity in default data source, with `index` equals to 2\n **/);\n PhoneBook.findMany(/* query, options, dataSource*/);\n PhoneBook.update(/* query, update, options, dataSource*/);\n PhoneBook.updateMany(/* query, update, options, dataSource*/);\n PhoneBook.delete(/* query, options, dataSource*/);\n PhoneBook.deleteMany(/* query, options, dataSource*/);\n\n\nLearn more about Query Language\n\nMethods insert, find and update will return Entities, and insertMany, findMany and updateMany will return collections of Entities (for now, collections are just arrays).\n\nWorking with entities\n\nEntities are objects with a status, some data sources related informations, and their own methods.\n\n\n  Status of an entity can be checked using getStatus().  Currently, there are 3 status implemented:\n    \n      orphan:\n      syncing:\n      sync:\n    \n  \n  You can check your entity status in each data sources it is aware of by inspecting the dataSources property. This hash contains the DataSourceEntity for each sources. You can also know which data source was lastly used by using lastDataSource()\n  You can use methods to help you working with your Entities. Custom methods can be added by setting the methods hash in the model configuration.\n\n\nCreate, retrieve &amp;amp; manage entities\n\nYou can get Entities from model methods. Query methods (insert, insertMany, find, findMany, update and updateMany) will return an entity in a sync status. You can also create orphan entities with spawn.\n\nEntities can be saved to a specific data source with persist([String sourceName])  Promise\nYou can reload your entity from a specific data source by using fetch([String sourceName])  Promise\nLastly, you can decide to remove your entity from your data source with destroy([String sourceName])  Promise\n\nValidation methods\n\n\n  Well Diaspora is very young, and validations are not yet integrated. Some validation methods are nevertheless available in the Diaspora object.\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Global",
		 "url"     : "jsdoc/global.html",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t&lt;h1 class=&quot;page-title&quot;&gt;Global&lt;/h1&gt;\n&lt;section&gt;\n\n&lt;header&gt;\n    \n        &lt;h2&gt;\n        \n        &lt;/h2&gt;\n        \n    \n&lt;/header&gt;\n\n\n&lt;article&gt;\n    &lt;div class=&quot;container-overview&quot;&gt;\n    \n        \n\n        \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n        \n    \n    &lt;/div&gt;\n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Methods&lt;/h3&gt;\n\n        &lt;dl&gt;\n            \n&lt;hr&gt;\n&lt;dt&gt;\n    &lt;h4 class=&quot;name&quot; id=&quot;normalizeOptions&quot;&gt;&lt;span class=&quot;type-signature&quot;&gt;&lt;/span&gt;normalizeOptions( [opts])&lt;/h4&gt;\n    \n    \n&lt;/dt&gt;\n&lt;dd&gt;\n\n    \n    &lt;div class=&quot;description&quot;&gt;\n        &lt;p&gt;Transform options to their canonical form. This function must be applied before calling adapters&#39; methods&lt;/p&gt;\n    &lt;/div&gt;\n    \n\n    \n\n    \n\n    \n    \n        &lt;h5&gt;Parameters:&lt;/h5&gt;\n        \n\n&lt;table class=&quot;params table table-striped&quot;&gt;\n    &lt;thead&gt;\n    &lt;tr&gt;\n        \n        &lt;th&gt;Name&lt;/th&gt;\n        \n\n        &lt;th&gt;Type&lt;/th&gt;\n\n        \n        &lt;th&gt;Argument&lt;/th&gt;\n        \n\n        \n        &lt;th&gt;Default&lt;/th&gt;\n        \n\n        &lt;th class=&quot;last&quot;&gt;Description&lt;/th&gt;\n    &lt;/tr&gt;\n    &lt;/thead&gt;\n\n    &lt;tbody&gt;\n    \n\n        &lt;tr&gt;\n            \n                &lt;td class=&quot;name&quot;&gt;&lt;code&gt;opts&lt;/code&gt;&lt;/td&gt;\n            \n\n            &lt;td class=&quot;type&quot;&gt;\n            \n                \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n            \n            &lt;/td&gt;\n\n            \n                &lt;td class=&quot;attributes&quot;&gt;\n                \n                    &amp;lt;optional&gt;&lt;br&gt;\n                \n\n                \n\n                \n                &lt;/td&gt;\n            \n\n            \n                &lt;td class=&quot;default&quot;&gt;\n                \n                    {}\n                \n                &lt;/td&gt;\n            \n\n            &lt;td class=&quot;description last&quot;&gt;&lt;p&gt;Options to transform&lt;/p&gt;&lt;/td&gt;\n        &lt;/tr&gt;\n\n    \n    &lt;/tbody&gt;\n&lt;/table&gt;\n\n    \n\n    \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n    \n\n    \n\n    \n\n    \n\n    \n    &lt;h5&gt;Throws:&lt;/h5&gt;\n    &lt;ul&gt;\n            &lt;li&gt;\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        &lt;div class=&quot;param-desc&quot;&gt;\n        &lt;p&gt;Thrown if an option does not have an acceptable type&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/dt&gt;\n    &lt;dt&gt;\n        &lt;dl&gt;\n            &lt;dt&gt;\n                Type\n            &lt;/dt&gt;\n            &lt;dd&gt;\n                \n&lt;span class=&quot;param-type&quot;&gt;TypeError&lt;/span&gt;\n\n\n\n            &lt;/dd&gt;\n        &lt;/dl&gt;\n    &lt;/dt&gt;\n&lt;/dl&gt;\n\n&lt;/li&gt;\n        \n            &lt;li&gt;\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        &lt;div class=&quot;param-desc&quot;&gt;\n        &lt;p&gt;Thrown if a required option is not present&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/dt&gt;\n    &lt;dt&gt;\n        &lt;dl&gt;\n            &lt;dt&gt;\n                Type\n            &lt;/dt&gt;\n            &lt;dd&gt;\n                \n&lt;span class=&quot;param-type&quot;&gt;ReferenceError&lt;/span&gt;\n\n\n\n            &lt;/dd&gt;\n        &lt;/dl&gt;\n    &lt;/dt&gt;\n&lt;/dl&gt;\n\n&lt;/li&gt;\n        \n            &lt;li&gt;\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        &lt;div class=&quot;param-desc&quot;&gt;\n        &lt;p&gt;Thrown when there isn&#39;t more precise description of the error is available (eg. when conflicts occurs)&lt;/p&gt;\n        &lt;/div&gt;\n    &lt;/dt&gt;\n    &lt;dt&gt;\n        &lt;dl&gt;\n            &lt;dt&gt;\n                Type\n            &lt;/dt&gt;\n            &lt;dd&gt;\n                \n&lt;span class=&quot;param-type&quot;&gt;Error&lt;/span&gt;\n\n\n\n            &lt;/dd&gt;\n        &lt;/dl&gt;\n    &lt;/dt&gt;\n&lt;/dl&gt;\n\n&lt;/li&gt;\n        &lt;/ul&gt;\n\n    \n    &lt;h5&gt;Returns:&lt;/h5&gt;\n    \n            \n&lt;div class=&quot;param-desc&quot;&gt;\n    &lt;p&gt;Transformed options (also called &lt;code&gt;canonical options&lt;/code&gt;)&lt;/p&gt;\n&lt;/div&gt;\n\n\n\n&lt;dl&gt;\n    &lt;dt&gt;\n        Type\n    &lt;/dt&gt;\n    &lt;dd&gt;\n        \n&lt;span class=&quot;param-type&quot;&gt;Object&lt;/span&gt;\n\n\n\n    &lt;/dd&gt;\n&lt;/dl&gt;\n\n\n        \n\n    \n&lt;/dd&gt;\n\n        &lt;/dl&gt;\n    \n\n    \n\n    \n&lt;/article&gt;\n\n&lt;/section&gt;\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:18+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\tGlobal\n\n\n\n    \n        \n        \n        \n        \n    \n\n\n\n\n    \n    \n        \n\n        \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n        \n    \n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n\n    \n        Methods\n\n        \n            \n\n\n    normalizeOptions( [opts])\n    \n    \n\n\n\n    \n    \n        Transform options to their canonical form. This function must be applied before calling adapters&#39; methods\n    \n    \n\n    \n\n    \n\n    \n    \n        Parameters:\n        \n\n\n    \n    \n        \n        Name\n        \n\n        Type\n\n        \n        Argument\n        \n\n        \n        Default\n        \n\n        Description\n    \n    \n\n    \n    \n\n        \n            \n                opts\n            \n\n            \n            \n                \nObject\n\n\n\n            \n            \n\n            \n                \n                \n                    &amp;lt;optional&gt;\n                \n\n                \n\n                \n                \n            \n\n            \n                \n                \n                    {}\n                \n                \n            \n\n            Options to transform\n        \n\n    \n    \n\n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n    \n\n    \n\n    \n\n    \n\n    \n    Throws:\n    \n            \n\n\n    \n        \n        Thrown if an option does not have an acceptable type\n        \n    \n    \n        \n            \n                Type\n            \n            \n                \nTypeError\n\n\n\n            \n        \n    \n\n\n\n        \n            \n\n\n    \n        \n        Thrown if a required option is not present\n        \n    \n    \n        \n            \n                Type\n            \n            \n                \nReferenceError\n\n\n\n            \n        \n    \n\n\n\n        \n            \n\n\n    \n        \n        Thrown when there isn&#39;t more precise description of the error is available (eg. when conflicts occurs)\n        \n    \n    \n        \n            \n                Type\n            \n            \n                \nError\n\n\n\n            \n        \n    \n\n\n\n        \n\n    \n    Returns:\n    \n            \n\n    Transformed options (also called canonical options)\n\n\n\n\n\n    \n        Type\n    \n    \n        \nObject\n\n\n\n    \n\n\n\n        \n\n    \n\n\n        \n    \n\n    \n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:18+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Glossary",
		 "url"     : "glossary.html",
		 "date"     : "",
		 "html"  : "&lt;h1 id=&quot;glossary&quot;&gt;Glossary&lt;/h1&gt;\n\n&lt;h2 id=&quot;adapters&quot;&gt;Adapters&lt;/h2&gt;\n\n&lt;p&gt;Most of the Adapters terms are taken from MongoDB lexicon.&lt;/p&gt;\n\n&lt;dl&gt;\n  &lt;dt&gt;Field&lt;/dt&gt;\n  &lt;dd&gt;TODO&lt;/dd&gt;\n  &lt;dt&gt;Document&lt;/dt&gt;\n  &lt;dd&gt;A document is a group of data describing a single object. A contact in your phone book or an email are documents.&lt;/dd&gt;\n  &lt;dt&gt;Collection&lt;/dt&gt;\n  &lt;dd&gt;A collection is a place where you store items representing the same kind of documents. It corresponds to a &lt;em&gt;MySQL&lt;/em&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;table&lt;/code&gt;, a &lt;em&gt;MongoDB&lt;/em&gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;collection&lt;/code&gt; or a prefix for &lt;em&gt;LocalStorage&lt;/em&gt;&lt;/dd&gt;\n&lt;/dl&gt;\n",
			   "content"  : "Glossary\n\nAdapters\n\nMost of the Adapters terms are taken from MongoDB lexicon.\n\n\n  Field\n  TODO\n  Document\n  A document is a group of data describing a single object. A contact in your phone book or an email are documents.\n  Collection\n  A collection is a place where you store items representing the same kind of documents. It corresponds to a MySQL table, a MongoDB collection or a prefix for LocalStorage\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "inMemory.js",
		 "url"     : "docco/test/adapters/inMemory.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;inMemory.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;test/adapters/inMemory.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./utils&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;in-memory&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;createDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkSpawnedAdapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;InMemory&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkEachStandardMethods&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkApplications&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkRegisterAdapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;inMemory&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;&lt;span class=&quot;p&quot;&gt;})();&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "inMemory.jstest/adapters/inMemory.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\n(() =&amp;gt; {\n    const AdapterTestUtils = require( &amp;#39;./utils&amp;#39; );\n    const ADAPTER_LABEL = &amp;#39;in-memory&amp;#39;;\n\n    AdapterTestUtils.createDataSource( ADAPTER_LABEL, {});\n    AdapterTestUtils.checkSpawnedAdapter( ADAPTER_LABEL, &amp;#39;InMemory&amp;#39; );\n    AdapterTestUtils.checkEachStandardMethods( ADAPTER_LABEL );\n    AdapterTestUtils.checkApplications( ADAPTER_LABEL );\n    AdapterTestUtils.checkRegisterAdapter( ADAPTER_LABEL, &amp;#39;inMemory&amp;#39; );\n})();\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "inMemoryAdapter.js",
		 "url"     : "docco/lib/adapters/inMemoryAdapter.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;inMemoryAdapter.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;lib/adapters/inMemoryAdapter.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;lodash&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bluebird&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DiasporaAdapter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./baseAdapter.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;InMemoryEntity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;../dataStoreEntities/inMemoryEntity.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Class &lt;em&gt;InMemoryDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;This class is used to use the memory as a data store. Every data you insert are stored in an array contained by this class. This adapter can be used by both the browser &amp; Node.JS&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;extends&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;{&amp;quot;type&amp;quot;:&amp;quot;extends&amp;quot;,&amp;quot;string&amp;quot;:&amp;quot;Adapters.DiasporaAdapter&amp;quot;,&amp;quot;otherClass&amp;quot;:&amp;quot;Adapters.DiasporaAdapter&amp;quot;,&amp;quot;html&amp;quot;:&amp;quot;&amp;lt;p&amp;gt;Adapters.DiasporaAdapter&amp;lt;/p&amp;gt;&amp;quot;}&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Create a new In Memory data store&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[config] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Options hash. Currently, this adapter does not have any options&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;&lt;span class=&quot;kr&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;InMemoryDiasporaAdapter&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DiasporaAdapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;InMemoryEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;ready&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;store&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;    \n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;configureCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remap&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;configureCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remap&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ensureCollectionExists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-3&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-3&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;hr /&gt;\n\n&lt;h3&gt;Utils&lt;/h3&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-4&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-4&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;generateUUID&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Create a new unique id for this store&#39;s entity&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.InMemoryDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;&lt;p&gt;Generated unique id&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;generateUUID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-5&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-5&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Use high-precision timer if available&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;performance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;function&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;performance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;performance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;uuid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/[xy]/g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;x&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x8&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-40&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-41&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-42&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-43&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-6&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-6&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;ensureCollectionExists&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Get or create the store hash&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.InMemoryDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;DataStoreTable&lt;/span&gt;&lt;span&gt;&lt;p&gt;In memory table to use&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-44&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;ensureCollectionExists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-45&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;store&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-46&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;store&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-47&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-48&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;store&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-49&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-50&quot;&gt;            &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-51&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-52&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-53&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-54&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-55&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-7&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-7&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;applyOptionsToSet&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Reduce, offset or sort provided set&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.InMemoryDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;set &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Array.&amp;lt;Object&amp;gt;&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Objects retrieved from memory store&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;options &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Options to apply to the set&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Array.&amp;lt;Object&amp;gt;&lt;/span&gt;&lt;span&gt;&lt;p&gt;Set with options applied&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-56&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;applyOptionsToSet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-57&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;defaults&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-58&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;Infinity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-59&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-60&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-61&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-62&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-63&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-64&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-65&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-66&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-67&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-68&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-69&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-8&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-8&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;hr /&gt;\n\n&lt;h3&gt;Insert&lt;/h3&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-70&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-71&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-72&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-9&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-9&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;insertOne&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;This reimplements {@link Adapters.DiasporaAdapter#insertOne}, modified for in-memory interactions.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Insert a single entity in the memory store.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.InMemoryDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to insert data in&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;entity &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing the entity to insert&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once insertion is done. Called with (&lt;em&gt;{@link InMemoryEntity}&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-73&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;insertOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-74&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cloneDeep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-75&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;storeTable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ensureCollectionExists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-76&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;generateUUID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-77&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setIdHash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-78&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;storeTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-79&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;classEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-80&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-81&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-82&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-83&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-10&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-10&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;hr /&gt;\n\n&lt;h3&gt;Find&lt;/h3&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-84&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-85&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-86&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-11&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-11&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;findOne&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;This reimplements {@link Adapters.DiasporaAdapter#findOne}, modified for in-memory interactions.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Retrieve a single entity from the memory.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.InMemoryDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to retrieve data from&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;queryFind &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing the entity to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[options={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryOptions&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash of options.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;{@link InMemoryEntity}&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-87&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-88&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;storeTable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ensureCollectionExists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-89&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;matches&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;storeTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;partial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;matchEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-90&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reducedMatches&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;applyOptionsToSet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;matches&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-91&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reducedMatches&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;classEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reducedMatches&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-92&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-93&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-94&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-95&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-12&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-12&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;findMany&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;This reimplements {@link Adapters.DiasporaAdapter#findMany}, modified for in-memory interactions.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Retrieve several entities from the memory.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.InMemoryDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to retrieve data from&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;queryFind &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing entities to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[options={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryOptions&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash of options.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once items are found. Called with (&lt;em&gt;{@link InMemoryEntity}[]&lt;/em&gt; &lt;code&gt;entities&lt;/code&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-96&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-97&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;storeTable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ensureCollectionExists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-98&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;matches&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;storeTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;partial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;matchEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-99&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reducedMatches&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;applyOptionsToSet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;matches&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-100&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reducedMatches&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;classEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-101&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-102&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-103&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-104&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-13&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-13&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;hr /&gt;\n\n&lt;h3&gt;Update&lt;/h3&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-105&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-106&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-107&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-14&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-14&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;updateOne&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;This reimplements {@link Adapters.DiasporaAdapter#updateOne}, modified for in-memory interactions.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Update a single entity in the memory.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.InMemoryDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to update data in&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;queryFind &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing the entity to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;update &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Object properties to set&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[options={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryOptions&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash of options.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once update is done. Called with (&lt;em&gt;{@link InMemoryEntity}&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-108&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;updateOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-109&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;storeTable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ensureCollectionExists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-110&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;matches&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;storeTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;partial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;matchEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-111&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;firstMatch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;first&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;matches&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-112&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;applyUpdateEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;firstMatch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-113&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;classEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;firstMatch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-114&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-115&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-116&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-117&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-15&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-15&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;updateMany&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;This reimplements {@link Adapters.DiasporaAdapter#updateMany}, modified for in-memory interactions.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Update several entities in the memory.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.InMemoryDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to update data in&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;queryFind &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing entities to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;update &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Object properties to set&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[options={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryOptions&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash of options.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once update is done. Called with (&lt;em&gt;{@link InMemoryEntity}[]&lt;/em&gt; &lt;code&gt;entities&lt;/code&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-118&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;updateMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-119&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;storeTable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ensureCollectionExists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-120&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;matches&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;storeTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;partial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;matchEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-121&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reducedMatches&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;applyOptionsToSet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;matches&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-122&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reducedMatches&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-123&quot;&gt;            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;applyUpdateEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;match&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-124&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-125&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reducedMatches&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;classEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-126&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-127&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-128&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-129&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-16&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-16&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;hr /&gt;\n\n&lt;h3&gt;Delete&lt;/h3&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-130&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-131&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-132&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-17&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-17&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;deleteOne&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;This reimplements {@link Adapters.DiasporaAdapter#deleteOne}, modified for in-memory interactions.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Delete a single entity from the memory.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.InMemoryDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to delete data from&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;queryFind &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing the entity to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[options={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryOptions&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash of options.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;undefined&lt;/em&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-133&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;deleteOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-134&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;storeTable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ensureCollectionExists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-135&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityToDelete&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-136&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;storeTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;storeTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityToDelete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;idHash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-137&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-138&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-139&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-140&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-141&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-142&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-18&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-18&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;deleteMany&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;This reimplements {@link Adapters.DiasporaAdapter#deleteMany}, modified for in-memory interactions.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Delete several entities from the memory.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.InMemoryDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to delete data from&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;queryFind &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing entities to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[options={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryOptions&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash of options.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once items are deleted. Called with (&lt;em&gt;undefined&lt;/em&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-143&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;deleteMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-144&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;storeTable&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ensureCollectionExists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-145&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entitiesToDelete&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-146&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entitiesIds&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entitiesToDelete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`idHash.&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-147&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;storeTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;storeTable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-148&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;includes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entitiesIds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-149&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-150&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-151&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-152&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-153&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-154&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-155&quot;&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;InMemoryDiasporaAdapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "inMemoryAdapter.jslib/adapters/inMemoryAdapter.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\nconst _ = require( &amp;#39;lodash&amp;#39; );\nconst Promise = require( &amp;#39;bluebird&amp;#39; );\nconst DiasporaAdapter = require( &amp;#39;./baseAdapter.js&amp;#39; );\nconst InMemoryEntity = require( &amp;#39;../dataStoreEntities/inMemoryEntity.js&amp;#39; );\n\n\n&amp;#182;Class InMemoryDiasporaAdapterThis class is used to use the memory as a data store. Every data you insert are stored in an array contained by this class. This adapter can be used by both the browser &amp; Node.JSextends{&amp;quot;type&amp;quot;:&amp;quot;extends&amp;quot;,&amp;quot;string&amp;quot;:&amp;quot;Adapters.DiasporaAdapter&amp;quot;,&amp;quot;otherClass&amp;quot;:&amp;quot;Adapters.DiasporaAdapter&amp;quot;,&amp;quot;html&amp;quot;:&amp;quot;&amp;lt;p&amp;gt;Adapters.DiasporaAdapter&amp;lt;/p&amp;gt;&amp;quot;}Description:Create a new In Memory data storeIn: AdaptersParams [config] Object- Options hash. Currently, this adapter does not have any optionsScope: publicAuthorclass InMemoryDiasporaAdapter extends DiasporaAdapter {\n    constructor( config ) {\n        super( InMemoryEntity );\n        this.state = &amp;#39;ready&amp;#39;;\n        this.store = {};\n    }\n    \n    configureCollection( name, remap ) {\n        super.configureCollection( name, remap );\n        this.ensureCollectionExists( name );\n    }\n\n\n&amp;#182;\n\nUtils\n\n&amp;#182;Method generateUUIDDescription:Create a new unique id for this store&#39;s entityIn: Adapters.InMemoryDiasporaAdapterReturnsStringGenerated unique idScope: instancepublicAuthor    generateUUID() {\n        var d = new Date().getTime();\n\n&amp;#182;Use high-precision timer if available        if ( &amp;#39;undefined&amp;#39; !== typeof window &amp;amp;&amp;amp; window.performance &amp;amp;&amp;amp; &amp;#39;function&amp;#39; === typeof window.performance.now ) {\n            d += performance.now();\n        }\n        const uuid = &amp;#39;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&amp;#39;.replace( /[xy]/g, c =&amp;gt; {\n            const r = ( d + Math.random() * 16 ) % 16 | 0;\n            d = Math.floor( d / 16 );\n            return ( &amp;#39;x&amp;#39; === c ? r : ( r &amp;amp; 0x3 | 0x8 )).toString( 16 );\n        });\n        return uuid;\n    }\n\n\n&amp;#182;Method ensureCollectionExistsDescription:Get or create the store hashIn: Adapters.InMemoryDiasporaAdapterParams table String- Name of the tableReturnsDataStoreTableIn memory table to useScope: instancepublicAuthor    ensureCollectionExists( table ) {\n        if ( this.store.hasOwnProperty( table )) {\n            return this.store[table];\n        } else {\n            return this.store[table] = {\n                items: [],\n            };\n        } \n    }\n\n\n&amp;#182;Method applyOptionsToSetDescription:Reduce, offset or sort provided setIn: Adapters.InMemoryDiasporaAdapterParams set Array.&amp;lt;Object&amp;gt;- Objects retrieved from memory store options Object- Options to apply to the setReturnsArray.&amp;lt;Object&amp;gt;Set with options appliedScope: instancepublicAuthor    static applyOptionsToSet( set, options ) {\n        _.defaults( options, {\n            limit: Infinity,\n            skip:  0,\n        });\n        set = set.slice( options.skip );\n        if ( set.length &amp;gt; options.limit ) {\n            set = set.slice( 0, options.limit );\n        }\n        return set;\n    }\n\n\n&amp;#182;\n\nInsert\n\n&amp;#182;Method insertOneSummary:This reimplements {@link Adapters.DiasporaAdapter#insertOne}, modified for in-memory interactions.Description:Insert a single entity in the memory store.In: Adapters.InMemoryDiasporaAdapterParams table String- Name of the table to insert data in entity Object- Hash representing the entity to insertReturnsPromisePromise resolved once insertion is done. Called with ({@link InMemoryEntity} entity)Scope: instancepublicAuthor    insertOne( table, entity ) {\n        entity = _.cloneDeep( entity );\n        const storeTable = this.ensureCollectionExists( table );\n        entity.id = this.generateUUID();\n        this.setIdHash( entity );\n        storeTable.items.push( entity );\n        return Promise.resolve( new this.classEntity( entity, this ));\n    }\n\n\n&amp;#182;\n\nFind\n\n&amp;#182;Method findOneSummary:This reimplements {@link Adapters.DiasporaAdapter#findOne}, modified for in-memory interactions.Description:Retrieve a single entity from the memory.In: Adapters.InMemoryDiasporaAdapterParams table String- Name of the table to retrieve data from queryFind SelectQueryOrCondition- Hash representing the entity to find [options={}] QueryOptions- Hash of options.ReturnsPromisePromise resolved once item is found. Called with ({@link InMemoryEntity} entity)Scope: instancepublicAuthor    findOne( table, queryFind, options = {}) {\n        const storeTable = this.ensureCollectionExists( table );\n        const matches = _.filter( storeTable.items, _.partial( this.matchEntity, queryFind ));\n        const reducedMatches = this.constructor.applyOptionsToSet( matches, options );\n        return Promise.resolve( reducedMatches.length &amp;gt; 0 ? new this.classEntity( _.first( reducedMatches ), this ) : undefined );\n    }\n\n\n&amp;#182;Method findManySummary:This reimplements {@link Adapters.DiasporaAdapter#findMany}, modified for in-memory interactions.Description:Retrieve several entities from the memory.In: Adapters.InMemoryDiasporaAdapterParams table String- Name of the table to retrieve data from queryFind SelectQueryOrCondition- Hash representing entities to find [options={}] QueryOptions- Hash of options.ReturnsPromisePromise resolved once items are found. Called with ({@link InMemoryEntity}[] entities)Scope: instancepublicAuthor    findMany( table, queryFind, options = {}) {\n        const storeTable = this.ensureCollectionExists( table );\n        const matches = _.filter( storeTable.items, _.partial( this.matchEntity, queryFind ));\n        const reducedMatches = this.constructor.applyOptionsToSet( matches, options );\n        return Promise.resolve( _.map( reducedMatches, entity =&amp;gt; new this.classEntity( entity, this )));\n    }\n\n\n&amp;#182;\n\nUpdate\n\n&amp;#182;Method updateOneSummary:This reimplements {@link Adapters.DiasporaAdapter#updateOne}, modified for in-memory interactions.Description:Update a single entity in the memory.In: Adapters.InMemoryDiasporaAdapterParams table String- Name of the table to update data in queryFind SelectQueryOrCondition- Hash representing the entity to find update Object- Object properties to set [options={}] QueryOptions- Hash of options.ReturnsPromisePromise resolved once update is done. Called with ({@link InMemoryEntity} entity)Scope: instancepublicAuthor    updateOne( table, queryFind, update, options = {}) {\n        const storeTable = this.ensureCollectionExists( table );\n        const matches = _.filter( storeTable.items, _.partial( this.matchEntity, queryFind ));\n        const firstMatch = _.first( matches );\n        this.applyUpdateEntity( update, firstMatch );\n        return Promise.resolve( new this.classEntity( firstMatch ));\n    }\n\n\n&amp;#182;Method updateManySummary:This reimplements {@link Adapters.DiasporaAdapter#updateMany}, modified for in-memory interactions.Description:Update several entities in the memory.In: Adapters.InMemoryDiasporaAdapterParams table String- Name of the table to update data in queryFind SelectQueryOrCondition- Hash representing entities to find update Object- Object properties to set [options={}] QueryOptions- Hash of options.ReturnsPromisePromise resolved once update is done. Called with ({@link InMemoryEntity}[] entities)Scope: instancepublicAuthor    updateMany( table, queryFind, update, options = {}) {\n        const storeTable = this.ensureCollectionExists( table );\n        const matches = _.filter( storeTable.items, _.partial( this.matchEntity, queryFind ));\n        const reducedMatches = this.constructor.applyOptionsToSet( matches, options );\n        _.forEach( reducedMatches, match =&amp;gt; {\n            this.applyUpdateEntity( update, match );\n        });\n        return Promise.resolve( _.map( reducedMatches, entity =&amp;gt; new this.classEntity( entity, this )));\n    }\n\n\n&amp;#182;\n\nDelete\n\n&amp;#182;Method deleteOneSummary:This reimplements {@link Adapters.DiasporaAdapter#deleteOne}, modified for in-memory interactions.Description:Delete a single entity from the memory.In: Adapters.InMemoryDiasporaAdapterParams table String- Name of the table to delete data from queryFind SelectQueryOrCondition- Hash representing the entity to find [options={}] QueryOptions- Hash of options.ReturnsPromisePromise resolved once item is found. Called with (undefined)Scope: instancepublicAuthor    deleteOne( table, queryFind, options = {}) {\n        const storeTable = this.ensureCollectionExists( table );\n        return this.findOne( table, queryFind, options ).then( entityToDelete =&amp;gt; {\n            storeTable.items = _.reject( storeTable.items, entity =&amp;gt; entity.id === entityToDelete.idHash[this.name]);\n            return Promise.resolve();\n        });\n    }\n\n\n&amp;#182;Method deleteManySummary:This reimplements {@link Adapters.DiasporaAdapter#deleteMany}, modified for in-memory interactions.Description:Delete several entities from the memory.In: Adapters.InMemoryDiasporaAdapterParams table String- Name of the table to delete data from queryFind SelectQueryOrCondition- Hash representing entities to find [options={}] QueryOptions- Hash of options.ReturnsPromisePromise resolved once items are deleted. Called with (undefined)Scope: instancepublicAuthor    deleteMany( table, queryFind, options = {}) {\n        const storeTable = this.ensureCollectionExists( table );\n        return this.findMany( table, queryFind, options ).then( entitiesToDelete =&amp;gt; {\n            const entitiesIds = _.map( entitiesToDelete, entity =&amp;gt; _.get( entity, `idHash.${ this.name }` ));\n            storeTable.items = _.reject( storeTable.items, entity =&amp;gt; {\n                return _.includes( entitiesIds, entity.id );\n            });\n            return Promise.resolve();\n        });\n    }\n}\n\nmodule.exports = InMemoryDiasporaAdapter;\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "inMemoryEntity.js",
		 "url"     : "docco/lib/dataStoreEntities/inMemoryEntity.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;inMemoryEntity.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;lib/dataStoreEntities/inMemoryEntity.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DataStoreEntity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./baseEntity.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Class &lt;em&gt;InMemoryEntity&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;Entity stored in {@link InMemoryDiasporaAdapter the in-memory adapter}.&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;extends&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;{&amp;quot;type&amp;quot;:&amp;quot;extends&amp;quot;,&amp;quot;string&amp;quot;:&amp;quot;DataStoreEntity&amp;quot;,&amp;quot;otherClass&amp;quot;:&amp;quot;DataStoreEntity&amp;quot;,&amp;quot;html&amp;quot;:&amp;quot;&amp;lt;p&amp;gt;DataStoreEntity&amp;lt;/p&amp;gt;&amp;quot;}&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;DataStoreEntities&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;source &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash containing properties to copy in this entity&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;&lt;span class=&quot;kr&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;InMemoryEntity&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DataStoreEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;InMemoryEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "inMemoryEntity.jslib/dataStoreEntities/inMemoryEntity.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\nconst DataStoreEntity = require( &amp;#39;./baseEntity.js&amp;#39; );\n\n\n&amp;#182;Class InMemoryEntityEntity stored in {@link InMemoryDiasporaAdapter the in-memory adapter}.extends{&amp;quot;type&amp;quot;:&amp;quot;extends&amp;quot;,&amp;quot;string&amp;quot;:&amp;quot;DataStoreEntity&amp;quot;,&amp;quot;otherClass&amp;quot;:&amp;quot;DataStoreEntity&amp;quot;,&amp;quot;html&amp;quot;:&amp;quot;&amp;lt;p&amp;gt;DataStoreEntity&amp;lt;/p&amp;gt;&amp;quot;}In: DataStoreEntitiesParams source Object- Hash containing properties to copy in this entityScope: publicAuthorclass InMemoryEntity extends DataStoreEntity {\n    constructor( entity, dataSource ) {\n        super( entity, dataSource );\n    }\n}\n\nmodule.exports = InMemoryEntity;\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Diaspora",
		 "url"     : "docco/",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table class=&quot;readme&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr id=&quot;section&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;h1&gt; &lt;a href=&quot;#{package_json.homepage}&quot;&gt;&lt;diaspora&gt;&lt;/diaspora&gt;&lt;/a&gt;&lt;/h1&gt;&lt;p&gt;Multi-Layer ORM for Javascript Client+Server&lt;/p&gt;&lt;h3&gt;Version&lt;/h3&gt;&lt;p&gt;0.0.1&lt;/p&gt;&lt;h3&gt;Author&lt;/h3&gt;&lt;p&gt;Gerkin&lt;/p&gt;&lt;h3&gt;Repository&lt;/h3&gt;&lt;p&gt;git - git+https://github.com/Nihilivin/Diaspora.git&lt;/p&gt;&lt;h3&gt;Dependencies &lt;/h3&gt;&lt;ul&gt;&lt;li&gt; &lt;b&gt;bluebird &lt;/b&gt;&lt;span&gt;^3.5.0&lt;/span&gt;&lt;/li&gt;&lt;li&gt; &lt;b&gt;lodash &lt;/b&gt;&lt;span&gt;^4.17.4&lt;/span&gt;&lt;/li&gt;&lt;li&gt; &lt;b&gt;sequential-event &lt;/b&gt;&lt;span&gt;^0.1.0&lt;/span&gt;&lt;/li&gt;&lt;/ul&gt;&lt;hr/&gt;&lt;h3&gt;Stats&lt;/h3&gt;&lt;div class=&quot;code_stats&quot;&gt;&lt;p&gt;Using &lt;a href=&quot;https://github.com/AlDanial/cloc&quot;&gt;github.com/AlDanial/cloc&lt;/a&gt; v1.74&lt;/p&gt;&lt;table&gt;&lt;tr&gt;&lt;th&gt;Language&lt;/th&gt;&lt;th&gt;files&lt;/th&gt;&lt;th&gt;blank&lt;/th&gt;&lt;th&gt;comment&lt;/th&gt;&lt;th&gt;code&lt;/th&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;JavaScript&lt;/td&gt;&lt;td&gt;27&lt;/td&gt;&lt;td&gt;245&lt;/td&gt;&lt;td&gt;976&lt;/td&gt;&lt;td&gt;3884&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;h1&gt;Diaspora&lt;/h1&gt;\n\n&lt;p&gt;&lt;strong&gt;&lt;em&gt;Multi-source ORM for NodeJS &amp;amp; the browser&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;\n\n&lt;h2&gt;Quick Code Review&lt;/h2&gt;\n\n&lt;p&gt;This documentation section is a readable version of the code, for quick review. Please visit the &lt;a href=&quot;../&quot;&gt;Manual website&lt;/a&gt; or the &lt;a href=&quot;../jsdoc/index.html&quot;&gt;API Documentation&lt;/a&gt;&lt;/p&gt;\n\n&lt;hr /&gt;\n\n&lt;h2&gt;API Overview&lt;/h2&gt;\n\n&lt;p&gt;Here is a short API overview. For a detailed API documentation, check... The doc that does not exist yet ^^&#39;&lt;/p&gt;\n\n&lt;h3&gt;Model methods&lt;/h3&gt;\n\n&lt;h4&gt;make/spawn([&lt;em&gt;object&lt;/em&gt; &lt;code&gt;props&lt;/code&gt;]) =&gt; &lt;em&gt;Entity&lt;/em&gt;&lt;/h4&gt;\n\n&lt;p&gt;Create an entity, defining its properties with provided &lt;code&gt;props&lt;/code&gt;. The returned entity should be persisted later.&lt;/p&gt;\n\n&lt;h4&gt;makeMany/spawnMany([&lt;em&gt;object[]&lt;/em&gt; &lt;code&gt;props&lt;/code&gt;]) =&gt; &lt;em&gt;Entity[]&lt;/em&gt;&lt;/h4&gt;\n\n&lt;p&gt;See &lt;code&gt;make&lt;/code&gt; or &lt;code&gt;spawn&lt;/code&gt;.&lt;/p&gt;\n\n&lt;h4&gt;insert([&lt;em&gt;object&lt;/em&gt; &lt;code&gt;props&lt;/code&gt;]) =&gt; &lt;em&gt;Promise(Entity)&lt;/em&gt;&lt;/h4&gt;\n\n&lt;p&gt;Create an entity, defining its properties with provided &lt;code&gt;props&lt;/code&gt;, and persist it immediately.&lt;/p&gt;\n\n&lt;h4&gt;insertMany([&lt;em&gt;object[]&lt;/em&gt; &lt;code&gt;props&lt;/code&gt;]) =&gt; &lt;em&gt;Promise(Entity[])&lt;/em&gt;&lt;/h4&gt;\n\n&lt;p&gt;See &lt;code&gt;insertMany&lt;/code&gt;.&lt;/p&gt;\n\n&lt;h4&gt;find(&lt;em&gt;object || Any&lt;/em&gt; &lt;code&gt;query&lt;/code&gt;, [&lt;em&gt;object&lt;/em&gt; &lt;code&gt;options&lt;/code&gt;], [&lt;em&gt;string&lt;/em&gt; &lt;code&gt;source&lt;/code&gt;]) =&gt; &lt;em&gt;Promise(Entity)&lt;/em&gt;&lt;/h4&gt;\n\n&lt;p&gt;Retrieve an entity matching &lt;code&gt;query&lt;/code&gt;. If &lt;code&gt;query&lt;/code&gt; isn&#39;t an object, it is considered as an ID.&lt;/p&gt;\n\n&lt;h4&gt;findMany(&lt;em&gt;object || Any&lt;/em&gt; &lt;code&gt;query&lt;/code&gt;, [&lt;em&gt;object&lt;/em&gt; &lt;code&gt;options&lt;/code&gt;], [&lt;em&gt;string&lt;/em&gt; &lt;code&gt;source&lt;/code&gt;]) =&gt; &lt;em&gt;Promise(Entity[])&lt;/em&gt;&lt;/h4&gt;\n\n&lt;p&gt;See &lt;code&gt;find&lt;/code&gt;&lt;/p&gt;\n\n&lt;h4&gt;delete(&lt;em&gt;object || Any&lt;/em&gt; &lt;code&gt;query&lt;/code&gt;, [&lt;em&gt;object&lt;/em&gt; &lt;code&gt;options&lt;/code&gt;], [&lt;em&gt;string&lt;/em&gt; &lt;code&gt;source&lt;/code&gt;]) =&gt; &lt;em&gt;Promise(Entity)&lt;/em&gt;&lt;/h4&gt;\n\n&lt;p&gt;Delete an entity matching &lt;code&gt;query&lt;/code&gt;. If &lt;code&gt;query&lt;/code&gt; isn&#39;t an object, it is considered as an ID. &lt;code&gt;options&lt;/code&gt; can contain &lt;code&gt;allowEmptyQuery&lt;/code&gt;.&lt;/p&gt;\n\n&lt;h4&gt;deleteMany(&lt;em&gt;object || Any&lt;/em&gt; &lt;code&gt;query&lt;/code&gt;, [&lt;em&gt;object&lt;/em&gt; &lt;code&gt;options&lt;/code&gt;], [&lt;em&gt;string&lt;/em&gt; &lt;code&gt;source&lt;/code&gt;]) =&gt; &lt;em&gt;Promise(Entity)&lt;/em&gt;&lt;/h4&gt;\n\n&lt;p&gt;See &lt;code&gt;delete&lt;/code&gt;&lt;/p&gt;\n\n&lt;h4&gt;update(&lt;em&gt;object || Any&lt;/em&gt; &lt;code&gt;query&lt;/code&gt;, &lt;em&gt;object&lt;/em&gt; &lt;code&gt;newAttrs&lt;/code&gt;, [&lt;em&gt;object&lt;/em&gt; &lt;code&gt;options&lt;/code&gt;], [&lt;em&gt;string&lt;/em&gt; &lt;code&gt;source&lt;/code&gt;]) =&gt; &lt;em&gt;Promise(Entity)&lt;/em&gt;&lt;/h4&gt;\n\n&lt;p&gt;Update a single entity matching &lt;code&gt;query&lt;/code&gt;with attributes in &lt;code&gt;newAttrs&lt;/code&gt;. If &lt;code&gt;query&lt;/code&gt; isn&#39;t an object, it is considered as an ID. &lt;code&gt;options&lt;/code&gt; can contain &lt;code&gt;allowEmptyQuery&lt;/code&gt;.&lt;/p&gt;\n\n&lt;h4&gt;updateMany(&lt;em&gt;object || Any&lt;/em&gt; &lt;code&gt;query&lt;/code&gt;, &lt;em&gt;object&lt;/em&gt; &lt;code&gt;newAttrs&lt;/code&gt;, [&lt;em&gt;object&lt;/em&gt; &lt;code&gt;options&lt;/code&gt;], [&lt;em&gt;string&lt;/em&gt; &lt;code&gt;source&lt;/code&gt;]) =&gt; &lt;em&gt;Promise(Entity[])&lt;/em&gt;&lt;/h4&gt;\n\n&lt;p&gt;See &lt;code&gt;update&lt;/code&gt;&lt;/p&gt;\n\n&lt;h3&gt;Entity methods&lt;/h3&gt;\n\n&lt;h4&gt;destroy([&lt;em&gt;string&lt;/em&gt; &lt;code&gt;source&lt;/code&gt;]) =&gt; &lt;em&gt;Promise(this)&lt;/em&gt;&lt;/h4&gt;\n\n&lt;p&gt;Delete this entity from the specified &lt;code&gt;source&lt;/code&gt;. Source hash object is set to &lt;code&gt;undefined&lt;/code&gt;&lt;/p&gt;\n\n&lt;h4&gt;persist([&lt;em&gt;string&lt;/em&gt; &lt;code&gt;source&lt;/code&gt;]) =&gt; &lt;em&gt;Promise(this)&lt;/em&gt;&lt;/h4&gt;\n\n&lt;p&gt;Save current entity to the specified &lt;code&gt;source&lt;/code&gt;.&lt;/p&gt;\n\n&lt;h4&gt;fetch([&lt;em&gt;string&lt;/em&gt; &lt;code&gt;source&lt;/code&gt;]) =&gt; &lt;em&gt;Promise(this)&lt;/em&gt;&lt;/h4&gt;\n\n&lt;p&gt;Reload entity from specified &lt;code&gt;source&lt;/code&gt;.&lt;/p&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : " Multi-Layer ORM for Javascript Client+ServerVersion0.0.1AuthorGerkinRepositorygit - git+https://github.com/Nihilivin/Diaspora.gitDependencies  bluebird ^3.5.0 lodash ^4.17.4 sequential-event ^0.1.0StatsUsing github.com/AlDanial/cloc v1.74LanguagefilesblankcommentcodeJavaScript272459763884Diaspora\n\nMulti-source ORM for NodeJS &amp;amp; the browser\n\nQuick Code Review\n\nThis documentation section is a readable version of the code, for quick review. Please visit the Manual website or the API Documentation\n\n\n\nAPI Overview\n\nHere is a short API overview. For a detailed API documentation, check... The doc that does not exist yet ^^&#39;\n\nModel methods\n\nmake/spawn([object props]) =&gt; Entity\n\nCreate an entity, defining its properties with provided props. The returned entity should be persisted later.\n\nmakeMany/spawnMany([object[] props]) =&gt; Entity[]\n\nSee make or spawn.\n\ninsert([object props]) =&gt; Promise(Entity)\n\nCreate an entity, defining its properties with provided props, and persist it immediately.\n\ninsertMany([object[] props]) =&gt; Promise(Entity[])\n\nSee insertMany.\n\nfind(object || Any query, [object options], [string source]) =&gt; Promise(Entity)\n\nRetrieve an entity matching query. If query isn&#39;t an object, it is considered as an ID.\n\nfindMany(object || Any query, [object options], [string source]) =&gt; Promise(Entity[])\n\nSee find\n\ndelete(object || Any query, [object options], [string source]) =&gt; Promise(Entity)\n\nDelete an entity matching query. If query isn&#39;t an object, it is considered as an ID. options can contain allowEmptyQuery.\n\ndeleteMany(object || Any query, [object options], [string source]) =&gt; Promise(Entity)\n\nSee delete\n\nupdate(object || Any query, object newAttrs, [object options], [string source]) =&gt; Promise(Entity)\n\nUpdate a single entity matching querywith attributes in newAttrs. If query isn&#39;t an object, it is considered as an ID. options can contain allowEmptyQuery.\n\nupdateMany(object || Any query, object newAttrs, [object options], [string source]) =&gt; Promise(Entity[])\n\nSee update\n\nEntity methods\n\ndestroy([string source]) =&gt; Promise(this)\n\nDelete this entity from the specified source. Source hash object is set to undefined\n\npersist([string source]) =&gt; Promise(this)\n\nSave current entity to the specified source.\n\nfetch([string source]) =&gt; Promise(this)\n\nReload entity from specified source."
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Index",
		 "url"     : "jsdoc/",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t\n\t\n\n\n\n\n\n\n\n\n\n\n\n\t\n\t\n\n\n\n\n\n    &lt;section class=&quot;readme-section&quot;&gt;\n        &lt;article&gt;&lt;h1&gt;Diaspora&lt;/h1&gt;&lt;p&gt;&lt;strong&gt;&lt;em&gt;Multi-source ORM for NodeJS &amp;amp; the browser&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;\n&lt;h2&gt;API Documentation&lt;/h2&gt;&lt;p&gt;This documentation section is a readable version of the code, for quick review. Please visit the &lt;a href=&quot;../&quot;&gt;Manual website&lt;/a&gt; or the &lt;a href=&quot;../docco/index.html&quot;&gt;Quick Code Review&lt;/a&gt;&lt;/p&gt;\n&lt;hr&gt;&lt;/article&gt;\n    &lt;/section&gt;\n\n\n\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:18+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\t\n\t\n\n\n\n\n\n\n\n\n\n\n\n\t\n\t\n\n\n\n\n\n    \n        DiasporaMulti-source ORM for NodeJS &amp;amp; the browser\nAPI DocumentationThis documentation section is a readable version of the code, for quick review. Please visit the Manual website or the Quick Code Review\n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:18+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "index.js",
		 "url"     : "docco/test/index.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;index.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;test/index.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;summary&quot;&gt;&lt;p&gt;globals l: false, c: false&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;&lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./defineGlobals&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SAUCE_ONLY&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;true&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;global&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;../diaspora&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;global&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;quot;check&amp;quot; feature&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Basic tests with types&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;any&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;any&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;                &lt;span class=&quot;kr&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;mf&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;integer&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;                &lt;span class=&quot;kr&quot;&gt;float&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;float&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-40&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-41&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-42&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-43&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-44&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-45&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-46&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;objectUndef&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-47&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;aze&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;hello&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-48&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-49&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-50&quot;&gt;                    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-51&quot;&gt;                &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-52&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;arrayUndef&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-53&quot;&gt;                    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aze&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-54&quot;&gt;                &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-55&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;arrayMultiDef&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-56&quot;&gt;                    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aze&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-57&quot;&gt;                &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-58&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-59&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-60&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;       &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-61&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-62&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-63&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-64&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-65&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-66&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-67&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;objectUndef&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-68&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-69&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-70&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-71&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;array&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-72&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-73&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;integer&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-74&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-75&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-76&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;arrayUndef&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-77&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;array&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-78&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-79&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;arrayMultiDef&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-80&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;array&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-81&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-82&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-83&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;float&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-84&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-85&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-86&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-87&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-88&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-89&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-90&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-91&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-92&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-93&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-94&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-95&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;objectUndef&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-96&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;aze&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-97&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-98&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-99&quot;&gt;                    &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-100&quot;&gt;                &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-101&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;arrayUndef&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-102&quot;&gt;                    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aze&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-103&quot;&gt;                &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-104&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;arrayMultiDef&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-105&quot;&gt;                    &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aze&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mf&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-106&quot;&gt;                &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-107&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-108&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-109&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;       &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-110&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-111&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-112&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-113&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-114&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-115&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-116&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;objectUndef&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-117&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-118&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-119&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-120&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;array&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-121&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-122&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;integer&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-123&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-124&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-125&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;arrayUndef&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-126&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;array&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-127&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-128&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;arrayMultiDef&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-129&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;array&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-130&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-131&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-132&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;float&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-133&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-134&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-135&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-136&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-137&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-138&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-139&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-140&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-141&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;quot;required&amp;quot; property&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-142&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-143&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-144&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-145&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-146&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;&amp;#39;any&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-147&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-148&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-149&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-150&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-151&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-152&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-153&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-154&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;&amp;#39;any&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-155&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-156&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-157&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-158&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-159&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-160&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-161&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-162&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;&amp;#39;any&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-163&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-164&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-165&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-166&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-167&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-168&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-169&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-170&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;&amp;#39;any&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-171&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-172&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-173&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-174&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-175&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-176&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-177&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-178&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-179&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-180&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;       &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-181&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-182&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-183&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-184&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-185&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-186&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-187&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-188&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-189&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-190&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-191&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-192&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-193&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;       &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-194&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-195&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-196&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-197&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-198&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-199&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-200&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-201&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-202&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-203&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-204&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-205&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-206&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;       &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-207&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-208&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;string&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-209&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-210&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-211&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-212&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-213&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-214&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-215&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-216&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;rand&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-217&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;&amp;#39;number&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-218&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-219&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-220&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-221&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-222&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;rand&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-223&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-224&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;rand&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-225&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;&amp;#39;integer&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-226&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-227&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-228&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-229&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-230&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;rand&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-231&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-232&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;rand&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-233&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;&amp;#39;integer&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-234&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;required&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-235&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-236&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-237&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-238&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;quot;enum&amp;quot; property&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-239&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-240&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-241&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-242&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-243&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;any&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-244&quot;&gt;                    &lt;span class=&quot;kr&quot;&gt;enum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aze&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-245&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-246&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-247&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-248&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-249&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-250&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-251&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-252&quot;&gt;                    &lt;span class=&quot;kr&quot;&gt;enum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;hello&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-253&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-254&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-255&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-256&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-257&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-258&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-259&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-260&quot;&gt;                    &lt;span class=&quot;kr&quot;&gt;enum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;hello&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;world&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-261&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-262&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-263&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-264&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-265&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-266&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-267&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-268&quot;&gt;                    &lt;span class=&quot;kr&quot;&gt;enum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;hello&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/^str/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-269&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-270&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-271&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;check&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-272&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-273&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-274&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-275&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-276&quot;&gt;                    &lt;span class=&quot;kr&quot;&gt;enum&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;hello&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/^wo/&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-277&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-278&quot;&gt;            &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;empty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-279&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-280&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-281&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;quot;default&amp;quot; feature&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-282&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-283&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;aze&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;123&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-284&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-285&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-286&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;s1&quot;&gt;&amp;#39;text&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-287&quot;&gt;                &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-288&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-289&quot;&gt;        &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-290&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;aze&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;123&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-291&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-292&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-293&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-294&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-295&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;aze&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;123&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-296&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-297&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-298&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;s1&quot;&gt;&amp;#39;datetime&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-299&quot;&gt;                &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-300&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-301&quot;&gt;        &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-302&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;aze&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;123&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-303&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-304&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-305&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-306&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;aze&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-307&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-308&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;aze&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-309&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;s1&quot;&gt;&amp;#39;text&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-310&quot;&gt;                &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-311&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-312&quot;&gt;        &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-313&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;aze&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-314&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-315&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-316&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;aze&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-317&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-318&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;aze&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-319&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;s1&quot;&gt;&amp;#39;datetime&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-320&quot;&gt;                &lt;span class=&quot;k&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-321&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-322&quot;&gt;        &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-323&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;aze&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-324&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-325&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-326&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-327&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;importTest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;underline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Adapters&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./adapters/index.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-328&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;importTest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;underline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;blue&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Models&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./models/index.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-329&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-330&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-331&quot;&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;NO_SAUCE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;true&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-332&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./browserTests/seleniumTest.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-333&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "index.jstest/index.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\n\n&amp;#182;globals l: false, c: false\nrequire( &amp;#39;./defineGlobals&amp;#39; );\n\nif ( process.env.SAUCE_ONLY !== &amp;#39;true&amp;#39; ) {\n    global.Diaspora = require( &amp;#39;../diaspora&amp;#39; );\n    global.dataSources = {};\n    describe( &amp;#39;&amp;quot;check&amp;quot; feature&amp;#39;, () =&amp;gt; {\n        it( &amp;#39;Basic tests with types&amp;#39;, () =&amp;gt; {\n            expect( Diaspora.check({\n                test: &amp;#39;string&amp;#39;,\n            }, {\n                test: {\n                    type: &amp;#39;any&amp;#39;,\n                },\n            })).to.be.empty;\n            expect( Diaspora.check({\n                test: 1,\n            }, {\n                test: {\n                    type: &amp;#39;any&amp;#39;,\n                },\n            })).to.be.empty;\n            expect( Diaspora.check({\n                string: &amp;#39;string&amp;#39;,\n                number: 1,\n                float:  1.5,\n            }, {\n                string: {\n                    type: &amp;#39;string&amp;#39;,\n                },\n                number: {\n                    type: &amp;#39;integer&amp;#39;,\n                },\n                float: {\n                    type: &amp;#39;float&amp;#39;,\n                },\n            })).to.be.empty;\n            expect( Diaspora.check({\n                object: {\n                    string: &amp;#39;string&amp;#39;,\n                },\n                objectUndef: {\n                    aze: &amp;#39;hello&amp;#39;,\n                },\n                array: [\n                    1, 2, 3,\n                ],\n                arrayUndef: [\n                    1, &amp;#39;aze&amp;#39;, false, {},\n                ],\n                arrayMultiDef: [\n                    1, &amp;#39;aze&amp;#39;, 1.5,\n                ],\n            }, {\n                object: {\n                    type:       &amp;#39;object&amp;#39;,\n                    attributes: {\n                        string: {\n                            type: &amp;#39;string&amp;#39;,\n                        },\n                    },\n                },\n                objectUndef: {\n                    type: &amp;#39;object&amp;#39;,\n                },\n                array: {\n                    type: &amp;#39;array&amp;#39;,\n                    of:   {\n                        type: &amp;#39;integer&amp;#39;,\n                    },\n                },\n                arrayUndef: {\n                    type: &amp;#39;array&amp;#39;,\n                },\n                arrayMultiDef: {\n                    type: &amp;#39;array&amp;#39;,\n                    of:   [\n                        {\n                            type: &amp;#39;float&amp;#39;,\n                        },\n                        {\n                            type: &amp;#39;string&amp;#39;,\n                        },\n                    ],\n                },\n            })).to.be.empty;\n            expect( Diaspora.check({\n                object: {\n                    string: null,\n                },\n                objectUndef: {\n                    aze: null,\n                },\n                array: [\n                    null,\n                ],\n                arrayUndef: [\n                    1, &amp;#39;aze&amp;#39;, false, null,\n                ],\n                arrayMultiDef: [\n                    1, &amp;#39;aze&amp;#39;, 1.5, null,\n                ],\n            }, {\n                object: {\n                    type:       &amp;#39;object&amp;#39;,\n                    attributes: {\n                        string: {\n                            type: &amp;#39;string&amp;#39;,\n                        },\n                    },\n                },\n                objectUndef: {\n                    type: &amp;#39;object&amp;#39;,\n                },\n                array: {\n                    type: &amp;#39;array&amp;#39;,\n                    of:   {\n                        type: &amp;#39;integer&amp;#39;,\n                    },\n                },\n                arrayUndef: {\n                    type: &amp;#39;array&amp;#39;,\n                },\n                arrayMultiDef: {\n                    type: &amp;#39;array&amp;#39;,\n                    of:   [\n                        {\n                            type: &amp;#39;float&amp;#39;,\n                        },\n                        {\n                            type: &amp;#39;string&amp;#39;,\n                        },\n                    ],\n                },\n            })).to.be.empty;\n        });\n        it( &amp;#39;&amp;quot;required&amp;quot; property&amp;#39;, () =&amp;gt; {\n            expect( Diaspora.check({\n                test: 1,\n            }, {\n                test: {\n                    type:     &amp;#39;any&amp;#39;,\n                    required: true,\n                },\n            })).to.be.empty;\n            expect( Diaspora.check({\n                test: &amp;#39;string&amp;#39;,\n            }, {\n                test: {\n                    type:     &amp;#39;any&amp;#39;,\n                    required: true,\n                },\n            })).to.be.empty;\n            expect( Diaspora.check({\n                test: null,\n            }, {\n                test: {\n                    type:     &amp;#39;any&amp;#39;,\n                    required: true,\n                },\n            })).to.be.not.empty;\n            expect( Diaspora.check({\n                test: &amp;#39;a&amp;#39;,\n            }, {\n                test: {\n                    type:     &amp;#39;any&amp;#39;,\n                    required: true,\n                },\n            })).to.be.empty;\n            expect( Diaspora.check({\n                object: {\n                    string: null,\n                },\n            }, {\n                object: {\n                    type:       &amp;#39;object&amp;#39;,\n                    attributes: {\n                        string: {\n                            type:     &amp;#39;string&amp;#39;,\n                            required: true,\n                        },\n                    },\n                },\n            })).to.be.not.empty;\n            expect( Diaspora.check({\n                object: null,\n            }, {\n                object: {\n                    type:       &amp;#39;object&amp;#39;,\n                    required:   true,\n                    attributes: {\n                        string: {\n                            type: &amp;#39;string&amp;#39;,\n                        },\n                    },\n                },\n            })).to.be.not.empty;\n            expect( Diaspora.check({\n                object: null,\n            }, {\n                object: {\n                    type:       &amp;#39;object&amp;#39;,\n                    attributes: {\n                        string: {\n                            type:     &amp;#39;string&amp;#39;,\n                            required: true,\n                        },\n                    },\n                },\n            })).to.be.empty;\n            expect( Diaspora.check({}, {\n                rand: {\n                    type:     &amp;#39;number&amp;#39;,\n                    required: true,\n                },\n            })).to.be.not.empty;\n            expect( Diaspora.check({\n                rand: null,\n            }, {\n                rand: {\n                    type:     &amp;#39;integer&amp;#39;,\n                    required: true,\n                },\n            })).to.be.not.empty;\n            expect( Diaspora.check({\n                rand: l.random( 0, 100 ),\n            }, {\n                rand: {\n                    type:     &amp;#39;integer&amp;#39;,\n                    required: true,\n                },\n            })).to.be.empty;\n        });\n        it( &amp;#39;&amp;quot;enum&amp;quot; property&amp;#39;, () =&amp;gt; {\n            expect( Diaspora.check({\n                test: 1,\n            }, {\n                test: {\n                    type: &amp;#39;any&amp;#39;,\n                    enum: [ 1, 2, &amp;#39;aze&amp;#39; ],\n                },\n            })).to.be.empty;\n            expect( Diaspora.check({\n                test: &amp;#39;string&amp;#39;,\n            }, {\n                test: {\n                    type: &amp;#39;string&amp;#39;,\n                    enum: [ &amp;#39;string&amp;#39;, &amp;#39;hello&amp;#39; ],\n                },\n            })).to.be.empty;\n            expect( Diaspora.check({\n                test: &amp;#39;string&amp;#39;,\n            }, {\n                test: {\n                    type: &amp;#39;string&amp;#39;,\n                    enum: [ &amp;#39;hello&amp;#39;, &amp;#39;world&amp;#39; ],\n                },\n            })).to.be.not.empty;\n            expect( Diaspora.check({\n                test: &amp;#39;string&amp;#39;,\n            }, {\n                test: {\n                    type: &amp;#39;string&amp;#39;,\n                    enum: [ &amp;#39;hello&amp;#39;, /^str/ ],\n                },\n            })).to.be.empty;\n            expect( Diaspora.check({\n                test: &amp;#39;string&amp;#39;,\n            }, {\n                test: {\n                    type: &amp;#39;string&amp;#39;,\n                    enum: [ &amp;#39;hello&amp;#39;, /^wo/ ],\n                },\n            })).to.be.not.empty;\n        });\n    });\n    it( &amp;#39;&amp;quot;default&amp;quot; feature&amp;#39;, () =&amp;gt; {\n        expect( Diaspora.default({\n            aze: 123,\n        }, {\n            foo: {\n                type:    &amp;#39;text&amp;#39;,\n                default: &amp;#39;bar&amp;#39;,\n            },\n        })).to.deep.equal({\n            aze: 123,\n            foo: &amp;#39;bar&amp;#39;,\n        });\n        const now = l.now();\n        expect( Diaspora.default({\n            aze: 123,\n        }, {\n            foo: {\n                type:    &amp;#39;datetime&amp;#39;,\n                default: () =&amp;gt; now,\n            },\n        })).to.deep.equal({\n            aze: 123,\n            foo: now,\n        });\n        expect( Diaspora.default({\n            aze: &amp;#39;baz&amp;#39;,\n        }, {\n            aze: {\n                type:    &amp;#39;text&amp;#39;,\n                default: &amp;#39;bar&amp;#39;,\n            },\n        })).to.deep.equal({\n            aze: &amp;#39;baz&amp;#39;,\n        });\n        expect( Diaspora.default({\n            aze: &amp;#39;baz&amp;#39;,\n        }, {\n            aze: {\n                type:    &amp;#39;datetime&amp;#39;,\n                default: () =&amp;gt; &amp;#39;bar&amp;#39;,\n            },\n        })).to.deep.equal({\n            aze: &amp;#39;baz&amp;#39;,\n        });\n    });\n\n    importTest( chalk.bold.underline.blue( &amp;#39;Adapters&amp;#39; ), &amp;#39;./adapters/index.js&amp;#39; );\n    importTest( chalk.bold.underline.blue( &amp;#39;Models&amp;#39; ), &amp;#39;./models/index.js&amp;#39; );\n}\n\nif ( process.env.NO_SAUCE !== &amp;#39;true&amp;#39; ) {\n    require( &amp;#39;./browserTests/seleniumTest.js&amp;#39; );\n}\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "index.js",
		 "url"     : "docco/test/testApps/adapters/index.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;index.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;test/testApps/adapters/index.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;describeApp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;level&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;slug&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Level &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;level&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;: &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;        &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`./&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;slug&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;.json`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;        &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`./&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;slug&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;app1-matchmail&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Could not prepare app:&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;underline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;white&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Testing adapter with apps&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;describeApp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;MatchMail Simple&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;app1-matchmail-simple&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Symbols:    &lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "index.jstest/testApps/adapters/index.js&amp;#182;const describeApp = ( level, name, slug, adapter ) =&amp;gt; {\n    describe( `Level ${ level }: ${ name }`, () =&amp;gt; {\n        let data;\n        try {\n            data = require( `./${ slug }.json` );\n        } catch ( err ) {\n        }\n        try {\n            require( `./${ slug }` )( adapter, data, &amp;#39;app1-matchmail&amp;#39; );\n        } catch ( err ) {\n            console.log( &amp;#39;Could not prepare app:&amp;#39;, err );\n        }\n    });\n};\n\nmodule.exports = adapter =&amp;gt; {\n    describe( chalk.underline.white( &amp;#39;Testing adapter with apps&amp;#39; ), () =&amp;gt; {\n        describeApp( 1, &amp;#39;MatchMail Simple&amp;#39;, &amp;#39;app1-matchmail-simple&amp;#39;, adapter );\n    });\n};\n\n\n&amp;#182;Symbols:    \n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "index.js",
		 "url"     : "docco/test/models/index.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;index.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;test/models/index.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;nx&quot;&gt;importTest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;red&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Simple model (single source)&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./simple.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;&lt;span class=&quot;nx&quot;&gt;importTest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;red&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Simple model with remapping(single source)&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./simple-remapping.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "index.jstest/models/index.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\nimportTest( chalk.bold.red( &amp;#39;Simple model (single source)&amp;#39; ), &amp;#39;./simple.js&amp;#39; );\nimportTest( chalk.bold.red( &amp;#39;Simple model with remapping(single source)&amp;#39; ), &amp;#39;./simple-remapping.js&amp;#39; );\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "index.js",
		 "url"     : "docco/test/adapters/index.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;index.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;test/adapters/index.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;nx&quot;&gt;importTest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chalk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;red&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;In Memory&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./inMemory.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;importTest(chalk.bold.red(&#39;Local Storage&#39;), &#39;./localStorage.js&#39;);&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "index.jstest/adapters/index.js&amp;#182;importTest( chalk.bold.red( &amp;#39;In Memory&amp;#39; ), &amp;#39;./inMemory.js&amp;#39; );\n\n&amp;#182;importTest(chalk.bold.red(&#39;Local Storage&#39;), &#39;./localStorage.js&#39;);\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "",
		 "url"     : "",
		 "date"     : "",
		 "html"  : "&lt;h1 id=&quot;diaspora&quot;&gt;Diaspora&lt;/h1&gt;\n\n&lt;p&gt;&lt;strong&gt;&lt;em&gt;Multi-source ORM for NodeJS &amp;amp; modern web browsers&lt;/em&gt;&lt;/strong&gt;&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;You are on the manual website. You may check the &lt;a href=&quot;docco/index.html&quot;&gt;Quick Code Review&lt;/a&gt; or the &lt;a href=&quot;jsdoc/index.html&quot;&gt;API Documentation&lt;/a&gt;&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;hr /&gt;\n\n&lt;h2 id=&quot;what-is-diaspora&quot;&gt;What is Diaspora&lt;/h2&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;A &lt;em&gt;diaspora&lt;/em&gt; (from Greek , scattering, dispersion) is a scattered population whose origin lies within a smaller geographic locale&lt;/p&gt;\n  &lt;ul&gt;\n    &lt;li&gt;Wikipedia&lt;/li&gt;\n  &lt;/ul&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;Diaspora considers data as populations and like human beings these data can move from their original app memory to databases.\nA Diaspora based app may thus use data from several sources and can interact with each source independently with the same payload data.\nHere are some examples :&lt;/p&gt;\n\n&lt;h3 id=&quot;example-1-diaspora-docs&quot;&gt;Example 1: Diaspora Docs&lt;/h3&gt;\n\n&lt;p&gt;Lets consider an &lt;em&gt;online office suite app&lt;/em&gt; with both desktop and browser interface : you can load, edit and save your documents and your account synchronises them all.\nIf working offline, the app keeps all changes locally on an offline version and when working online, it will send it on the server to be saved on one or many of the servers databases upon saving.&lt;/p&gt;\n\n&lt;h3 id=&quot;example-2-update-search-engine-datas&quot;&gt;Example 2: Update search engine datas&lt;/h3&gt;\n\n&lt;p&gt;A website article is stored on a database (lets say MySQL or MongoDB). When you create, update or delete the article, your website search engine data have to be refreshed.&lt;/p&gt;\n\n&lt;h2 id=&quot;how-does-it-work&quot;&gt;How does it work?&lt;/h2&gt;\n\n&lt;p&gt;Diaspora is both a server and a client library, loading the same configuation structure.\nDiaspora allows you to create models, entities and data sources :&lt;/p&gt;\n\n&lt;h3 id=&quot;models&quot;&gt;Models&lt;/h3&gt;\n\n&lt;p&gt;Models describe data and how to interact with them. Models instantiate and manage their &lt;a href=&quot;#&quot;&gt;entities&lt;/a&gt;, and interacts with &lt;a href=&quot;&quot;&gt;data sources&lt;/a&gt;. We can assimilate it to a table in MySQL or a collection in MongoDB.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;jsdoc/Model.html&quot; class=&quot;btn&quot;&gt;See the &lt;b&gt;Model API&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;h3 id=&quot;entities&quot;&gt;Entities&lt;/h3&gt;\n\n&lt;p&gt;An entity represent a data, like a row in MySQL, or a document in MongoDB. Each entities are attached to a single &lt;a href=&quot;&quot;&gt;model&lt;/a&gt;, and contains its value for each &lt;a href=&quot;&quot;&gt;data source&lt;/a&gt;. Thus, an entity can know and interact with its state in each data source.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;jsdoc/Entity.html&quot; class=&quot;btn&quot;&gt;See the &lt;b&gt;Entity API&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;h3 id=&quot;data-sources&quot;&gt;Data sources&lt;/h3&gt;\n\n&lt;p&gt;Data sources are data stores we interact with through &lt;a href=&quot;&quot;&gt;adapters&lt;/a&gt;. A store is, for example, your MySQL, Mongo, Redis server, an HTTP REST API, or even a block of memory in your program. You are not supposed to use adapters &amp;amp; data-sources directly: Diaspora is in charge for this.&lt;/p&gt;\n\n&lt;p&gt;&lt;a href=&quot;create-an-adapter.html&quot; class=&quot;btn&quot;&gt;Learn how to &lt;b&gt;create an adapter&lt;/b&gt;&lt;/a&gt;&lt;/p&gt;\n\n&lt;h2 id=&quot;planned-or-unsure-diaspora-behaviors&quot;&gt;Planned or unsure Diaspora behaviors&lt;/h2&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;Manual change of ID&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;em&gt;Unsure&lt;/em&gt; &amp;gt; Entity may change mode to &lt;code class=&quot;highlighter-rouge&quot;&gt;desync&lt;/code&gt; ?&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;P2P Adapter&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;em&gt;Unsure&lt;/em&gt; &amp;gt; May be interesting Check for possible problems about data modification, etc etc.&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;Mongo Adapter&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;em&gt;Planned&lt;/em&gt; &amp;gt; Wait for definitive adapter structure&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;Redis Adapter&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;em&gt;Planned&lt;/em&gt; &amp;gt; Wait for definitive adapter structure&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;LocalStorage/SessionStorage Adapter&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;em&gt;Planned&lt;/em&gt; &amp;gt; Wait for definitive adapter structure&lt;/p&gt;\n\n&lt;blockquote&gt;\n  &lt;p&gt;Auto-switch to API server/client&lt;/p&gt;\n&lt;/blockquote&gt;\n\n&lt;p&gt;&lt;em&gt;Planned&lt;/em&gt; &amp;gt; Wait for at least Mongo &amp;amp; Localstorage adapters.&lt;/p&gt;\n\n&lt;div id=&quot;disqus_thread&quot;&gt;&lt;/div&gt;\n",
			   "content"  : "Diaspora\n\nMulti-source ORM for NodeJS &amp;amp; modern web browsers\n\n\n  You are on the manual website. You may check the Quick Code Review or the API Documentation\n\n\n\n\nWhat is Diaspora\n\n\n  A diaspora (from Greek , scattering, dispersion) is a scattered population whose origin lies within a smaller geographic locale\n  \n    Wikipedia\n  \n\n\nDiaspora considers data as populations and like human beings these data can move from their original app memory to databases.\nA Diaspora based app may thus use data from several sources and can interact with each source independently with the same payload data.\nHere are some examples :\n\nExample 1: Diaspora Docs\n\nLets consider an online office suite app with both desktop and browser interface : you can load, edit and save your documents and your account synchronises them all.\nIf working offline, the app keeps all changes locally on an offline version and when working online, it will send it on the server to be saved on one or many of the servers databases upon saving.\n\nExample 2: Update search engine datas\n\nA website article is stored on a database (lets say MySQL or MongoDB). When you create, update or delete the article, your website search engine data have to be refreshed.\n\nHow does it work?\n\nDiaspora is both a server and a client library, loading the same configuation structure.\nDiaspora allows you to create models, entities and data sources :\n\nModels\n\nModels describe data and how to interact with them. Models instantiate and manage their entities, and interacts with data sources. We can assimilate it to a table in MySQL or a collection in MongoDB.\n\nSee the Model API\n\nEntities\n\nAn entity represent a data, like a row in MySQL, or a document in MongoDB. Each entities are attached to a single model, and contains its value for each data source. Thus, an entity can know and interact with its state in each data source.\n\nSee the Entity API\n\nData sources\n\nData sources are data stores we interact with through adapters. A store is, for example, your MySQL, Mongo, Redis server, an HTTP REST API, or even a block of memory in your program. You are not supposed to use adapters &amp;amp; data-sources directly: Diaspora is in charge for this.\n\nLearn how to create an adapter\n\nPlanned or unsure Diaspora behaviors\n\n\n  Manual change of ID\n\n\nUnsure &amp;gt; Entity may change mode to desync ?\n\n\n  P2P Adapter\n\n\nUnsure &amp;gt; May be interesting Check for possible problems about data modification, etc etc.\n\n\n  Mongo Adapter\n\n\nPlanned &amp;gt; Wait for definitive adapter structure\n\n\n  Redis Adapter\n\n\nPlanned &amp;gt; Wait for definitive adapter structure\n\n\n  LocalStorage/SessionStorage Adapter\n\n\nPlanned &amp;gt; Wait for definitive adapter structure\n\n\n  Auto-switch to API server/client\n\n\nPlanned &amp;gt; Wait for at least Mongo &amp;amp; Localstorage adapters.\n\n\n"
			   });
	  
	  
	 
	  
	 
	 data.push(        {
		 "title"    : "localStorage.js",
		 "url"     : "docco/test/adapters/localStorage.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;localStorage.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;test/adapters/localStorage.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;localstorage&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterConfig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getConfig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;adapterConfig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data_dir&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;LocalStorage adapter unconfigured&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;                &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;LocalStorage&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;node-localstorage&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;LocalStorage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;fs&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;localStorageDir&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterConfig&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;data_dir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;global&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;localStorage&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;LocalStorage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;localStorageDir&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;localStorage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;localStorage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;sessionStorage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;clear&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;    &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./utils&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;createDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;localStorage&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkSpawnedAdapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;LocalStorage&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;localStorage&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkEachStandardMethods&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;localStorage&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkApplications&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;localStorage&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkRegisterAdapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;localStorage&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;localStorage&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;createDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sessionStorage&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkSpawnedAdapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;SessionStorage&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sessionStorage&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkEachStandardMethods&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sessionStorage&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkApplications&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sessionStorage&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkRegisterAdapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ADAPTER_LABEL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sessionStorage&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sessionStorage&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-40&quot;&gt;&lt;span class=&quot;p&quot;&gt;})();&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "localStorage.jstest/adapters/localStorage.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\n(() =&amp;gt; {\n    const ADAPTER_LABEL = &amp;#39;localstorage&amp;#39;;\n    const adapterConfig = getConfig( ADAPTER_LABEL );\n\n    if ( &amp;#39;undefined&amp;#39; === typeof window ) {\n        if ( !adapterConfig.data_dir ) {\n            it( &amp;#39;LocalStorage adapter unconfigured&amp;#39;, function() {\n                this.skip();\n            });\n        }\n\n        const LocalStorage = require( &amp;#39;node-localstorage&amp;#39; ).LocalStorage;\n        const fs = require( &amp;#39;fs&amp;#39; );\n        const localStorageDir = adapterConfig.data_dir;\n        global.localStorage = new LocalStorage( localStorageDir );\n        localStorage.clear();\n    } else {\n        localStorage.clear();\n        sessionStorage.clear();\n    }\n\n    var AdapterTestUtils = require( &amp;#39;./utils&amp;#39; );\n\n    AdapterTestUtils.createDataSource( ADAPTER_LABEL, {}, &amp;#39;localStorage&amp;#39; );\n    AdapterTestUtils.checkSpawnedAdapter( ADAPTER_LABEL, &amp;#39;LocalStorage&amp;#39;, &amp;#39;localStorage&amp;#39; );\n    AdapterTestUtils.checkEachStandardMethods( ADAPTER_LABEL, &amp;#39;localStorage&amp;#39; );\n    AdapterTestUtils.checkApplications( ADAPTER_LABEL, &amp;#39;localStorage&amp;#39; );\n    AdapterTestUtils.checkRegisterAdapter( ADAPTER_LABEL, &amp;#39;localStorage&amp;#39;, &amp;#39;localStorage&amp;#39; );\n    if ( &amp;#39;undefined&amp;#39; !== typeof window ) {\n        AdapterTestUtils.createDataSource( ADAPTER_LABEL, {\n            session: true,\n        }, &amp;#39;sessionStorage&amp;#39; );\n        AdapterTestUtils.checkSpawnedAdapter( ADAPTER_LABEL, &amp;#39;SessionStorage&amp;#39;, &amp;#39;sessionStorage&amp;#39; );\n        AdapterTestUtils.checkEachStandardMethods( ADAPTER_LABEL, &amp;#39;sessionStorage&amp;#39; );\n        AdapterTestUtils.checkApplications( ADAPTER_LABEL, &amp;#39;sessionStorage&amp;#39; );\n        AdapterTestUtils.checkRegisterAdapter( ADAPTER_LABEL, &amp;#39;sessionStorage&amp;#39;, &amp;#39;sessionStorage&amp;#39; );\n    }\n})();\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "localStorageAdapter.js",
		 "url"     : "docco/lib/adapters/localStorageAdapter.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;localStorageAdapter.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;lib/adapters/localStorageAdapter.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;lodash&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bluebird&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DiasporaAdapter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./baseAdapter.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;LocalStorageEntity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;../dataStoreEntities/localStorageEntity.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Class &lt;em&gt;LocalStorageDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;This class is used to use local storage or session storage as a data store. This adapter should be used only by the browser&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;extends&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;{&amp;quot;type&amp;quot;:&amp;quot;extends&amp;quot;,&amp;quot;string&amp;quot;:&amp;quot;Adapters.DiasporaAdapter&amp;quot;,&amp;quot;otherClass&amp;quot;:&amp;quot;Adapters.DiasporaAdapter&amp;quot;,&amp;quot;html&amp;quot;:&amp;quot;&amp;lt;p&amp;gt;Adapters.DiasporaAdapter&amp;lt;/p&amp;gt;&amp;quot;}&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Create a new LocalStorage data store&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[config] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Options hash.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;config.session=false &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Boolean&lt;/span&gt;&lt;span&gt;- &lt;p&gt;If &lt;code&gt;false&lt;/code&gt;, data source will use local storage. If &lt;code&gt;true&lt;/code&gt;, it will use session storage.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;&lt;span class=&quot;kr&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;LocalStorageDiasporaAdapter&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DiasporaAdapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;LocalStorageEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;defaults&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;session&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;ready&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;session&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sessionStorage&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;localStorage&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;configureCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remap&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;configureCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remap&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ensureCollectionExists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-3&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-3&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;hr /&gt;\n\n&lt;h3&gt;Utils&lt;/h3&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-4&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-4&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;generateUUID&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Create a new unique id for this store&#39;s entity&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.LocalStorageDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;&lt;p&gt;Generated unique id&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;generateUUID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getTime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;performance&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;function&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;performance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;performance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;//use high-precision timer if available&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;uuid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;replace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sr&quot;&gt;/[xy]/g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Math&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;floor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;x&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x8&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-40&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-41&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-42&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-43&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-44&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-5&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-5&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;ensureCollectionExists&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Create the table key if it does not exist&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.LocalStorageDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-45&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;ensureCollectionExists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-46&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-47&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-48&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-49&quot;&gt;            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-50&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-51&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-52&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-53&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-54&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-55&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-56&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-57&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-6&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-6&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;applyOptionsToSet&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Reduce, offset or sort provided set&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.LocalStorageDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;set &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Array.&amp;lt;Object&amp;gt;&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Objects retrieved from memory store&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;options &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Options to apply to the set&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Array.&amp;lt;Object&amp;gt;&lt;/span&gt;&lt;span&gt;&lt;p&gt;Set with options applied&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-58&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;applyOptionsToSet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-59&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;limit&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-60&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isInteger&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-61&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-62&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-63&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;ModelExtension&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;warn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Trying to apply a non-integer limit &amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&amp;quot;.`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-64&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-65&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-66&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-67&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-68&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-69&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-70&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-7&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-7&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;getItemName&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Deduce the item name from table name and item ID&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.LocalStorageDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to construct name for&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;id &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Id of the item to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;&lt;p&gt;Name of the item&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-71&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;getItemName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-72&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;.id=&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-73&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-74&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-75&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-76&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-8&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-8&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;hr /&gt;\n\n&lt;h3&gt;Insert&lt;/h3&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-77&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-78&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-79&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-9&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-9&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;insertOne&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;This reimplements {@link Adapters.DiasporaAdapter#insertOne}, modified for local storage or session storage interactions.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Insert a single entity in the local storage.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.LocalStorageDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to insert data in&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;entity &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing the entity to insert&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once insertion is done. Called with (&lt;em&gt;{@link LocalStorageEntity}&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-80&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;insertOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-81&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cloneDeep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-82&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;generateUUID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-83&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setIdHash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-84&quot;&gt;        &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-85&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ensureCollectionExists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-86&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;tableIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-87&quot;&gt;            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableIndex&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-88&quot;&gt;            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getItemName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-89&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-90&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-91&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-92&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;classEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-93&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-94&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-95&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-96&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-10&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-10&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;insertMany&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;This reimplements {@link Adapters.DiasporaAdapter#insertMany}, modified for local storage or session storage interactions.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Insert several entities in the local storage.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.LocalStorageDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to insert data in&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;entities &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Array.&amp;lt;Object&amp;gt;&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Array of hashes representing entities to insert&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once insertion is done. Called with (&lt;em&gt;{@link LocalStorageEntity[]}&lt;/em&gt; &lt;code&gt;entities&lt;/code&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-97&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;insertMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-98&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cloneDeep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-99&quot;&gt;        &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-100&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableIndex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ensureCollectionExists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-101&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-102&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;generateUUID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-103&quot;&gt;                &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setIdHash&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-104&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;tableIndex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-105&quot;&gt;                &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getItemName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-106&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;classEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-107&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-108&quot;&gt;            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;tableIndex&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-109&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-110&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-111&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-112&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-113&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-114&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-115&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-116&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-11&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-11&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;hr /&gt;\n\n&lt;h3&gt;Find&lt;/h3&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-117&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-118&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;findOneById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-119&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getItemName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-120&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-121&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;classEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-122&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-123&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-124&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-125&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-126&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-127&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-12&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-12&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;findOne&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;This reimplements {@link Adapters.DiasporaAdapter#findOne}, modified for local storage or session storage interactions.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Retrieve a single entity from the local storage.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.LocalStorageDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the model to retrieve data from&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;queryFind &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing the entity to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[options={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryOptions&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash of options.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once item is found. Called with (&lt;em&gt;{@link InMemoryEntity}&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-128&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{})&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-129&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;defaults&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-130&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-131&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-132&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-133&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOneById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-134&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isEqual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;id&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isEqual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;$equal&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-135&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOneById&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;$equal&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-136&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-137&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;ensureCollectionExists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-138&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;returnedItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-139&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;matched&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-140&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;itemId&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-141&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getItemName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;itemId&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-142&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;matchEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-143&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;matched&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;++&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-144&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-145&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-13&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-13&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;If we matched enough items&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-146&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;matched&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-147&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;returnedItem&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-148&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-149&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-150&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-151&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-152&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;returnedItem&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;classEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;returnedItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-153&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-154&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-155&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-156&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-157&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-14&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-14&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;summary&quot;&gt;&lt;p&gt;findMany( table, queryFind, options = {}) {&lt;br /&gt;\n        this.ensureCollectionExists( table );&lt;br /&gt;\n        const matches = _.filter( storeTable.items, queryFind );&lt;br /&gt;\n        const reducedMatches = this.constructor.applyOptionsToSet( matches, options );&lt;br /&gt;\n        return Promise.resolve( _.map( reducedMatches, entity =&amp;gt; new this.classEntity(entity, this )));&lt;br /&gt;\n    }&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-158&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-159&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-160&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-15&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-15&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;hr /&gt;\n\n&lt;h3&gt;Update&lt;/h3&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-161&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-162&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-163&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-16&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-16&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;updateOne&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;This reimplements {@link Adapters.DiasporaAdapter#updateOne}, modified for local storage or session storage interactions.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Update a single entity in the memory.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.LocalStorageDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to update data in&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;queryFind &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing the entity to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;update &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Object properties to set&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[options={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryOptions&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash of options.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once update is done. Called with (&lt;em&gt;{@link LocalStorageEntity}&lt;/em&gt; &lt;code&gt;entity&lt;/code&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-164&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;updateOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-165&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;defaults&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-166&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-167&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-168&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-169&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-170&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-171&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-172&quot;&gt;            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;applyUpdateEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-173&quot;&gt;            &lt;span class=&quot;k&quot;&gt;try&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-174&quot;&gt;                &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setItem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getItemName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;table&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-175&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-176&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-177&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;reject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-17&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-17&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;summary&quot;&gt;&lt;p&gt;updateMany( table, queryFind, update, options ) {&lt;br /&gt;\n        this.ensureCollectionExists( table );&lt;br /&gt;\n        const matches = _.filter( storeTable.items, queryFind );&lt;br /&gt;\n        const reducedMatches = this.constructor.applyOptionsToSet( matches, options );&lt;br /&gt;\n        _.forEach( reducedMatches, match =&amp;gt; {&lt;br /&gt;\n            _.assign( match, update );&lt;br /&gt;\n        });&lt;br /&gt;\n        return Promise.resolve( _.map( reducedMatches, entity =&amp;gt; new this.classEntity(entity, this )));&lt;br /&gt;\n    }&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;undefined&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-18&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-18&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;hr /&gt;\n\n&lt;h3&gt;Delete&lt;/h3&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;undefined&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-19&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-19&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;deleteOne&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;This reimplements {@link Adapters.DiasporaAdapter#deleteOne}, modified for local storage or session storage interactions.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Delete a single entity from the local storage.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.LocalStorageDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to delete data from&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;queryFind &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing the entity to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[options={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryOptions&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash of options.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once item is deleted. Called with (&lt;em&gt;undefined&lt;/em&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;undefined&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-20&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-20&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Method &lt;em&gt;deleteMany&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Summary:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;This reimplements {@link Adapters.DiasporaAdapter#deleteMany}, modified for local storage or session storage interactions.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Delete several entities from the local storage.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;Adapters.LocalStorageDiasporaAdapter&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;table &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the table to delete data from&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;queryFind &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;SelectQueryOrCondition&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing entities to find&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;[options={}] &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;QueryOptions&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash of options.&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Returns&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;span class=&quot;dox_type&quot;&gt;Promise&lt;/span&gt;&lt;span&gt;&lt;p&gt;Promise resolved once items are deleted. Called with (&lt;em&gt;undefined&lt;/em&gt;)&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;object&quot;&gt;instance&lt;/span&gt;&lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;undefined&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "localStorageAdapter.jslib/adapters/localStorageAdapter.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\nconst _ = require( &amp;#39;lodash&amp;#39; );\nconst Promise = require( &amp;#39;bluebird&amp;#39; );\nconst DiasporaAdapter = require( &amp;#39;./baseAdapter.js&amp;#39; );\nconst LocalStorageEntity = require( &amp;#39;../dataStoreEntities/localStorageEntity.js&amp;#39; );\n\n\n&amp;#182;Class LocalStorageDiasporaAdapterThis class is used to use local storage or session storage as a data store. This adapter should be used only by the browserextends{&amp;quot;type&amp;quot;:&amp;quot;extends&amp;quot;,&amp;quot;string&amp;quot;:&amp;quot;Adapters.DiasporaAdapter&amp;quot;,&amp;quot;otherClass&amp;quot;:&amp;quot;Adapters.DiasporaAdapter&amp;quot;,&amp;quot;html&amp;quot;:&amp;quot;&amp;lt;p&amp;gt;Adapters.DiasporaAdapter&amp;lt;/p&amp;gt;&amp;quot;}Description:Create a new LocalStorage data storeIn: AdaptersParams [config] Object- Options hash. config.session=false Boolean- If false, data source will use local storage. If true, it will use session storage.Scope: publicAuthorclass LocalStorageDiasporaAdapter extends DiasporaAdapter {\n    constructor( config ) {\n        super( LocalStorageEntity );\n        _.defaults( config, {\n            session: false,\n        });\n        this.state = &amp;#39;ready&amp;#39;;\n        this.source = ( true === config.session ? sessionStorage : localStorage );\n    }\n\n    configureCollection( name, remap ) {\n        super.configureCollection( name, remap );\n        this.ensureCollectionExists( name );\n    }\n\n\n&amp;#182;\n\nUtils\n\n&amp;#182;Method generateUUIDDescription:Create a new unique id for this store&#39;s entityIn: Adapters.LocalStorageDiasporaAdapterReturnsStringGenerated unique idScope: instancepublicAuthor    generateUUID() {\n        var d = new Date().getTime();\n        if ( &amp;#39;undefined&amp;#39; !== typeof window &amp;amp;&amp;amp; window.performance &amp;amp;&amp;amp; &amp;#39;function&amp;#39; === typeof window.performance.now ) {\n            d += performance.now(); //use high-precision timer if available\n        }\n        const uuid = &amp;#39;xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx&amp;#39;.replace( /[xy]/g, c =&amp;gt; {\n            const r = ( d + Math.random() * 16 ) % 16 | 0;\n            d = Math.floor( d / 16 );\n            return ( &amp;#39;x&amp;#39; === c ? r : ( r &amp;amp; 0x3 | 0x8 )).toString( 16 );\n        });\n        return uuid;\n    }\n\n\n&amp;#182;Method ensureCollectionExistsDescription:Create the table key if it does not existIn: Adapters.LocalStorageDiasporaAdapterParams table String- Name of the tableScope: instancepublicAuthor    ensureCollectionExists( table ) {\n        let index = this.source.getItem( table );\n        if ( _.isNil( index )) {\n            index = [];\n            this.source.setItem( table, JSON.stringify( index ));\n        } else {\n            index = JSON.parse( index );\n        }\n        return index;\n    }\n\n\n&amp;#182;Method applyOptionsToSetDescription:Reduce, offset or sort provided setIn: Adapters.LocalStorageDiasporaAdapterParams set Array.&amp;lt;Object&amp;gt;- Objects retrieved from memory store options Object- Options to apply to the setReturnsArray.&amp;lt;Object&amp;gt;Set with options appliedScope: instancepublicAuthor    static applyOptionsToSet( set, options ) {\n        if ( options.hasOwnProperty( &amp;#39;limit&amp;#39; )) {\n            if ( _.isInteger( options.limit )) {\n                set = set.slice( 0, options.limit );\n            } else {\n                ModelExtension.log.warn( `Trying to apply a non-integer limit &amp;quot;${ options.limit }&amp;quot;.` );\n            }\n        }\n        return set;\n    }\n\n\n&amp;#182;Method getItemNameDescription:Deduce the item name from table name and item IDIn: Adapters.LocalStorageDiasporaAdapterParams table String- Name of the table to construct name for id String- Id of the item to findReturnsStringName of the itemScope: instancepublicAuthor    getItemName( table, id ) {\n        return `${ table }.id=${ id }`;\n    }\n\n\n&amp;#182;\n\nInsert\n\n&amp;#182;Method insertOneSummary:This reimplements {@link Adapters.DiasporaAdapter#insertOne}, modified for local storage or session storage interactions.Description:Insert a single entity in the local storage.In: Adapters.LocalStorageDiasporaAdapterParams table String- Name of the table to insert data in entity Object- Hash representing the entity to insertReturnsPromisePromise resolved once insertion is done. Called with ({@link LocalStorageEntity} entity)Scope: instancepublicAuthor    insertOne( table, entity ) {\n        entity = _.cloneDeep( entity || {});\n        entity.id = this.generateUUID();\n        this.setIdHash( entity );\n        try {\n            const tableIndex = this.ensureCollectionExists( table );\n            tableIndex.push( entity.id );\n            this.source.setItem( table, JSON.stringify( tableIndex ));\n            this.source.setItem( this.getItemName( table, entity.id ), JSON.stringify( entity ));\n        } catch ( error ) {\n            return Promise.reject( error );\n        }\n        return Promise.resolve( new this.classEntity( entity, this ));\n    }\n\n\n&amp;#182;Method insertManySummary:This reimplements {@link Adapters.DiasporaAdapter#insertMany}, modified for local storage or session storage interactions.Description:Insert several entities in the local storage.In: Adapters.LocalStorageDiasporaAdapterParams table String- Name of the table to insert data in entities Array.&amp;lt;Object&amp;gt;- Array of hashes representing entities to insertReturnsPromisePromise resolved once insertion is done. Called with ({@link LocalStorageEntity[]} entities)Scope: instancepublicAuthor    insertMany( table, entities ) {\n        entities = _.cloneDeep( entities );\n        try {\n            const tableIndex = this.ensureCollectionExists( table );\n            entities = entities.map(( entity = {}, i ) =&amp;gt; {\n                entity.id = this.generateUUID();\n                this.setIdHash( entity );\n                tableIndex.push( entity.id );\n                this.source.setItem( this.getItemName( table, entity.id ), JSON.stringify( entity ));\n                return new this.classEntity( entity, this );\n            });\n            this.source.setItem( table, JSON.stringify( tableIndex ));\n        } catch ( error ) {\n            return Promise.reject( error );\n        }\n        return Promise.resolve( entities );\n    }\n\n\n&amp;#182;\n\nFind\n    findOneById( table, id ) {\n        const item = this.source.getItem( this.getItemName( table, id ));\n        if ( !_.isNil( item )) {\n            return Promise.resolve( new this.classEntity( JSON.parse( item ), this ));\n        }\n        return Promise.resolve();\n    }\n\n\n&amp;#182;Method findOneSummary:This reimplements {@link Adapters.DiasporaAdapter#findOne}, modified for local storage or session storage interactions.Description:Retrieve a single entity from the local storage.In: Adapters.LocalStorageDiasporaAdapterParams table String- Name of the model to retrieve data from queryFind SelectQueryOrCondition- Hash representing the entity to find [options={}] QueryOptions- Hash of options.ReturnsPromisePromise resolved once item is found. Called with ({@link InMemoryEntity} entity)Scope: instancepublicAuthor    findOne( table, queryFind, options = {}) {\n        _.defaults( options, {\n            skip: 0,\n        });\n        if ( !_.isObject( queryFind )) {\n            return this.findOneById( table, queryFind );\n        } else if ( _.isEqual( _.keys( queryFind ), [ &amp;#39;id&amp;#39; ]) &amp;amp;&amp;amp; _.isEqual( _.keys( queryFind.id ), [ &amp;#39;$equal&amp;#39; ])) {\n            return this.findOneById( table, queryFind.id.$equal );\n        }\n        const items = this.ensureCollectionExists( table );\n        let returnedItem;\n        let matched = 0;\n        _.each( items, itemId =&amp;gt; {\n            const item = JSON.parse( this.source.getItem( this.getItemName( table, itemId )));\n            if ( this.matchEntity( queryFind, item )) {\n                matched++;\n\n&amp;#182;If we matched enough items                if ( matched &amp;gt; options.skip ) {\n                    returnedItem = item;\n                    return false;\n                }\n            }\n        });\n        return Promise.resolve( !_.isNil( returnedItem ) ? new this.classEntity( returnedItem, this ) : undefined );\n    }\n\n\n\n&amp;#182;findMany( table, queryFind, options = {}) {\n        this.ensureCollectionExists( table );\n        const matches = _.filter( storeTable.items, queryFind );\n        const reducedMatches = this.constructor.applyOptionsToSet( matches, options );\n        return Promise.resolve( _.map( reducedMatches, entity =&amp;gt; new this.classEntity(entity, this )));\n    }\n\n&amp;#182;\n\nUpdate\n\n&amp;#182;Method updateOneSummary:This reimplements {@link Adapters.DiasporaAdapter#updateOne}, modified for local storage or session storage interactions.Description:Update a single entity in the memory.In: Adapters.LocalStorageDiasporaAdapterParams table String- Name of the table to update data in queryFind SelectQueryOrCondition- Hash representing the entity to find update Object- Object properties to set [options={}] QueryOptions- Hash of options.ReturnsPromisePromise resolved once update is done. Called with ({@link LocalStorageEntity} entity)Scope: instancepublicAuthor    updateOne( table, queryFind, update, options ) {\n        _.defaults( options, {\n            skip: 0,\n        });\n        return this.findOne( table, queryFind, options ).then( entity =&amp;gt; {\n            if ( _.isNil( entity )) {\n                return Promise.resolve();\n            }\n            this.applyUpdateEntity( update, entity );\n            try {\n                this.source.setItem( this.getItemName( table, entity.id ), JSON.stringify( entity ));\n                return Promise.resolve( entity );\n            } catch ( error ) {\n                return Promise.reject( &amp;#182;updateMany( table, queryFind, update, options ) {\n        this.ensureCollectionExists( table );\n        const matches = _.filter( storeTable.items, queryFind );\n        const reducedMatches = this.constructor.applyOptionsToSet( matches, options );\n        _.forEach( reducedMatches, match =&amp;gt; {\n            _.assign( match, update );\n        });\n        return Promise.resolve( _.map( reducedMatches, entity =&amp;gt; new this.classEntity(entity, this )));\n    }undefined&amp;#182;\n\nDeleteundefined&amp;#182;Method deleteOneSummary:This reimplements {@link Adapters.DiasporaAdapter#deleteOne}, modified for local storage or session storage interactions.Description:Delete a single entity from the local storage.In: Adapters.LocalStorageDiasporaAdapterParams table String- Name of the table to delete data from queryFind SelectQueryOrCondition- Hash representing the entity to find [options={}] QueryOptions- Hash of options.ReturnsPromisePromise resolved once item is deleted. Called with (undefined)Scope: instancepublicAuthorundefined&amp;#182;Method deleteManySummary:This reimplements {@link Adapters.DiasporaAdapter#deleteMany}, modified for local storage or session storage interactions.Description:Delete several entities from the local storage.In: Adapters.LocalStorageDiasporaAdapterParams table String- Name of the table to delete data from queryFind SelectQueryOrCondition- Hash representing entities to find [options={}] QueryOptions- Hash of options.ReturnsPromisePromise resolved once items are deleted. Called with (undefined)Scope: instancepublicAuthorundefined"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "localStorageEntity.js",
		 "url"     : "docco/lib/dataStoreEntities/localStorageEntity.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;localStorageEntity.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;lib/dataStoreEntities/localStorageEntity.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DataStoreEntity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./baseEntity.js&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Class &lt;em&gt;LocalStorageEntity&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;Entity stored in {@link LocalStorageDiasporaAdapter the local storage adapter}.&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;extends&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;{&amp;quot;type&amp;quot;:&amp;quot;extends&amp;quot;,&amp;quot;string&amp;quot;:&amp;quot;DataStoreEntity&amp;quot;,&amp;quot;otherClass&amp;quot;:&amp;quot;DataStoreEntity&amp;quot;,&amp;quot;html&amp;quot;:&amp;quot;&amp;lt;p&amp;gt;DataStoreEntity&amp;lt;/p&amp;gt;&amp;quot;}&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;In: &lt;em&gt;DataStoreEntities&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;source &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;Object&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash containing properties to copy in this entity&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;&lt;span class=&quot;kr&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;LocalStorageEntity&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;DataStoreEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;super&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;LocalStorageEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "localStorageEntity.jslib/dataStoreEntities/localStorageEntity.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\nconst DataStoreEntity = require( &amp;#39;./baseEntity.js&amp;#39; );\n\n\n&amp;#182;Class LocalStorageEntityEntity stored in {@link LocalStorageDiasporaAdapter the local storage adapter}.extends{&amp;quot;type&amp;quot;:&amp;quot;extends&amp;quot;,&amp;quot;string&amp;quot;:&amp;quot;DataStoreEntity&amp;quot;,&amp;quot;otherClass&amp;quot;:&amp;quot;DataStoreEntity&amp;quot;,&amp;quot;html&amp;quot;:&amp;quot;&amp;lt;p&amp;gt;DataStoreEntity&amp;lt;/p&amp;gt;&amp;quot;}In: DataStoreEntitiesParams source Object- Hash containing properties to copy in this entityScope: publicAuthorclass LocalStorageEntity extends DataStoreEntity {\n    constructor( entity, dataSource ) {\n        super( entity, dataSource );\n    }\n}\n\nmodule.exports = LocalStorageEntity;\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "model.js",
		 "url"     : "docco/lib/model.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;model.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;lib/model.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;lodash&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bluebird&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;EntityFactory&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./entityFactory&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;./diaspora&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;entityPrototypeProperties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;EntityFactory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;details&quot;&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Class &lt;em&gt;Model&lt;/em&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;The model class is used to interact with the population of all data of the same type.&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Description:&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;p&gt;Construct a new model.&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Params&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;namespace &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Namespace of the model. This may be used for scope or inheriting mechanisms&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;namespace &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;String&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Name of the model&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt; &lt;span&gt;modelDesc &lt;/span&gt;&lt;span class=&quot;dox_type&quot;&gt;ModelDescription&lt;/span&gt;&lt;span&gt;- &lt;p&gt;Hash representing the configuration of the model&lt;/p&gt;&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Scope: &lt;span class=&quot;modifier&quot;&gt;public&lt;/span&gt;&lt;/div&gt;&lt;div class=&quot;dox_tag_title&quot;&gt;Author&lt;/div&gt;&lt;div class=&quot;dox_tag_detail&quot;&gt;&lt;gerkin&gt;&lt;/gerkin&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;&lt;span class=&quot;kr&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Model&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reservedPropIntersect&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;intersection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entityPrototypeProperties&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reservedPropIntersect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;reservedPropIntersect&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; is/are reserved property names. To match those column names in data source, please use the data source mapper property`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sources&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isArrayLike&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sources&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sources&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TypeError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Expect model sources to be either an array or an object, had &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sources&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;.`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-3&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-3&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Normalize our sources: normalized form is an object with keys corresponding to source name, and key corresponding to remaps&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourcesNormalized&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isArrayLike&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sources&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;zipObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;times&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;constant&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({})))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapValues&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remap&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remap&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;                &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TypeError&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Datasource &amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&amp;quot; value is invalid: expect \\`true\\` or a remap hash, but have &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;JSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;stringify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remap&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-4&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-4&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;List sources required by this model&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceNames&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourcesNormalized&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-5&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-5&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Get sources. Later, implement scoping so that modules A requiring module B can access dataSources from module B&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;scopeAvailableSources&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-40&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelSources&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;pick&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;scopeAvailableSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceNames&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-41&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;missingSources&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;difference&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceNames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelSources&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-42&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;missingSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-43&quot;&gt;            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Missing data sources &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;missingSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&amp;quot;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;, &amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-44&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-45&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-46&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-47&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-6&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-6&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Now, we are sure that config is valid. We can configure our datasources with model options, and set &lt;code&gt;this&lt;/code&gt; properties.&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-48&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourcesNormalized&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-49&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceConfiguring&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-50&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;sourceConfiguring&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;configureCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;remap&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-51&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-52&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-53&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;defaultDataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceNames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-54&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-55&quot;&gt;        &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entityFactory&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;EntityFactory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelDesc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-56&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-57&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-58&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;getDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-59&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-60&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;defaultDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-61&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-62&quot;&gt;            &lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Error&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Unknown data source &amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&amp;quot; in model &amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&amp;quot;, available are &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;v&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&amp;quot;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;, &amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-63&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-64&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;sourceName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-65&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-66&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-67&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;spawn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-68&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entityFactory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-69&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-70&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-71&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-72&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;spawnMulti&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sources&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-73&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;spawn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-74&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-75&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-76&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;insert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-77&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-78&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-79&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entityFactory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-80&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-81&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-82&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-83&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;insertMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-84&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-85&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;sources&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-86&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entityFactory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-87&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-88&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-89&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-90&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-91&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-92&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-93&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-94&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-95&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-96&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-97&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-98&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-99&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-100&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-101&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-102&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-103&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-104&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entityFactory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-105&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-106&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-107&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-108&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-109&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-110&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-111&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-112&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-113&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-114&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-115&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-116&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-117&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-118&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-119&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-120&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-121&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceEntities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-122&quot;&gt;                &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entityFactory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-123&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-124&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-125&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-126&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-127&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-128&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-129&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-130&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-131&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-132&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-133&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-134&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-135&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-136&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;updateOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-137&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-138&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-139&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-140&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entityFactory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-141&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-142&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-143&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-144&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-145&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;updateMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-146&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-147&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-148&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-149&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-150&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-151&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;updateMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-152&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceEntities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-153&quot;&gt;                &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entityFactory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-154&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-155&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-156&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-157&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-158&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-159&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-160&quot;&gt;    &lt;span class=&quot;k&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-161&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-162&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-163&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-164&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-165&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-166&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deleteOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-167&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-168&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-169&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;deleteMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-170&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isNil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-171&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-172&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-173&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-174&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-175&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deleteMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;queryFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-176&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-177&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-178&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-179&quot;&gt;&lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Model&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "model.jslib/model.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\nconst _ = require( &amp;#39;lodash&amp;#39; );\nconst Promise = require( &amp;#39;bluebird&amp;#39; );\nconst EntityFactory = require( &amp;#39;./entityFactory&amp;#39; );\nconst Diaspora = require( &amp;#39;./diaspora&amp;#39; );\n\nconst {\n    entityPrototypeProperties,\n} = EntityFactory;\n\n\n&amp;#182;Class ModelThe model class is used to interact with the population of all data of the same type.Description:Construct a new model.Params namespace String- Namespace of the model. This may be used for scope or inheriting mechanisms namespace String- Name of the model modelDesc ModelDescription- Hash representing the configuration of the modelScope: publicAuthorclass Model {\n    constructor( namespace, name, modelDesc ) {\n        const reservedPropIntersect = _.intersection( entityPrototypeProperties, _.keys( modelDesc.attributes ));\n        if ( 0 !== reservedPropIntersect.length ) {\n            throw new Error( `${ JSON.stringify( reservedPropIntersect ) } is/are reserved property names. To match those column names in data source, please use the data source mapper property` );\n        }\n        if ( !modelDesc.hasOwnProperty( &amp;#39;sources&amp;#39; ) || !( _.isArrayLike( modelDesc.sources ) || _.isObject( modelDesc.sources ))) {\n            throw new TypeError( `Expect model sources to be either an array or an object, had ${ JSON.stringify( modelDesc.sources ) }.` );\n        }\n\n&amp;#182;Normalize our sources: normalized form is an object with keys corresponding to source name, and key corresponding to remaps        const sourcesNormalized = _.isArrayLike( modelDesc.sources ) ? _.zipObject( modelDesc.sources, _.times( modelDesc.sources.length, _.constant({}))) : _.mapValues( modelDesc.sources, ( remap, dataSourceName ) =&amp;gt; {\n            if ( true === remap ) {\n                return {};\n            } else if ( _.isObject( remap )) {\n                return remap;\n            } else {\n                throw new TypeError( `Datasource &amp;quot;${ dataSourceName }&amp;quot; value is invalid: expect \\`true\\` or a remap hash, but have ${ JSON.stringify( remap ) }` );\n            }\n        });\n\n&amp;#182;List sources required by this model        const sourceNames = _.keys( sourcesNormalized );\n\n&amp;#182;Get sources. Later, implement scoping so that modules A requiring module B can access dataSources from module B        const scopeAvailableSources = Diaspora.dataSources[namespace];\n        const modelSources = _.pick( scopeAvailableSources, sourceNames );\n        const missingSources = _.difference( sourceNames, _.keys( modelSources ));\n        if ( 0 !== missingSources.length ) {\n            throw new Error( `Missing data sources ${ missingSources.map( v =&amp;gt; `&amp;quot;${ v }&amp;quot;` ).join( &amp;#39;, &amp;#39; ) }` );\n        }\n\n\n&amp;#182;Now, we are sure that config is valid. We can configure our datasources with model options, and set this properties.        _.forEach( sourcesNormalized, ( remap, sourceName ) =&amp;gt; {\n            const sourceConfiguring = modelSources[sourceName];\n            sourceConfiguring.configureCollection( name, remap );\n        });\n        this.dataSources = modelSources;\n        this.defaultDataSource = sourceNames[0];\n        this.name = name;\n        this.entityFactory = EntityFactory( name, modelDesc.attributes, this );\n    }\n\n    getDataSource( sourceName ) {\n        if ( _.isNil( sourceName )) {\n            sourceName = this.defaultDataSource;\n        } else if ( !this.dataSources.hasOwnProperty( sourceName )) {\n            throw new Error( `Unknown data source &amp;quot;${ sourceName }&amp;quot; in model &amp;quot;${ this.name }&amp;quot;, available are ${ _.keys( this.dataSources ).map( v =&amp;gt; `&amp;quot;${ v }&amp;quot;` ).join( &amp;#39;, &amp;#39; ) }` );\n        }\n        return this.dataSources[sourceName];\n    }\n\n    spawn( source ) {\n        const newEntity = new this.entityFactory( source );\n        return newEntity;\n    }\n\n    spawnMulti( sources ) {\n        return _.map( sources, source =&amp;gt; this.spawn( source ));\n    }\n\n    insert( source, dataSourceName ) {\n        const dataSource = this.getDataSource( dataSourceName );\n        return dataSource.insertOne( this.name, source ).then( entity =&amp;gt; {\n            return Promise.resolve( new this.entityFactory( entity ));\n        });\n    }\n\n    insertMany( sources, dataSourceName ) {\n        const dataSource = this.getDataSource( dataSourceName );\n        return dataSource.insertMany( this.name, sources ).then( entities =&amp;gt; {\n            return Promise.resolve( _.map( entities, entity =&amp;gt; new this.entityFactory( entity )));\n        });\n    }\n\n    find( queryFind = {}, options = {}, dataSourceName ) {\n        if ( _.isString( options ) &amp;amp;&amp;amp; !!_.isNil( dataSourceName )) {\n            dataSourceName = options;\n            options = {};\n        } else if ( _.isString( queryFind ) &amp;amp;&amp;amp; !!_.isNil( options ) &amp;amp;&amp;amp; !!_.isNil( dataSourceName )) {\n            dataSourceName = queryFind;\n            queryFind = {};\n            options = {};\n        }\n        const dataSource = this.getDataSource( dataSourceName );\n        return dataSource.findOne( this.name, queryFind, options ).then( dataSourceEntity =&amp;gt; {\n            if ( _.isNil( dataSourceEntity )) {\n                return Promise.resolve();\n            }\n            const newEntity = new this.entityFactory( dataSourceEntity );\n            newEntity.dataSources[dataSource.name] = dataSourceEntity;\n            return Promise.resolve( newEntity );\n        });\n    }\n\n    findMany( queryFind = {}, options = {}, dataSourceName ) {\n        if ( _.isString( options ) &amp;amp;&amp;amp; !!_.isNil( dataSourceName )) {\n            dataSourceName = options;\n            options = {};\n        } else if ( _.isString( queryFind ) &amp;amp;&amp;amp; !!_.isNil( options ) &amp;amp;&amp;amp; !!_.isNil( dataSourceName )) {\n            dataSourceName = queryFind;\n            queryFind = {};\n            options = {};\n        }\n        const dataSource = this.getDataSource( dataSourceName );\n        return dataSource.findMany( this.name, queryFind, options ).then( dataSourceEntities =&amp;gt; {\n            const entities = _.map( dataSourceEntities, dataSourceEntity =&amp;gt; {\n                const newEntity = new this.entityFactory( dataSourceEntity );\n                newEntity.dataSources[dataSource.name] = dataSourceEntity;\n                return newEntity;\n            });\n            return Promise.resolve( entities );\n        });\n    }\n\n    update( queryFind, update, options = {}, dataSourceName ) {\n        if ( _.isString( options ) &amp;amp;&amp;amp; !!_.isNil( dataSourceName )) {\n            dataSourceName = options;\n            options = {};\n        }\n        const dataSource = this.getDataSource( dataSourceName );\n        return dataSource.updateOne( this.name, queryFind, update, options ).then( dataSourceEntity =&amp;gt; {\n            if ( _.isNil( dataSourceEntity )) {\n                return Promise.resolve();\n            }\n            const newEntity = new this.entityFactory( dataSourceEntity );\n            return Promise.resolve( newEntity );\n        });\n    }\n\n    updateMany( queryFind, update, options = {}, dataSourceName ) {\n        if ( _.isString( options ) &amp;amp;&amp;amp; !!_.isNil( dataSourceName )) {\n            dataSourceName = options;\n            options = {};\n        }\n        const dataSource = this.getDataSource( dataSourceName );\n        return dataSource.updateMany( this.name, queryFind, update, options ).then( dataSourceEntities =&amp;gt; {\n            const entities = _.map( dataSourceEntities, dataSourceEntity =&amp;gt; {\n                const newEntity = new this.entityFactory( dataSourceEntity );\n                return newEntity;\n            });\n            return Promise.resolve( entities );\n        });\n    }\n\n    delete( queryFind = {}, options = {}, dataSourceName ) {\n        if ( _.isString( options ) &amp;amp;&amp;amp; !!_.isNil( dataSourceName )) {\n            dataSourceName = options;\n            options = {};\n        }\n        const dataSource = this.getDataSource( dataSourceName );\n        return dataSource.deleteOne( this.name, queryFind, options );\n    }\n\n    deleteMany( queryFind = {}, options = {}, dataSourceName ) {\n        if ( _.isString( options ) &amp;amp;&amp;amp; !!_.isNil( dataSourceName )) {\n            dataSourceName = options;\n            options = {};\n        }\n        const dataSource = this.getDataSource( dataSourceName );\n        return dataSource.deleteMany( this.name, queryFind, options );\n    }\n}\n\nmodule.exports = Model;\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Namespaces",
		 "url"     : "jsdoc/namespaces.list.html",
		 "date"     : "",
		 "html"  : "&lt;!--[if lt IE 9]&gt;\n&lt;script src=&quot;//html5shiv.googlecode.com/svn/trunk/html5.js&quot;&gt;&lt;/script&gt;\n&lt;![endif]--&gt;\n\n&lt;div class=&quot;row&quot;&gt;\n\n\t\n\t&lt;div class=&quot;col-md-8&quot;&gt;\n\t\t\n\t\t\t&lt;div id=&quot;main&quot;&gt;\n\t\t\t\t\n\n\t&lt;h1 class=&quot;page-title&quot;&gt;Namespaces&lt;/h1&gt;\n&lt;section&gt;\n\n&lt;header&gt;\n    \n        &lt;h2&gt;\n        \n        &lt;/h2&gt;\n        \n    \n&lt;/header&gt;\n\n\n&lt;article&gt;\n    &lt;div class=&quot;container-overview&quot;&gt;\n    \n        \n\n        \n&lt;dl class=&quot;details&quot;&gt;\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n&lt;/dl&gt;\n\n\n        \n    \n    &lt;/div&gt;\n\n    \n\n    \n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Classes&lt;/h3&gt;\n\n        &lt;dl&gt;\n            &lt;dt&gt;&lt;a href=&quot;Adapters.DiasporaAdapter.html&quot;&gt;DiasporaAdapter&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;Adapters.InMemoryDiasporaAdapter.html&quot;&gt;InMemoryDiasporaAdapter&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;Adapters.LocalStorageDiasporaAdapter.html&quot;&gt;LocalStorageDiasporaAdapter&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;DataStoreEntities.DataStoreEntity.html&quot;&gt;DataStoreEntity&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;DataStoreEntities.InMemoryEntity.html&quot;&gt;InMemoryEntity&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;DataStoreEntities.LocalStorageEntity.html&quot;&gt;LocalStorageEntity&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;Entity.html&quot;&gt;Entity&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;Model.html&quot;&gt;Model&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        &lt;/dl&gt;\n    \n\n    \n\n    \n        &lt;h3 class=&quot;subsection-title&quot;&gt;Namespaces&lt;/h3&gt;\n\n        &lt;dl&gt;\n            &lt;dt&gt;&lt;a href=&quot;namespaces.list.html#Adapters&quot;&gt;&lt;a href=&quot;Adapters.html&quot;&gt;Adapters&lt;/a&gt;&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;namespaces.list.html#ConstrainedTypes&quot;&gt;&lt;a href=&quot;ConstrainedTypes.html&quot;&gt;ConstrainedTypes&lt;/a&gt;&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;namespaces.list.html#DataStoreEntities&quot;&gt;&lt;a href=&quot;DataStoreEntities.html&quot;&gt;DataStoreEntities&lt;/a&gt;&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;namespaces.list.html#Diaspora&quot;&gt;&lt;a href=&quot;Diaspora.html&quot;&gt;Diaspora&lt;/a&gt;&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        \n            &lt;dt&gt;&lt;a href=&quot;namespaces.list.html#QueryLanguage&quot;&gt;&lt;a href=&quot;QueryLanguage.html&quot;&gt;QueryLanguage&lt;/a&gt;&lt;/a&gt;&lt;/dt&gt;\n            &lt;dd&gt;&lt;/dd&gt;\n        &lt;/dl&gt;\n    \n\n    \n\n    \n\n    \n\n    \n&lt;/article&gt;\n\n&lt;/section&gt;\n\n\n\n\n\t\t\t&lt;/div&gt;\n\t\t&lt;/div&gt;\n\n\t\t&lt;div class=&quot;clearfix&quot;&gt;&lt;/div&gt;\n\n\t\t\n\t\t&lt;div class=&quot;col-md-3&quot;&gt;\n\t\t\t&lt;div id=&quot;toc&quot; class=&quot;col-md-3 hidden-xs hidden-sm hidden-md&quot;&gt;&lt;/div&gt;\n\t\t&lt;/div&gt;\n\t\t\n\n\t&lt;/div&gt;\n&lt;/div&gt;\n\n&lt;footer&gt;\n\t\n\t\n\t&lt;span class=&quot;jsdoc-message&quot;&gt;\n\t\tDocumentation generated by &lt;a href=&quot;https://github.com/jsdoc3/jsdoc&quot;&gt;JSDoc 3.4.3&lt;/a&gt;\n\t\t\n\t\ton 2017-10-02T00:37:18+02:00\n\t\t\n\t\tusing the &lt;a href=&quot;https://github.com/docstrap/docstrap&quot;&gt;DocStrap template&lt;/a&gt;.\n\t&lt;/span&gt;\n&lt;/footer&gt;\n\n&lt;script src=&quot;scripts/toc.js&quot; defer&gt;&lt;/script&gt;",
			   "content"  : "\n\n\n\n\t\n\t\n\t\t\n\t\t\t\n\t\t\t\t\n\n\tNamespaces\n\n\n\n    \n        \n        \n        \n        \n    \n\n\n\n\n    \n    \n        \n\n        \n\n    \n\n\t\n\n\t\n\n\t\n\n    \n\n    \n\n    \n\n    \n\n\t\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n\t\n\n\t\n\n\t\n\n\t\n\n\n\n        \n    \n    \n\n    \n\n    \n\n    \n        Classes\n\n        \n            DiasporaAdapter\n            \n        \n            InMemoryDiasporaAdapter\n            \n        \n            LocalStorageDiasporaAdapter\n            \n        \n            DataStoreEntity\n            \n        \n            InMemoryEntity\n            \n        \n            LocalStorageEntity\n            \n        \n            Entity\n            \n        \n            Model\n            \n        \n    \n\n    \n\n    \n        Namespaces\n\n        \n            Adapters\n            \n        \n            ConstrainedTypes\n            \n        \n            DataStoreEntities\n            \n        \n            Diaspora\n            \n        \n            QueryLanguage\n            \n        \n    \n\n    \n\n    \n\n    \n\n    \n\n\n\n\n\n\n\n\t\t\t\n\t\t\n\n\t\t\n\n\t\t\n\t\t\n\t\t\t\n\t\t\n\t\t\n\n\t\n\n\n\n\t\n\t\n\t\n\t\tDocumentation generated by JSDoc 3.4.3\n\t\t\n\t\ton 2017-10-02T00:37:18+02:00\n\t\t\n\t\tusing the DocStrap template.\n\t\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Query Language",
		 "url"     : "query-language.html",
		 "date"     : "",
		 "html"  : "&lt;h1 id=&quot;query-language&quot;&gt;Query language&lt;/h1&gt;\n\n&lt;h2 id=&quot;match-queries&quot;&gt;Match queries&lt;/h2&gt;\n\n&lt;p&gt;Match queries are used when you use &lt;code class=&quot;highlighter-rouge&quot;&gt;find&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;update&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;delete&lt;/code&gt; operations.&lt;/p&gt;\n\n&lt;div class=&quot;note info&quot;&gt;\n  &lt;p&gt;If you put several operators in a condition object, theyll be combined using an &lt;code class=&quot;highlighter-rouge&quot;&gt;AND&lt;/code&gt; operator.&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;div class=&quot;note info&quot;&gt;\n  &lt;p&gt;Numbers in parenthesis in operations name indicates the Query Language Specification Level. Check your adapters documentation to see the level supported by adapters you use.&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;h3 id=&quot;match-all-1&quot;&gt;Match all &lt;sup&gt;(1)&lt;/sup&gt;&lt;/h3&gt;\n\n&lt;div class=&quot;tabs tabs-code&quot;&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;diaspora&quot;&gt;\n\n    &lt;h4 id=&quot;diaspora&quot;&gt;Diaspora&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;sql&quot;&gt;\n\n    &lt;h4 id=&quot;sql&quot;&gt;SQL&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`PhoneBook`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;mongodb&quot;&gt;\n\n    &lt;h4 id=&quot;mongodb&quot;&gt;MongoDB&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;h3 id=&quot;match-by-field-value-1&quot;&gt;Match by field value &lt;sup&gt;(1)&lt;/sup&gt;&lt;/h3&gt;\n\n&lt;div class=&quot;tabs tabs-code&quot;&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;diaspora&quot;&gt;\n\n    &lt;h4 id=&quot;diaspora-1&quot;&gt;Diaspora&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;9ff2c6d2-9b90-43b8-b6b6-d8767966a3e6&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Match a single entity that have this value&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;phone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Match all entities that does not have a `phone`&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;sql&quot;&gt;\n\n    &lt;h4 id=&quot;sql-1&quot;&gt;SQL&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`PhoneBook`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`PhoneBook`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`phone`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;IS&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;mongodb&quot;&gt;\n\n    &lt;h4 id=&quot;mongodb-1&quot;&gt;MongoDB&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ObjectId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;59bf7e38945e5adadfd83b1c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;phone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;h3 id=&quot;match-by-a-value-defined-or-not-with--2&quot;&gt;Match by a value defined or not, with &lt;strong&gt;~&lt;/strong&gt; &lt;sup&gt;(2)&lt;/sup&gt;&lt;/h3&gt;\n\n&lt;div class=&quot;tabs tabs-code&quot;&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;diaspora&quot;&gt;\n\n    &lt;h4 id=&quot;diaspora-2&quot;&gt;Diaspora&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;~&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;~&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;sql&quot;&gt;\n\n    &lt;h4 id=&quot;sql-2&quot;&gt;SQL&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`PhoneBook`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`email`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;IS&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`PhoneBook`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`email`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;IS&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;mongodb&quot;&gt;\n\n    &lt;h4 id=&quot;mongodb-2&quot;&gt;MongoDB&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;ul&gt;\n  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;~&lt;/code&gt; can be replaced by &lt;code class=&quot;highlighter-rouge&quot;&gt;$exists&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h3 id=&quot;match-by-a-value-equal-or-not-with--and--2&quot;&gt;Match by a value equal or not, with &lt;strong&gt;==&lt;/strong&gt; and &lt;strong&gt;!=&lt;/strong&gt; &lt;sup&gt;(2)&lt;/sup&gt;&lt;/h3&gt;\n\n&lt;div class=&quot;tabs tabs-code&quot;&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;diaspora&quot;&gt;\n\n    &lt;h4 id=&quot;diaspora-3&quot;&gt;Diaspora&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;==&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;(251) 546-9442&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;number&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;!=&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;(251) 546-9442&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n    &lt;p&gt;The usage of &lt;code class=&quot;highlighter-rouge&quot;&gt;==&lt;/code&gt; is optional, you can replace &lt;code class=&quot;highlighter-rouge&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&#39;==&#39;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;err&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt; with &lt;code class=&quot;highlighter-rouge&quot;&gt;value&lt;/code&gt;&lt;/p&gt;\n  &lt;/div&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;sql&quot;&gt;\n\n    &lt;h4 id=&quot;sql-3&quot;&gt;SQL&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`PhoneBook`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`number`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;(251) 546-9442&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`PhoneBook`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`number`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;(251) 546-9442&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;mongodb&quot;&gt;\n\n    &lt;h4 id=&quot;mongodb-3&quot;&gt;MongoDB&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;(251) 546-9442&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;number&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$ne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;(251) 546-9442&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;ul&gt;\n  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;==&lt;/code&gt; can be replaced by &lt;code class=&quot;highlighter-rouge&quot;&gt;$equal&lt;/code&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;!=&lt;/code&gt; can be replaced by &lt;code class=&quot;highlighter-rouge&quot;&gt;$diff&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;div class=&quot;note info&quot;&gt;\n  &lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;!=&lt;/code&gt; will match only if entitys value is &lt;em&gt;defined&lt;/em&gt; &lt;strong&gt;and&lt;/strong&gt; &lt;em&gt;different&lt;/em&gt;.&lt;/p&gt;\n&lt;/div&gt;\n\n&lt;h3 id=&quot;match-by-number-comparaison-with----and--2&quot;&gt;Match by number comparaison, with &lt;strong&gt;&amp;lt;&lt;/strong&gt;, &lt;strong&gt;&amp;lt;=&lt;/strong&gt;, &lt;strong&gt;&amp;gt;&lt;/strong&gt; and &lt;strong&gt;&amp;gt;=&lt;/strong&gt; &lt;sup&gt;(2)&lt;/sup&gt;&lt;/h3&gt;\n\n&lt;div class=&quot;tabs tabs-code&quot;&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;diaspora&quot;&gt;\n\n    &lt;h4 id=&quot;diaspora-4&quot;&gt;Diaspora&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&amp;gt;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&amp;gt;=&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&amp;lt;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&amp;lt;=&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n    &lt;blockquote&gt;\n      &lt;p&gt;&lt;strong&gt;Tip:&lt;/strong&gt; You should read comparaison operators like this:\n&lt;code class=&quot;highlighter-rouge&quot;&gt;&quot;Index is greater that 12&quot;&lt;/code&gt;&lt;/p&gt;\n    &lt;/blockquote&gt;\n\n  &lt;/div&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;sql&quot;&gt;\n\n    &lt;h4 id=&quot;sql-4&quot;&gt;SQL&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`PhoneBook`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`index`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`PhoneBook`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`index`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`PhoneBook`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`index`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`PhoneBook`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`index`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;mongodb&quot;&gt;\n\n    &lt;h4 id=&quot;mongodb-4&quot;&gt;MongoDB&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$gt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$gte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$lt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$lte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;ul&gt;\n  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;&lt;/code&gt; can be replaced by &lt;code class=&quot;highlighter-rouge&quot;&gt;$less&lt;/code&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;=&lt;/code&gt; can be replaced by &lt;code class=&quot;highlighter-rouge&quot;&gt;$lessEqual&lt;/code&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;gt;&lt;/code&gt; can be replaced by &lt;code class=&quot;highlighter-rouge&quot;&gt;$greater&lt;/code&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;gt;=&lt;/code&gt; can be replaced by &lt;code class=&quot;highlighter-rouge&quot;&gt;$greaterEqual&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;h3 id=&quot;do-logical-operations-with----and--3&quot;&gt;Do logical operations, with &lt;strong&gt;||&lt;/strong&gt;, &lt;strong&gt;&amp;amp;&amp;amp;&lt;/strong&gt;, &lt;strong&gt;\\^\\^&lt;/strong&gt; and &lt;strong&gt;!&lt;/strong&gt; &lt;sup&gt;(3)&lt;/sup&gt;&lt;/h3&gt;\n\n&lt;div class=&quot;tabs tabs-code&quot;&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;diaspora&quot;&gt;\n\n    &lt;h4 id=&quot;diaspora-5&quot;&gt;Diaspora&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;||&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&amp;lt;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;==&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Will retrieve items with index [0, 1, 2, 3, 4, 9]&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&amp;amp;&amp;amp;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&amp;lt;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&amp;gt;=&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Will retrieve items with index [5, 6, 7, 8, 9]&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;^^&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;foobar@example.com&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;phone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;(251) 546-9442&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;// Will retrieve items with either the provided email or address, but not both&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;!&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;==&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;sql&quot;&gt;\n\n    &lt;h4 id=&quot;sql-5&quot;&gt;SQL&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`PhoneBook`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; \n\t&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`index`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;OR&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`index`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n\t\n&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`PhoneBook`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`index`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;AND&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`index`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n\t\n&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`PhoneBook`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`email`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;foobar@example.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;XOR&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`phone`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;&quot;(251) 546-9442&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n\t\n&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`PhoneBook`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;NOT&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;`index`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;mongodb&quot;&gt;\n\n    &lt;h4 id=&quot;mongodb-5&quot;&gt;MongoDB&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$or&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$lt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$eq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;\n &lt;span class=&quot;nx&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$and&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$lt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$gte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;\n &lt;span class=&quot;nx&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$xor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;email&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$eq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;foobar@example.com&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;phone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$eq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;(251) 546-9442&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$ne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n    &lt;div class=&quot;note warning&quot;&gt;\n      &lt;p&gt;Last query is not exactly the same though &lt;strong&gt;TODO Improve&lt;/strong&gt;&lt;/p&gt;\n    &lt;/div&gt;\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;ul&gt;\n  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;||&lt;/code&gt; can be replaced by &lt;code class=&quot;highlighter-rouge&quot;&gt;$or&lt;/code&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt; can be replaced by &lt;code class=&quot;highlighter-rouge&quot;&gt;$and&lt;/code&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;^^&lt;/code&gt; can be replaced by &lt;code class=&quot;highlighter-rouge&quot;&gt;$xor&lt;/code&gt;&lt;/li&gt;\n  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;!&lt;/code&gt; can be replaced by &lt;code class=&quot;highlighter-rouge&quot;&gt;$not&lt;/code&gt;&lt;/li&gt;\n&lt;/ul&gt;\n\n&lt;p&gt;The usage of &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt; is optional: if several conditions are in a same condition object, theyll be combined using a &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&amp;amp;&lt;/code&gt; operator by default. So, both lines below are equivalent:&lt;/p&gt;\n\n&lt;figure class=&quot;highlight&quot;&gt;\n  &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&amp;amp;&amp;amp;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&amp;lt;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n\t&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&amp;gt;=&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;\n&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n\t&lt;span class=&quot;s1&quot;&gt;&#39;&amp;lt;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n\t&lt;span class=&quot;s1&quot;&gt;&#39;&amp;gt;=&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n&lt;/figure&gt;\n\n&lt;h3 id=&quot;match-by-value-in-array-with-in-3&quot;&gt;Match by value in array, with &lt;strong&gt;$in&lt;/strong&gt; &lt;sup&gt;(3)&lt;/sup&gt;&lt;/h3&gt;\n\n&lt;div class=&quot;tabs tabs-code&quot;&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;diaspora&quot;&gt;\n\n    &lt;h4 id=&quot;diaspora-6&quot;&gt;Diaspora&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;PhoneBook&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$in&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n\t&lt;span class=&quot;s1&quot;&gt;&#39;9ff2c6d2-9b90-43b8-b6b6-d8767966a3e6&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n\t&lt;span class=&quot;s1&quot;&gt;&#39;d3d23cc1-46cd-4619-a044-4a30b75a38f6&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;sql&quot;&gt;\n\n    &lt;h4 id=&quot;sql-6&quot;&gt;SQL&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-sql&quot; data-lang=&quot;sql&quot;&gt;&lt;span class=&quot;k&quot;&gt;SELECT&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;FROM&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`PhoneBook`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;WHERE&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;`id`&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;IN&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n  &lt;div class=&quot;tab&quot; data-ref=&quot;mongodb&quot;&gt;\n\n    &lt;h4 id=&quot;mongodb-6&quot;&gt;MongoDB&lt;/h4&gt;\n\n    &lt;figure class=&quot;highlight&quot;&gt;\n      &lt;pre&gt;&lt;code class=&quot;language-javascript&quot; data-lang=&quot;javascript&quot;&gt;&lt;span class=&quot;nx&quot;&gt;db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getCollection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;PhoneBook&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;_id&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;$in&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n    &lt;span class=&quot;nx&quot;&gt;ObjectId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;59bf7e38945e5adadfd83b1c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;\n    &lt;span class=&quot;nx&quot;&gt;ObjectId&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;59a56875ab7388e9b823331b&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;\n&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(...);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;\n    &lt;/figure&gt;\n\n  &lt;/div&gt;\n&lt;/div&gt;\n\n&lt;h2 id=&quot;update-queries&quot;&gt;Update queries&lt;/h2&gt;\n\n&lt;p&gt;Update queries are used only with &lt;code class=&quot;highlighter-rouge&quot;&gt;update&lt;/code&gt; operations.&lt;/p&gt;\n\n&lt;h2 id=&quot;query-options&quot;&gt;Query options&lt;/h2&gt;\n\n&lt;p&gt;Query options can be passed to &lt;code class=&quot;highlighter-rouge&quot;&gt;find&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;update&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;delete&lt;/code&gt; operations.&lt;/p&gt;\n\n&lt;h2 id=&quot;comments&quot;&gt;Comments&lt;/h2&gt;\n\n&lt;div id=&quot;disqus_thread&quot;&gt;&lt;/div&gt;\n",
			   "content"  : "Query language\n\nMatch queries\n\nMatch queries are used when you use find, update or delete operations.\n\n\n  If you put several operators in a condition object, theyll be combined using an AND operator.\n\n\n\n  Numbers in parenthesis in operations name indicates the Query Language Specification Level. Check your adapters documentation to see the level supported by adapters you use.\n\n\nMatch all (1)\n\n\n  \n\n    Diaspora\n\n    \n      PhoneBook.findMany({}).then(...);\n    \n\n  \n  \n\n    SQL\n\n    \n      SELECT * FROM `PhoneBook`;\n    \n\n  \n  \n\n    MongoDB\n\n    \n      db.getCollection( &#39;PhoneBook&#39; ).find({}).then(...);\n    \n\n  \n\n\nMatch by field value (1)\n\n\n  \n\n    Diaspora\n\n    \n      PhoneBook.find({ id: &#39;9ff2c6d2-9b90-43b8-b6b6-d8767966a3e6&#39; }).then(...); // Match a single entity that have this value\nPhoneBook.findMany({ phone: undefined }).then(...); // Match all entities that does not have a `phone`\n    \n\n  \n  \n\n    SQL\n\n    \n      SELECT * FROM `PhoneBook` WHERE `id`=15;\nSELECT * FROM `PhoneBook` WHERE `phone` IS NULL;\n    \n\n  \n  \n\n    MongoDB\n\n    \n      db.getCollection( &#39;PhoneBook&#39; ).find({ _id: ObjectId(&quot;59bf7e38945e5adadfd83b1c&quot;) }).then(...);\ndb.getCollection( &#39;PhoneBook&#39; ).find({ phone: { $exists: false } }).then(...);\n    \n\n  \n\n\nMatch by a value defined or not, with ~ (2)\n\n\n  \n\n    Diaspora\n\n    \n      PhoneBook.find({ email: { &#39;~&#39;: true } }).then(...);\nPhoneBook.find({ email: { &#39;~&#39;: false } }).then(...);\n    \n\n  \n  \n\n    SQL\n\n    \n      SELECT * FROM `PhoneBook` WHERE `email` IS NULL;\nSELECT * FROM `PhoneBook` WHERE `email` IS NOT NULL;\n    \n\n  \n  \n\n    MongoDB\n\n    \n      db.getCollection( &#39;PhoneBook&#39; ).find({ number : { $exists: true } }).then(...);\ndb.getCollection( &#39;PhoneBook&#39; ).find({ number : { $exists: false } }).then(...);\n    \n\n  \n\n\n\n  ~ can be replaced by $exists\n\n\nMatch by a value equal or not, with == and != (2)\n\n\n  \n\n    Diaspora\n\n    \n      PhoneBook.find({ number: { &#39;==&#39;: &#39;(251) 546-9442&#39; } }).then(...);\nPhoneBook.find({ number: { &#39;!=&#39;: &#39;(251) 546-9442&#39; } }).then(...);\n    \n\n    The usage of == is optional, you can replace {&#39;==&#39;: value} with value\n  \n  \n\n    SQL\n\n    \n      SELECT * FROM `PhoneBook` WHERE `number` = &quot;(251) 546-9442&quot;;\nSELECT * FROM `PhoneBook` WHERE `number` != &quot;(251) 546-9442&quot;;\n    \n\n  \n  \n\n    MongoDB\n\n    \n      db.getCollection( &#39;PhoneBook&#39; ).find({ number : &#39;(251) 546-9442&#39; }).then(...);\ndb.getCollection( &#39;PhoneBook&#39; ).find({ number : { $ne: &#39;(251) 546-9442&#39; } }).then(...);\n    \n\n  \n\n\n\n  == can be replaced by $equal\n  != can be replaced by $diff\n\n\n\n  != will match only if entitys value is defined and different.\n\n\nMatch by number comparaison, with &amp;lt;, &amp;lt;=, &amp;gt; and &amp;gt;= (2)\n\n\n  \n\n    Diaspora\n\n    \n      PhoneBook.find({ index: { &#39;&amp;gt;&#39;: 12 } }).then(...);\nPhoneBook.find({ index: { &#39;&amp;gt;=&#39;: 12 } }).then(...);\nPhoneBook.find({ index: { &#39;&amp;lt;&#39;: 12 } }).then(...);\nPhoneBook.find({ index: { &#39;&amp;lt;=&#39;: 12 } }).then(...);\n    \n\n    \n      Tip: You should read comparaison operators like this:\n&quot;Index is greater that 12&quot;\n    \n\n  \n  \n\n    SQL\n\n    \n      SELECT * FROM `PhoneBook` WHERE `index` &amp;gt; 12;\nSELECT * FROM `PhoneBook` WHERE `index` &amp;gt;= 12;\nSELECT * FROM `PhoneBook` WHERE `index` &amp;lt; 12;\nSELECT * FROM `PhoneBook` WHERE `index` &amp;lt;= 12;\n    \n\n  \n  \n\n    MongoDB\n\n    \n      db.getCollection( &#39;PhoneBook&#39; ).find({ index: { $gt: 12 } }).then(...);\ndb.getCollection( &#39;PhoneBook&#39; ).find({ index: { $gte: 12 } }).then(...);\ndb.getCollection( &#39;PhoneBook&#39; ).find({ index: { $lt: 12 } }).then(...);\ndb.getCollection( &#39;PhoneBook&#39; ).find({ index: { $lte: 12 } }).then(...);\n    \n\n  \n\n\n\n  &amp;lt; can be replaced by $less\n  &amp;lt;= can be replaced by $lessEqual\n  &amp;gt; can be replaced by $greater\n  &amp;gt;= can be replaced by $greaterEqual\n\n\nDo logical operations, with ||, &amp;amp;&amp;amp;, \\^\\^ and ! (3)\n\n\n  \n\n    Diaspora\n\n    \n      PhoneBook.find({ index: { &#39;||&#39;: [\n\t{ &#39;&amp;lt;&#39;: 5 },\n\t{ &#39;==&#39;: 9 },\n] } }).then(...); // Will retrieve items with index [0, 1, 2, 3, 4, 9]\nPhoneBook.find({ index: { &#39;&amp;amp;&amp;amp;&#39;: [\n\t{ &#39;&amp;lt;&#39;: 10 },\n\t{ &#39;&amp;gt;=&#39;: 5 },\n] } }).then(...); // Will retrieve items with index [5, 6, 7, 8, 9]\nPhoneBook.find({ index: { &#39;^^&#39;: [\n\t{ email: &#39;foobar@example.com&#39; },\n\t{ phone: &#39;(251) 546-9442&#39; },\n] } }).then(...); // Will retrieve items with either the provided email or address, but not both\nPhoneBook.find({ index: { &#39;!&#39;: { &#39;==&#39;: 5 } } }).then(...);\n    \n\n  \n  \n\n    SQL\n\n    \n      SELECT * FROM `PhoneBook` WHERE \n\t(`index` &amp;lt; 5) OR\n\t(`index` = 9);\n\t\nSELECT * FROM `PhoneBook` WHERE\n\t(`index` &amp;lt; 10) AND\n\t(`index` &amp;gt;= 10);\n\t\nSELECT * FROM `PhoneBook` WHERE\n\t(`email` = &quot;foobar@example.com&quot;) XOR\n\t(`phone` = &quot;(251) 546-9442&quot;);\n\t\nSELECT * FROM `PhoneBook` WHERE NOT (`index` == 5);\n    \n\n  \n  \n\n    MongoDB\n\n    \n      db.getCollection( &#39;PhoneBook&#39; ).find({ $or: [\n    { index: { $lt: 5 } },\n    { index: { $eq: 9 } },\n ] }).then(...);\n db.getCollection( &#39;PhoneBook&#39; ).find({ $and: [\n    { index: { $lt: 10 } },\n    { index: { $gte: 5 } },\n ] })\n db.getCollection( &#39;PhoneBook&#39; ).find({ $xor: [\n\t{ email: { $eq: &#39;foobar@example.com&#39; } },\n\t{ phone: { $eq: &#39;(251) 546-9442&#39; } },\n ] })\ndb.getCollection( &#39;PhoneBook&#39; ).find({ index: { $ne: 5 } }).then(...);\n    \n\n    \n      Last query is not exactly the same though TODO Improve\n    \n  \n\n\n\n  || can be replaced by $or\n  &amp;amp;&amp;amp; can be replaced by $and\n  ^^ can be replaced by $xor\n  ! can be replaced by $not\n\n\nThe usage of &amp;amp;&amp;amp; is optional: if several conditions are in a same condition object, theyll be combined using a &amp;amp;&amp;amp; operator by default. So, both lines below are equivalent:\n\n\n  PhoneBook.find({ index: { &#39;&amp;amp;&amp;amp;&#39;: [\n\t{ &#39;&amp;lt;&#39;: 10 },\n\t{ &#39;&amp;gt;=&#39;: 5 },\n] } }).then(...);\nPhoneBook.find({ index: {\n\t&#39;&amp;lt;&#39;: 10,\n\t&#39;&amp;gt;=&#39;: 5,\n} }).then(...);\n\n\nMatch by value in array, with $in (3)\n\n\n  \n\n    Diaspora\n\n    \n      PhoneBook.find({ id: { $in: [\n\t&#39;9ff2c6d2-9b90-43b8-b6b6-d8767966a3e6&#39;,\n\t&#39;d3d23cc1-46cd-4619-a044-4a30b75a38f6&#39;,\n] } }).then(...);\n    \n\n  \n  \n\n    SQL\n\n    \n      SELECT * FROM `PhoneBook` WHERE `id` IN (15, 16);\n    \n\n  \n  \n\n    MongoDB\n\n    \n      db.getCollection(&#39;PhoneBook&#39;).find({ _id : { $in: [\n    ObjectId(&quot;59bf7e38945e5adadfd83b1c&quot;),\n    ObjectId(&quot;59a56875ab7388e9b823331b&quot;),\n] } }).then(...);\n    \n\n  \n\n\nUpdate queries\n\nUpdate queries are used only with update operations.\n\nQuery options\n\nQuery options can be passed to find, update and delete operations.\n\nComments\n\n\n"
			   });
	  
	  
	 
	  
	 
	 data.push(        {
		 "title"    : "seleniumTest.js",
		 "url"     : "docco/test/browserTests/seleniumTest.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;seleniumTest.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;test/browserTests/seleniumTest.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;webdriver&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;selenium-webdriver&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;path&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chai&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;chai&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;&lt;span class=&quot;nx&quot;&gt;assert&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chai&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;&lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;chai&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getTestPath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fileName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SAUCE_USERNAME&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`http://localhost:8000/test/browserTests/&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fileName&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`file://&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;__dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fileName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SauceLabs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;saucelabs&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;&lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Test Diaspora in the browser (&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;BROWSER_NAME&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;chrome&amp;#39;&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;    &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20000&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;browser&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;passed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;saucelabs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SauceLabs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SAUCE_USERNAME&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;password&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SAUCE_ACCESS_KEY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;beforeEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;ret&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;passed&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SAUCE_USERNAME&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;browser&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;webdriver&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;Builder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;                &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;usingServer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`http://&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;  &lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SAUCE_USERNAME&lt;/span&gt;  &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;  &lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SAUCE_ACCESS_KEY&lt;/span&gt;  &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;@ondemand.saucelabs.com:80/wd/hub`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;                &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;withCapabilities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;                    &lt;span class=&quot;s1&quot;&gt;&amp;#39;tunnel-identifier&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;TRAVIS_JOB_NUMBER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;               &lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;TRAVIS_BUILD_NUMBER&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;username&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;            &lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SAUCE_USERNAME&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;accessKey&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;           &lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;SAUCE_ACCESS_KEY&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;browserName&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;         &lt;span class=&quot;nx&quot;&gt;process&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;env&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;BROWSER_NAME&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;browser&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span clas&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "seleniumTest.jstest/browserTests/seleniumTest.js&amp;#182;const webdriver = require( &amp;#39;selenium-webdriver&amp;#39; );\nconst path = require( &amp;#39;path&amp;#39; );\nconst chai = require( &amp;#39;chai&amp;#39; );\nassert = chai.assert;\nexpect = chai.expect;\n\nconst getTestPath = fileName =&amp;gt; {\n    if ( process.env.SAUCE_USERNAME != undefined ) {\n        return `http://localhost:8000/test/browserTests/${ fileName }`;\n    } else {\n        return `file://${ path.resolve( __dirname, fileName ) }`;\n    }\n};\nconst SauceLabs = require( &amp;#39;saucelabs&amp;#39; );\n\ndescribe( `Test Diaspora in the browser (${ process.env.BROWSER_NAME ||&amp;#39;chrome&amp;#39; })`, function() {\n    this.timeout( 20000 );\n    let browser;\n    let passed;\n    let saucelabs = new SauceLabs({\n        username: process.env.SAUCE_USERNAME,\n        password: process.env.SAUCE_ACCESS_KEY,\n    });\n\n    beforeEach(() =&amp;gt; {\n        let ret;\n        passed = false;\n        if ( process.env.SAUCE_USERNAME != undefined ) {\n            browser = new webdriver.Builder()\n                .usingServer( `http://${  process.env.SAUCE_USERNAME  }:${  process.env.SAUCE_ACCESS_KEY  }@ondemand.saucelabs.com:80/wd/hub` )\n                .withCapabilities({\n                    &amp;#39;tunnel-identifier&amp;#39;: process.env.TRAVIS_JOB_NUMBER,\n                    build:               process.env.TRAVIS_BUILD_NUMBER,\n                    username:            process.env.SAUCE_USERNAME,\n                    accessKey:           process.env.SAUCE_ACCESS_KEY,\n                    browserName:         process.env.BROWSER_NAME,\n                }).build();\n        } else {\n            browser = new "
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "setup.js",
		 "url"     : "docco/test/browserTests/setup.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;setup.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;test/browserTests/setup.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;nx&quot;&gt;requirejs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;paths&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;bluebird&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;           &lt;span class=&quot;s1&quot;&gt;&amp;#39;https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.5.0/bluebird.min&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;lodash&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;             &lt;span class=&quot;s1&quot;&gt;&amp;#39;https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;defineGlobals&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;      &lt;span class=&quot;s1&quot;&gt;&amp;#39;../defineGlobals&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;check-types&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;      &lt;span class=&quot;s1&quot;&gt;&amp;#39;https://rawgit.com/philbooth/check-types.js/master/src/check-types.min&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;chai&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;               &lt;span class=&quot;s1&quot;&gt;&amp;#39;https://cdnjs.cloudflare.com/ajax/libs/chai/4.1.2/chai.min&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;        &lt;span class=&quot;s1&quot;&gt;&amp;#39;sequential-event&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;https://rawgit.com/GerkinDev/SequentialEvent.js/master/dist/sequential-event.min&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;diasporaStandalone&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;../../build/standalone/dist/diaspora&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;diasporaComposed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;s1&quot;&gt;&amp;#39;../../build/composed/dist/diaspora&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;TestModelSimple&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;      &lt;span class=&quot;s1&quot;&gt;&amp;#39;../models/simple&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;TestModelSimpleRemap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;../models/simple-remapping&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;TestInMemory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;         &lt;span class=&quot;s1&quot;&gt;&amp;#39;../adapters/inMemory&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;TestLocalStorage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;&amp;#39;../adapters/localStorage&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;                &lt;span class=&quot;s1&quot;&gt;&amp;#39;../adapters/utils&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;shim&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;utils&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;deps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bluebird&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;TestModelSimple&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;deps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;utils&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;TestModelSimpleRemap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;deps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;utils&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;TestInMemory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;deps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;utils&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;TestLocalStorage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;deps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;utils&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;defineGlobals&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;deps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bluebird&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;lodash&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;check-types&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;chai&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sequential-event&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;adaptersUtils&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;diasporaStandalone&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-40&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Diaspora&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-41&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-42&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;diasporaComposed&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-43&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;deps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bluebird&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;lodash&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;check-types&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;sequential-event&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-44&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Diaspora&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-45&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-46&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-47&quot;&gt;&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-48&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-49&quot;&gt;&lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-50&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-51&quot;&gt;&lt;span class=&quot;nx&quot;&gt;mocha&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;setup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bdd&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-52&quot;&gt;&lt;span class=&quot;nx&quot;&gt;mocha&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;checkLeaks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-53&quot;&gt;&lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-54&quot;&gt;&lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;defineGlobals&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bluebird&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;target&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-55&quot;&gt;    &lt;span class=&quot;nb&quot;&gt;w&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "setup.jstest/browserTests/setup.js&amp;#182;requirejs.config({\n    paths: {\n        bluebird:           &amp;#39;https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.5.0/bluebird.min&amp;#39;,\n        lodash:             &amp;#39;https://cdnjs.cloudflare.com/ajax/libs/lodash.js/4.17.4/lodash.min&amp;#39;,\n        defineGlobals:      &amp;#39;../defineGlobals&amp;#39;,\n        &amp;#39;check-types&amp;#39;:      &amp;#39;https://rawgit.com/philbooth/check-types.js/master/src/check-types.min&amp;#39;,\n        chai:               &amp;#39;https://cdnjs.cloudflare.com/ajax/libs/chai/4.1.2/chai.min&amp;#39;,\n        &amp;#39;sequential-event&amp;#39;: &amp;#39;https://rawgit.com/GerkinDev/SequentialEvent.js/master/dist/sequential-event.min&amp;#39;,\n\n        diasporaStandalone: &amp;#39;../../build/standalone/dist/diaspora&amp;#39;,\n        diasporaComposed:   &amp;#39;../../build/composed/dist/diaspora&amp;#39;,\n\n        TestModelSimple:      &amp;#39;../models/simple&amp;#39;,\n        TestModelSimpleRemap: &amp;#39;../models/simple-remapping&amp;#39;,\n        TestInMemory:         &amp;#39;../adapters/inMemory&amp;#39;,\n        TestLocalStorage:     &amp;#39;../adapters/localStorage&amp;#39;,\n        utils:                &amp;#39;../adapters/utils&amp;#39;,\n    },\n    shim: {\n        utils: {\n            deps: [ &amp;#39;bluebird&amp;#39; ],\n        },\n        TestModelSimple: {\n            deps: [ &amp;#39;utils&amp;#39; ],\n        },\n        TestModelSimpleRemap: {\n            deps: [ &amp;#39;utils&amp;#39; ],\n        },\n        TestInMemory: {\n            deps: [ &amp;#39;utils&amp;#39; ],\n        },\n        TestLocalStorage: {\n            deps: [ &amp;#39;utils&amp;#39; ],\n        },\n        defineGlobals: {\n            deps:    [ &amp;#39;bluebird&amp;#39;, &amp;#39;lodash&amp;#39;, &amp;#39;check-types&amp;#39;, &amp;#39;chai&amp;#39;, &amp;#39;sequential-event&amp;#39; ],\n            exports: &amp;#39;adaptersUtils&amp;#39;,\n        },\n        diasporaStandalone: {\n            exports: &amp;#39;Diaspora&amp;#39;,\n        },\n        diasporaComposed: {\n            deps:    [ &amp;#39;bluebird&amp;#39;, &amp;#39;lodash&amp;#39;, &amp;#39;check-types&amp;#39;, &amp;#39;sequential-event&amp;#39; ],\n            exports: &amp;#39;Diaspora&amp;#39;,\n        },\n    },\n});\n\nwindow.dataSources = {};\n\nmocha.setup( &amp;#39;bdd&amp;#39; );\nmocha.checkLeaks();\nconfig = {};\nrequire([ &amp;#39;defineGlobals&amp;#39;, &amp;#39;bluebird&amp;#39;, target ], ( g, Promise, Diaspora ) =&amp;gt; {\n    w"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "simple-remapping.js",
		 "url"     : "docco/test/models/simple-remapping.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;simple-remapping.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;test/models/simple-remapping.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;store&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MODEL_NAME&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;remapped&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;inMemory&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkDataStoreRemap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;propsObject&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataStoreItem&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;store&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;items&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;inMemory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataStoreItem&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;foo&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;propsObject&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assigned&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;propsObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataStoreItem&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;propsObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataStoreItem&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;satisfy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;    &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Should create a model&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;declareModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MODEL_NAME&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;sources&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;                &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-40&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-41&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Model&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-42&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;store&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;test&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;inMemory&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;store&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;remapped&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-43&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-44&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Should be able to create an entity of the defined model.&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-45&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;spawn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-46&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-47&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;spawn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-48&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-49&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-50&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-51&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-52&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-53&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-54&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Should be able to create multiple entities.&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-55&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-56&quot;&gt;            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-57&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-58&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-59&quot;&gt;            &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-60&quot;&gt;        &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-61&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;spawnMulti&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-62&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-63&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-64&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Should be able to use model methods to find, update, delete &amp;amp; create&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-65&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;- Create instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-66&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Create a single instance&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-67&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;insert&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-68&quot;&gt;                &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-69&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-70&quot;&gt;                &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-71&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-72&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;inMemory&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-73&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;checkDataStoreRemap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-74&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-75&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-76&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Create multiple instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-77&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;insertMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-78&quot;&gt;                &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-79&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-80&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-81&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-82&quot;&gt;                    &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-83&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-84&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-85&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-86&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-87&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-88&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-89&quot;&gt;                &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-90&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-91&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;inMemory&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-92&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-93&quot;&gt;                        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-94&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;checkDataStoreRemap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-95&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-96&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-97&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-98&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-99&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;- Find instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-100&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-101&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;findMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;find&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-102&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-103&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-104&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assigned&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-105&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-106&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-107&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-108&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-109&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-110&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Find a single instance&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-111&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;find&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-112&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapSeries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-113&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-114&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-115&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-116&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-117&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-118&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-119&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-120&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-121&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-122&quot;&gt;                &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-123&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-124&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Find multiple instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-125&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;findMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-126&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapSeries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-127&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-128&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-129&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-130&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-131&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-132&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-133&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-134&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-135&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-136&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-137&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-138&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-139&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-140&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-141&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-142&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-143&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-144&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-145&quot;&gt;                &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-146&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-147&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-148&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-149&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Find all instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-150&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-151&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-152&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-153&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-154&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-155&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;- Update instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-156&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkUpdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-157&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;updateMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;update&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;updatedEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-158&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-159&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;updatedEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-160&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;updatedEntities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;updatedEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-161&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;checkDataStoreRemap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;updatedEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-162&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-163&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assigned&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;updatedEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-164&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;updatedEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-165&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;checkDataStoreRemap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;updatedEntities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-166&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-167&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;updatedEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-168&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-169&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-170&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Update a single instance&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-171&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;update&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-172&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-173&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkUpdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-174&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-175&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-176&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;qux&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-177&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-178&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkUpdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-179&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-180&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-181&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;qux&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-182&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-183&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkUpdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-184&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-185&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-186&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-187&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-188&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-189&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Update multiple instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-190&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;updateMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-191&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-192&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkUpdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-193&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-194&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-195&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-196&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-197&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-198&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-199&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}))&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-200&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkUpdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-201&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-202&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-203&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-204&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-205&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-206&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-207&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}))&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-208&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkUpdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-209&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bat&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-210&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-211&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;twy&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-212&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-213&quot;&gt;                          &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-214&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-215&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-216&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-217&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-218&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-219&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;- Delete instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-220&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkDestroy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-221&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-222&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-223&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;beforeCount&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-224&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;deleteMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;delete&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;beforeCount&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-225&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;beforeCount&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-226&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-227&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-228&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;before&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;beforeCount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-229&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;after&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-230&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-231&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-232&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-233&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;before&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-234&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;after&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-235&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-236&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;after&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;before&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-237&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-238&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-239&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-240&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Delete a single instance&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-241&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;delete&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-242&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-243&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkDestroy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-244&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-245&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-246&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkDestroy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-247&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-248&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-249&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-250&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Delete multiple instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-251&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;deleteMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-252&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkDestroy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-253&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-254&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkDestroy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-255&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-256&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkDestroy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-257&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;qux&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-258&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-259&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-260&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Delete all instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-261&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deleteMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-262&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-263&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-264&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-265&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Should be able to persist, fetch &amp;amp; delete an entity of the defined model.&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-266&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Persist should change the entity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-267&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-268&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-269&quot;&gt;            &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-270&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;spawn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-271&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-272&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;retPromise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;persist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-273&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getState&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;syncing&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-274&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-275&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;retPromise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-276&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-277&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-278&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-279&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Fetch should change the entity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-280&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-281&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-282&quot;&gt;            &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-283&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "simple-remapping.jstest/models/simple-remapping.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\n(() =&amp;gt; {\n    let testModel;\n    let store;\n    let testedEntity;\n    const MODEL_NAME = &amp;#39;remapped&amp;#39;;\n    const SOURCE = &amp;#39;inMemory&amp;#39;;\n\n\n    const checkDataStoreRemap = ( item, propsObject ) =&amp;gt; {\n        const dataStoreItem = l.find( store.items, {\n            id: item.dataSources.inMemory.id,\n        });\n        expect( dataStoreItem ).to.not.have.property( &amp;#39;foo&amp;#39; );\n        if ( propsObject ) {\n            if ( c.assigned( propsObject.foo )) {\n                expect( dataStoreItem ).to.be.an( &amp;#39;object&amp;#39; ).that.have.property( &amp;#39;bar&amp;#39;, propsObject.foo );\n            } else {\n                expect( dataStoreItem ).to.satisfy( obj =&amp;gt; {\n                    return !obj.hasOwnProperty( &amp;#39;bar&amp;#39; ) || c.undefined( obj.bar );\n                });\n            }\n        }\n    };\n\n    it( &amp;#39;Should create a model&amp;#39;, () =&amp;gt; {\n        testModel = Diaspora.declareModel( &amp;#39;test&amp;#39;, MODEL_NAME, {\n            sources: {\n                [ SOURCE ]: {\n                    foo: &amp;#39;bar&amp;#39;,\n                },\n            },\n            attributes: {\n                foo: {\n                    type: &amp;#39;string&amp;#39;,\n                },\n            },\n        });\n        expect( testModel ).to.be.an( &amp;#39;object&amp;#39; );\n        expect( testModel.constructor.name ).to.be.eql( &amp;#39;Model&amp;#39; );\n        store = Diaspora.dataSources.test.inMemory.store.remapped;\n    });\n    it( &amp;#39;Should be able to create an entity of the defined model.&amp;#39;, () =&amp;gt; {\n        const entity1 = testModel.spawn();\n        expect( entity1 ).to.be.an.entity( testModel, {}, true );\n        const entity2 = testModel.spawn({\n            foo: &amp;#39;bar&amp;#39;,\n        });\n        expect( entity2 ).to.be.an.entity( testModel, {\n            foo: &amp;#39;bar&amp;#39;,\n        }, true );\n    });\n    it( &amp;#39;Should be able to create multiple entities.&amp;#39;, () =&amp;gt; {\n        const objects = [\n            {\n                foo: &amp;#39;bar&amp;#39;, \n            },\n            undefined,\n        ];\n        const entities = testModel.spawnMulti( objects );\n        expect( entities ).to.be.a.set.of.entity( testModel, objects, true ).that.have.lengthOf( 2 );\n    });\n    describe( &amp;#39;Should be able to use model methods to find, update, delete &amp;amp; create&amp;#39;, () =&amp;gt; {\n        describe( &amp;#39;- Create instances&amp;#39;, () =&amp;gt; {\n            it( &amp;#39;Create a single instance&amp;#39;, () =&amp;gt; {\n                expect( testModel ).to.respondTo( &amp;#39;insert&amp;#39; );\n                const object = {\n                    foo: &amp;#39;bar&amp;#39;, \n                };\n                return testModel.insert( object ).then( newEntity =&amp;gt; {\n                    expect( newEntity ).to.be.an.entity( testModel, object, &amp;#39;inMemory&amp;#39; );\n                    checkDataStoreRemap( newEntity, object );\n                });\n            });\n            it( &amp;#39;Create multiple instances&amp;#39;, () =&amp;gt; {\n                expect( testModel ).to.respondTo( &amp;#39;insertMany&amp;#39; );\n                const objects = [\n                    {\n                        foo: &amp;#39;baz&amp;#39;, \n                    },\n                    undefined,\n                    {\n                        foo: undefined, \n                    },\n                    {\n                        foo: &amp;#39;baz&amp;#39;, \n                    },\n                ];\n                return testModel.insertMany( objects ).then( newEntities =&amp;gt; {\n                    expect( newEntities ).to.be.a.set.of.entity( testModel, objects, &amp;#39;inMemory&amp;#39; ).that.have.lengthOf( 4 );\n                    return Promise.map( newEntities, ( newEntity, index ) =&amp;gt; {\n                        const object = objects[index];\n                        checkDataStoreRemap( newEntity, object );\n                    });\n                });\n            });\n        });\n        describe( &amp;#39;- Find instances&amp;#39;, () =&amp;gt; {\n            function checkFind( query, many = true ) {\n                return testModel[many ? &amp;#39;findMany&amp;#39; : &amp;#39;find&amp;#39;]( query ).then( foundEntities =&amp;gt; {\n                    if ( many ) {\n                        expect( foundEntities ).to.be.a.set.of.entity( testModel, query, SOURCE );\n                    } else if ( c.assigned( foundEntities )) {\n                        expect( foundEntities ).to.be.an.entity( testModel, query, SOURCE );\n                    }\n                    return Promise.resolve( foundEntities );\n                });\n            }\n            it( &amp;#39;Find a single instance&amp;#39;, () =&amp;gt; {\n                expect( testModel ).to.respondTo( &amp;#39;find&amp;#39; );\n                return Promise.mapSeries([\n                    {\n                        foo: undefined, \n                    },\n                    {\n                        foo: &amp;#39;baz&amp;#39;, \n                    },\n                    {\n                        foo: &amp;#39;bar&amp;#39;, \n                    },\n                ], item =&amp;gt; checkFind( item, false ));\n            });\n            it( &amp;#39;Find multiple instances&amp;#39;, () =&amp;gt; {\n                expect( testModel ).to.respondTo( &amp;#39;findMany&amp;#39; );\n                return Promise.mapSeries([\n                    {\n                        query: {\n                            foo: undefined, \n                        },\n                        length: 2,\n                    },\n                    {\n                        query: {\n                            foo: &amp;#39;baz&amp;#39;, \n                        },\n                        length: 2,\n                    },\n                    {\n                        query: {\n                            foo: &amp;#39;bar&amp;#39;, \n                        },\n                        length: 1,\n                    },\n                ], item =&amp;gt; checkFind( item.query, true ).then( foundEntities =&amp;gt; {\n                    expect( foundEntities ).to.have.lengthOf( item.length );\n                }));\n            });\n            it( &amp;#39;Find all instances&amp;#39;, () =&amp;gt; {\n                return testModel.findMany({}).then( foundEntities =&amp;gt; {\n                    expect( foundEntities ).to.have.lengthOf( 5 );\n                });\n            });\n        });\n        describe( &amp;#39;- Update instances&amp;#39;, () =&amp;gt; {\n            function checkUpdate( query, update, many = true ) {\n                return testModel[many ? &amp;#39;updateMany&amp;#39; : &amp;#39;update&amp;#39;]( query, update ).then( updatedEntities =&amp;gt; {\n                    if ( many ) {\n                        expect( updatedEntities ).to.be.a.set.of.entity( testModel, update, SOURCE );\n                        l.forEach( updatedEntities, updatedEntity =&amp;gt; {\n                            checkDataStoreRemap( updatedEntity, update );\n                        });\n                    } else if ( c.assigned( updatedEntities )) {\n                        expect( updatedEntities ).to.be.an.entity( testModel, update, SOURCE );\n                        checkDataStoreRemap( updatedEntities, update );\n                    }\n                    return Promise.resolve( updatedEntities );\n                });\n            }\n            it( &amp;#39;Update a single instance&amp;#39;, () =&amp;gt; {\n                expect( testModel ).to.respondTo( &amp;#39;update&amp;#39; );\n                return Promise.resolve()\n                    .then(() =&amp;gt; checkUpdate({\n                        foo: undefined,\n                    }, {\n                        foo: &amp;#39;qux&amp;#39;,\n                    }, false ))\n                    .then(() =&amp;gt; checkUpdate({\n                        foo: &amp;#39;baz&amp;#39;,\n                    }, {\n                        foo: &amp;#39;qux&amp;#39;,\n                    }, false ))\n                    .then(() =&amp;gt; checkUpdate({\n                        foo: &amp;#39;bar&amp;#39;,\n                    }, {\n                        foo: undefined,\n                    }, false ));\n            });\n            it( &amp;#39;Update multiple instances&amp;#39;, () =&amp;gt; {\n                expect( testModel ).to.respondTo( &amp;#39;updateMany&amp;#39; );\n                return Promise.resolve()\n                    .then(() =&amp;gt; checkUpdate({\n                        foo: undefined,\n                    }, {\n                        foo: &amp;#39;bar&amp;#39;,\n                    }, true ).then( foundEntities =&amp;gt; {\n                        expect( foundEntities ).to.have.lengthOf( 2 );\n                        return Promise.resolve();\n                    }))\n                    .then(() =&amp;gt; checkUpdate({\n                        foo: &amp;#39;baz&amp;#39;,\n                    }, {\n                        foo: undefined,\n                    }, true ).then( foundEntities =&amp;gt; {\n                        expect( foundEntities ).to.have.lengthOf( 1 );\n                        return Promise.resolve();\n                    }))\n                    .then(() =&amp;gt; checkUpdate({\n                        foo: &amp;#39;bat&amp;#39;,\n                    }, {\n                        foo: &amp;#39;twy&amp;#39;,\n                    }, true )\n                          .then( foundEntities =&amp;gt; {\n                            expect( foundEntities ).to.have.lengthOf( 0 );\n                            return Promise.resolve();\n                        }));\n            });\n        });\n        describe( &amp;#39;- Delete instances&amp;#39;, () =&amp;gt; {\n            function checkDestroy( query, many = true ) {\n                return testModel.findMany( query ).then( entities =&amp;gt; {\n                    return Promise.resolve( entities.length );\n                }).then( beforeCount =&amp;gt; {\n                    return testModel[many ? &amp;#39;deleteMany&amp;#39; : &amp;#39;delete&amp;#39;]( query ).then(() =&amp;gt; Promise.resolve( beforeCount ));\n                }).then( beforeCount =&amp;gt; {\n                    return testModel.findMany( query ).then( entities =&amp;gt; {\n                        return Promise.resolve({\n                            before: beforeCount,\n                            after:  entities.length,\n                        });\n                    });\n                }).then( result =&amp;gt; {\n                    if ( many || 0 === result.before ) {\n                        expect( result.after ).to.be.equal( 0 );\n                    } else {\n                        expect( result.after ).to.be.equal( result.before - 1 );\n                    }\n                });\n            }\n            it( &amp;#39;Delete a single instance&amp;#39;, () =&amp;gt; {\n                expect( testModel ).to.respondTo( &amp;#39;delete&amp;#39; );\n                return Promise.resolve()\n                    .then(() =&amp;gt; checkDestroy({\n                        foo: undefined,\n                    }, false ))\n                    .then(() =&amp;gt; checkDestroy({\n                        foo: &amp;#39;bar&amp;#39;,\n                    }, false ));\n            });\n            it( &amp;#39;Delete multiple instances&amp;#39;, () =&amp;gt; {\n                expect( testModel ).to.respondTo( &amp;#39;deleteMany&amp;#39; );\n                return Promise.resolve().then(() =&amp;gt; checkDestroy({\n                    foo: undefined,\n                }, true )).then(() =&amp;gt; checkDestroy({\n                    foo: &amp;#39;baz&amp;#39;,\n                }, true )).then(() =&amp;gt; checkDestroy({\n                    foo: &amp;#39;qux&amp;#39;,\n                }, true ));\n            });\n            it( &amp;#39;Delete all instances&amp;#39;, () =&amp;gt; {\n                return testModel.deleteMany({});\n            });\n        });\n    });\n    describe( &amp;#39;Should be able to persist, fetch &amp;amp; delete an entity of the defined model.&amp;#39;, () =&amp;gt; {\n        it( &amp;#39;Persist should change the entity&amp;#39;, () =&amp;gt; {\n            const object = {\n                foo: &amp;#39;bar&amp;#39;, \n            };\n            testedEntity = testModel.spawn( object );\n            expect( testedEntity ).to.be.an.entity( testModel, object, true );\n            const retPromise = testedEntity.persist();\n            expect( testedEntity.getState()).to.be.eql( &amp;#39;syncing&amp;#39; );\n            expect( testedEntity ).to.be.an.entity( testModel, object, null );\n            return retPromise.then(() =&amp;gt; {\n                expect( testedEntity ).to.be.an.entity( testModel, object, SOURCE );\n            });\n        });\n        it( &amp;#39;Fetch should change the entity&amp;#39;, () =&amp;gt; {\n            const object = {\n                foo: &amp;#39;bar&amp;#39;,\n            };\n            return testModel.find( object "
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "simple.js",
		 "url"     : "docco/test/models/simple.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;simple.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;test/models/simple.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MODEL_NAME&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;testModel&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;inMemory&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Should create a model&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;declareModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;MODEL_NAME&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;sources&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Model&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Should be able to create an entity of the defined model.&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;spawn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;spawn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Should be able to create multiple entities.&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;            &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;            &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;        &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;spawnMulti&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-40&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-41&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-42&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Should be able to use model methods to find, update, delete &amp;amp; create&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-43&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;- Create instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-44&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Create a single instance&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-45&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;insert&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-46&quot;&gt;                &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-47&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-48&quot;&gt;                &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-49&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insert&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-50&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;inMemory&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-51&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-52&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-53&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-54&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Create multiple instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-55&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;insertMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-56&quot;&gt;                &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-57&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-58&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-59&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-60&quot;&gt;                    &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-61&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-62&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-63&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-64&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-65&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-66&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-67&quot;&gt;                &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-68&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-69&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;newEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;inMemory&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-70&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-71&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-72&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-73&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-74&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;- Find instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-75&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-76&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;findMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;find&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-77&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-78&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-79&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assigned&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-80&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-81&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-82&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-83&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-84&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-85&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Find a single instance&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-86&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;find&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-87&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapSeries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-88&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-89&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-90&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-91&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-92&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-93&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-94&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-95&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-96&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-97&quot;&gt;                &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-98&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-99&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Find multiple instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-100&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;findMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-101&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;mapSeries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-102&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-103&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-104&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-105&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-106&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-107&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-108&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-109&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-110&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-111&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-112&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-113&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-114&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-115&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-116&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-117&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-118&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-119&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-120&quot;&gt;                &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkFind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-121&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-122&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-123&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-124&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Find all instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-125&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-126&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-127&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-128&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-129&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-130&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;- Update instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-131&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkUpdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-132&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;updateMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;update&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;updatedEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-133&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-134&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;updatedEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-135&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assigned&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;updatedEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-136&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;updatedEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-137&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-138&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;updatedEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-139&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-140&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-141&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Update a single instance&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-142&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;update&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-143&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-144&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkUpdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-145&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-146&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-147&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;qux&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-148&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-149&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkUpdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-150&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-151&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-152&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;qux&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-153&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-154&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkUpdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-155&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-156&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-157&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-158&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-159&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-160&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Update multiple instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-161&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-162&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;process.exit()&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-163&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;updateMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-164&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-165&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkUpdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-166&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-167&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-168&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-169&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-170&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-171&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-172&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}))&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-173&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkUpdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-174&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-175&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-176&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-177&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-178&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-179&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-180&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}))&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-181&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkUpdate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-182&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bat&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-183&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-184&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;twy&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-185&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-186&quot;&gt;                          &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-187&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;foundEntities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-188&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-189&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-190&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-191&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-192&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;- Delete instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-193&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkDestroy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-194&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-195&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-196&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;beforeCount&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-197&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;deleteMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;delete&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;beforeCount&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-198&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;beforeCount&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-199&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-200&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-201&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;before&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;beforeCount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-202&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;after&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-203&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-204&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-205&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-206&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;before&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-207&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;after&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-208&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-209&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;after&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;before&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-210&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-211&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-212&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-213&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Delete a single instance&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-214&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;delete&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-215&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-216&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkDestroy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-217&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-218&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-219&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkDestroy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-220&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-221&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-222&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-223&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Delete multiple instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-224&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;deleteMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-225&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkDestroy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-226&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-227&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkDestroy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-228&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-229&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;checkDestroy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-230&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;qux&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-231&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-232&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-233&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Delete all instances&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-234&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deleteMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-235&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-236&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-237&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-238&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Should be able to persist, fetch &amp;amp; delete an entity of the defined model.&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-239&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Persist should change the entity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-240&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-241&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-242&quot;&gt;            &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-243&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;spawn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-244&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-245&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;retPromise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;persist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-246&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getState&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;syncing&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-247&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-248&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;retPromise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-249&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-250&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-251&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-252&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Fetch should change the entity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-253&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-254&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-255&quot;&gt;            &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-256&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-257&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;fetch&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-258&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-259&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-260&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-261&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-262&quot;&gt;                &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-263&quot;&gt;                &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;retPromise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fetch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-264&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;retPromise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-265&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-266&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-267&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-268&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-269&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Destroy should change the entity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-270&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-271&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-272&quot;&gt;            &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-273&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-274&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;destroy&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-275&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-276&quot;&gt;                &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;retPromise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;destroy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-277&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;retPromise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-278&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getLastDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;SOURCE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-279&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getState&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;orphan&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-280&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-281&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-282&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-283&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-284&quot;&gt;    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-285&quot;&gt;&lt;span class=&quot;p&quot;&gt;})();&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "simple.jstest/models/simple.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\n(() =&amp;gt; {\n    let testModel;\n    let testedEntity;\n    const MODEL_NAME = &amp;#39;testModel&amp;#39;;\n    const SOURCE = &amp;#39;inMemory&amp;#39;;\n\n\n    it( &amp;#39;Should create a model&amp;#39;, () =&amp;gt; {\n        testModel = Diaspora.declareModel( &amp;#39;test&amp;#39;, MODEL_NAME, {\n            sources:    [ SOURCE ],\n            attributes: {\n                foo: {\n                    type: &amp;#39;string&amp;#39;,\n                },\n            },\n        });\n        expect( testModel ).to.be.an( &amp;#39;object&amp;#39; );\n        expect( testModel.constructor.name ).to.be.eql( &amp;#39;Model&amp;#39; );\n    });\n    it( &amp;#39;Should be able to create an entity of the defined model.&amp;#39;, () =&amp;gt; {\n        const entity1 = testModel.spawn();\n        expect( entity1 ).to.be.an.entity( testModel, {}, true );\n        const entity2 = testModel.spawn({\n            foo: &amp;#39;bar&amp;#39;,\n        });\n        expect( entity2 ).to.be.an.entity( testModel, {\n            foo: &amp;#39;bar&amp;#39;,\n        }, true );\n    });\n    it( &amp;#39;Should be able to create multiple entities.&amp;#39;, () =&amp;gt; {\n        const objects = [\n            {\n                foo: &amp;#39;bar&amp;#39;, \n            },\n            undefined,\n        ];\n        const entities = testModel.spawnMulti( objects );\n        expect( entities ).to.be.a.set.of.entity( testModel, objects, true ).that.have.lengthOf( 2 );\n    });\n    describe( &amp;#39;Should be able to use model methods to find, update, delete &amp;amp; create&amp;#39;, () =&amp;gt; {\n        describe( &amp;#39;- Create instances&amp;#39;, () =&amp;gt; {\n            it( &amp;#39;Create a single instance&amp;#39;, () =&amp;gt; {\n                expect( testModel ).to.respondTo( &amp;#39;insert&amp;#39; );\n                const object = {\n                    foo: &amp;#39;bar&amp;#39;, \n                };\n                return testModel.insert( object ).then( newEntity =&amp;gt; {\n                    expect( newEntity ).to.be.an.entity( testModel, object, &amp;#39;inMemory&amp;#39; );\n                    return Promise.resolve();\n                });\n            });\n            it( &amp;#39;Create multiple instances&amp;#39;, () =&amp;gt; {\n                expect( testModel ).to.respondTo( &amp;#39;insertMany&amp;#39; );\n                const objects = [\n                    {\n                        foo: &amp;#39;baz&amp;#39;, \n                    },\n                    undefined,\n                    {\n                        foo: undefined, \n                    },\n                    {\n                        foo: &amp;#39;baz&amp;#39;, \n                    },\n                ];\n                return testModel.insertMany( objects ).then( newEntities =&amp;gt; {\n                    expect( newEntities ).to.be.a.set.of.entity( testModel, objects, &amp;#39;inMemory&amp;#39; ).that.have.lengthOf( 4 );\n                    return Promise.resolve();\n                });\n            });\n        });\n        describe( &amp;#39;- Find instances&amp;#39;, () =&amp;gt; {\n            function checkFind( query, many = true ) {\n                return testModel[many ? &amp;#39;findMany&amp;#39; : &amp;#39;find&amp;#39;]( query ).then( foundEntities =&amp;gt; {\n                    if ( many ) {\n                        expect( foundEntities ).to.be.a.set.of.entity( testModel, query, SOURCE );\n                    } else if ( c.assigned( foundEntities )) {\n                        expect( foundEntities ).to.be.an.entity( testModel, query, SOURCE );\n                    }\n                    return Promise.resolve( foundEntities );\n                });\n            }\n            it( &amp;#39;Find a single instance&amp;#39;, () =&amp;gt; {\n                expect( testModel ).to.respondTo( &amp;#39;find&amp;#39; );\n                return Promise.mapSeries([\n                    {\n                        foo: undefined, \n                    },\n                    {\n                        foo: &amp;#39;baz&amp;#39;, \n                    },\n                    {\n                        foo: &amp;#39;bar&amp;#39;, \n                    },\n                ], item =&amp;gt; checkFind( item, false ));\n            });\n            it( &amp;#39;Find multiple instances&amp;#39;, () =&amp;gt; {\n                expect( testModel ).to.respondTo( &amp;#39;findMany&amp;#39; );\n                return Promise.mapSeries([\n                    {\n                        query: {\n                            foo: undefined, \n                        },\n                        length: 2,\n                    },\n                    {\n                        query: {\n                            foo: &amp;#39;baz&amp;#39;, \n                        },\n                        length: 2,\n                    },\n                    {\n                        query: {\n                            foo: &amp;#39;bar&amp;#39;, \n                        },\n                        length: 1,\n                    },\n                ], item =&amp;gt; checkFind( item.query, true ).then( foundEntities =&amp;gt; {\n                    expect( foundEntities ).to.have.lengthOf( item.length );\n                }));\n            });\n            it( &amp;#39;Find all instances&amp;#39;, () =&amp;gt; {\n                return testModel.findMany({}).then( foundEntities =&amp;gt; {\n                    expect( foundEntities ).to.have.lengthOf( 5 );\n                });\n            });\n        });\n        describe( &amp;#39;- Update instances&amp;#39;, () =&amp;gt; {\n            function checkUpdate( query, update, many = true ) {\n                return testModel[many ? &amp;#39;updateMany&amp;#39; : &amp;#39;update&amp;#39;]( query, update ).then( updatedEntities =&amp;gt; {\n                    if ( many ) {\n                        expect( updatedEntities ).to.be.a.set.of.entity( testModel, update, SOURCE );\n                    } else if ( c.assigned( updatedEntities )) {\n                        expect( updatedEntities ).to.be.an.entity( testModel, update, SOURCE );\n                    }\n                    return Promise.resolve( updatedEntities );\n                });\n            }\n            it( &amp;#39;Update a single instance&amp;#39;, () =&amp;gt; {\n                expect( testModel ).to.respondTo( &amp;#39;update&amp;#39; );\n                return Promise.resolve()\n                    .then(() =&amp;gt; checkUpdate({\n                        foo: undefined,\n                    }, {\n                        foo: &amp;#39;qux&amp;#39;,\n                    }, false ))\n                    .then(() =&amp;gt; checkUpdate({\n                        foo: &amp;#39;baz&amp;#39;,\n                    }, {\n                        foo: &amp;#39;qux&amp;#39;,\n                    }, false ))\n                    .then(() =&amp;gt; checkUpdate({\n                        foo: &amp;#39;bar&amp;#39;,\n                    }, {\n                        foo: undefined,\n                    }, false ));\n            });\n            it( &amp;#39;Update multiple instances&amp;#39;, () =&amp;gt; {\n\n&amp;#182;process.exit()                expect( testModel ).to.respondTo( &amp;#39;updateMany&amp;#39; );\n                return Promise.resolve()\n                    .then(() =&amp;gt; checkUpdate({\n                        foo: undefined,\n                    }, {\n                        foo: &amp;#39;bar&amp;#39;,\n                    }, true ).then( foundEntities =&amp;gt; {\n                        expect( foundEntities ).to.have.lengthOf( 2 );\n                        return Promise.resolve();\n                    }))\n                    .then(() =&amp;gt; checkUpdate({\n                        foo: &amp;#39;baz&amp;#39;,\n                    }, {\n                        foo: undefined,\n                    }, true ).then( foundEntities =&amp;gt; {\n                        expect( foundEntities ).to.have.lengthOf( 1 );\n                        return Promise.resolve();\n                    }))\n                    .then(() =&amp;gt; checkUpdate({\n                        foo: &amp;#39;bat&amp;#39;,\n                    }, {\n                        foo: &amp;#39;twy&amp;#39;,\n                    }, true )\n                          .then( foundEntities =&amp;gt; {\n                            expect( foundEntities ).to.have.lengthOf( 0 );\n                            return Promise.resolve();\n                        }));\n            });\n        });\n        describe( &amp;#39;- Delete instances&amp;#39;, () =&amp;gt; {\n            function checkDestroy( query, many = true ) {\n                return testModel.findMany( query ).then( entities =&amp;gt; {\n                    return Promise.resolve( entities.length );\n                }).then( beforeCount =&amp;gt; {\n                    return testModel[many ? &amp;#39;deleteMany&amp;#39; : &amp;#39;delete&amp;#39;]( query ).then(() =&amp;gt; Promise.resolve( beforeCount ));\n                }).then( beforeCount =&amp;gt; {\n                    return testModel.findMany( query ).then( entities =&amp;gt; {\n                        return Promise.resolve({\n                            before: beforeCount,\n                            after:  entities.length,\n                        });\n                    });\n                }).then( result =&amp;gt; {\n                    if ( many || 0 === result.before ) {\n                        expect( result.after ).to.be.equal( 0 );\n                    } else {\n                        expect( result.after ).to.be.equal( result.before - 1 );\n                    }\n                });\n            }\n            it( &amp;#39;Delete a single instance&amp;#39;, () =&amp;gt; {\n                expect( testModel ).to.respondTo( &amp;#39;delete&amp;#39; );\n                return Promise.resolve()\n                    .then(() =&amp;gt; checkDestroy({\n                        foo: undefined,\n                    }, false ))\n                    .then(() =&amp;gt; checkDestroy({\n                        foo: &amp;#39;bar&amp;#39;,\n                    }, false ));\n            });\n            it( &amp;#39;Delete multiple instances&amp;#39;, () =&amp;gt; {\n                expect( testModel ).to.respondTo( &amp;#39;deleteMany&amp;#39; );\n                return Promise.resolve().then(() =&amp;gt; checkDestroy({\n                    foo: undefined,\n                }, true )).then(() =&amp;gt; checkDestroy({\n                    foo: &amp;#39;baz&amp;#39;,\n                }, true )).then(() =&amp;gt; checkDestroy({\n                    foo: &amp;#39;qux&amp;#39;,\n                }, true ));\n            });\n            it( &amp;#39;Delete all instances&amp;#39;, () =&amp;gt; {\n                return testModel.deleteMany({});\n            });\n        });\n    });\n    describe( &amp;#39;Should be able to persist, fetch &amp;amp; delete an entity of the defined model.&amp;#39;, () =&amp;gt; {\n        it( &amp;#39;Persist should change the entity&amp;#39;, () =&amp;gt; {\n            const object = {\n                foo: &amp;#39;bar&amp;#39;, \n            };\n            testedEntity = testModel.spawn( object );\n            expect( testedEntity ).to.be.an.entity( testModel, object, true );\n            const retPromise = testedEntity.persist();\n            expect( testedEntity.getState()).to.be.eql( &amp;#39;syncing&amp;#39; );\n            expect( testedEntity ).to.be.an.entity( testModel, object, null );\n            return retPromise.then(() =&amp;gt; {\n                expect( testedEntity ).to.be.an.entity( testModel, object, SOURCE );\n            });\n        });\n        it( &amp;#39;Fetch should change the entity&amp;#39;, () =&amp;gt; {\n            const object = {\n                foo: &amp;#39;bar&amp;#39;,\n            };\n            return testModel.find( object ).then( entity =&amp;gt; {\n                expect( entity ).to.respondTo( &amp;#39;fetch&amp;#39; );\n                expect( entity ).to.be.an.entity( testModel, object, SOURCE );\n                entity.foo = &amp;#39;baz&amp;#39;;\n                expect( entity ).to.be.an.entity( testModel, {\n                    foo: &amp;#39;baz&amp;#39;,\n                }, SOURCE );\n                const retPromise = entity.fetch();\n                return retPromise.then(() =&amp;gt; {\n                    expect( testedEntity ).to.be.an.entity( testModel, object, SOURCE );\n                });\n            });\n        });\n        it( &amp;#39;Destroy should change the entity&amp;#39;, () =&amp;gt; {\n            const object = {\n                foo: &amp;#39;bar&amp;#39;,\n            };\n            return testModel.find( object ).then( entity =&amp;gt; {\n                expect( entity ).to.respondTo( &amp;#39;destroy&amp;#39; );\n                expect( entity ).to.be.an.entity( testModel, object, SOURCE );\n                const retPromise = entity.destroy();\n                return retPromise.then(() =&amp;gt; {\n                    expect( entity.getLastDataSource()).to.be.eql( SOURCE );\n                    expect( entity.getState()).to.be.eql( &amp;#39;orphan&amp;#39; );\n                    expect( entity ).to.be.an.entity( testModel, {}, null );\n                });\n            });\n        });\n    });\n})();\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "",
		 "url"     : "sitemap.xml",
		 "date"     : "",
		 "html"  : "&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;\n&lt;urlset xmlns=&quot;http://www.sitemaps.org/schemas/sitemap/0.9&quot;&gt;\n  {% for post in site.posts %}\n    {% unless post.sitemap.exclude == &quot;yes&quot; or post.published == false %}\n    &lt;url&gt;\n      &lt;loc&gt;{{ site.canonical_url }}{{ post.url }}&lt;/loc&gt;\n      {% if post.sitemap.lastmod %}\n        &lt;lastmod&gt;{{ post.sitemap.lastmod | date: &quot;%Y-%m-%d&quot; }}&lt;/lastmod&gt;\n      {% elsif post.date %}\n        &lt;lastmod&gt;{{ post.date | date_to_xmlschema }}&lt;/lastmod&gt;\n      {% else %}\n        &lt;lastmod&gt;{{ site.time | date_to_xmlschema }}&lt;/lastmod&gt;\n      {% endif %}\n      {% if post.sitemap.changefreq %}\n        &lt;changefreq&gt;{{ post.sitemap.changefreq }}&lt;/changefreq&gt;\n      {% else %}\n        &lt;changefreq&gt;monthly&lt;/changefreq&gt;\n      {% endif %}\n      {% if post.sitemap.priority %}\n        &lt;priority&gt;{{ post.sitemap.priority }}&lt;/priority&gt;\n      {% else %}\n        &lt;priority&gt;0.5&lt;/priority&gt;\n      {% endif %}\n    &lt;/url&gt;\n    {% endunless %}\n  {% endfor %}\n  {% for page in site.pages %}\n    {% unless page.sitemap.exclude == &quot;yes&quot; or page.url contains &#39;/assets/&#39; %}\n    &lt;url&gt;\n      &lt;loc&gt;{{ site.canonical_url }}{{ page.url | remove: &quot;index.html&quot; }}&lt;/loc&gt;\n      {% if page.sitemap.lastmod %}\n        &lt;lastmod&gt;{{ page.sitemap.lastmod | date: &quot;%Y-%m-%d&quot; }}&lt;/lastmod&gt;\n      {% elsif page.date %}\n        &lt;lastmod&gt;{{ page.date | date_to_xmlschema }}&lt;/lastmod&gt;\n      {% else %}\n        &lt;lastmod&gt;{{ site.time | date_to_xmlschema }}&lt;/lastmod&gt;\n      {% endif %}\n      {% if page.sitemap.changefreq %}\n        &lt;changefreq&gt;{{ page.sitemap.changefreq }}&lt;/changefreq&gt;\n      {% else %}\n        &lt;changefreq&gt;monthly&lt;/changefreq&gt;\n      {% endif %}\n      {% if page.sitemap.priority %}\n        &lt;priority&gt;{{ page.sitemap.priority }}&lt;/priority&gt;\n      {% else %}\n        &lt;priority&gt;0.3&lt;/priority&gt;\n      {% endif %}\n    &lt;/url&gt;\n    {% endunless %}\n  {% endfor %}\n&lt;/urlset&gt;",
			   "content"  : "\n\n  {% for post in site.posts %}\n    {% unless post.sitemap.exclude == &quot;yes&quot; or post.published == false %}\n    \n      {{ site.canonical_url }}{{ post.url }}\n      {% if post.sitemap.lastmod %}\n        {{ post.sitemap.lastmod | date: &quot;%Y-%m-%d&quot; }}\n      {% elsif post.date %}\n        {{ post.date | date_to_xmlschema }}\n      {% else %}\n        {{ site.time | date_to_xmlschema }}\n      {% endif %}\n      {% if post.sitemap.changefreq %}\n        {{ post.sitemap.changefreq }}\n      {% else %}\n        monthly\n      {% endif %}\n      {% if post.sitemap.priority %}\n        {{ post.sitemap.priority }}\n      {% else %}\n        0.5\n      {% endif %}\n    \n    {% endunless %}\n  {% endfor %}\n  {% for page in site.pages %}\n    {% unless page.sitemap.exclude == &quot;yes&quot; or page.url contains &#39;/assets/&#39; %}\n    \n      {{ site.canonical_url }}{{ page.url | remove: &quot;index.html&quot; }}\n      {% if page.sitemap.lastmod %}\n        {{ page.sitemap.lastmod | date: &quot;%Y-%m-%d&quot; }}\n      {% elsif page.date %}\n        {{ page.date | date_to_xmlschema }}\n      {% else %}\n        {{ site.time | date_to_xmlschema }}\n      {% endif %}\n      {% if page.sitemap.changefreq %}\n        {{ page.sitemap.changefreq }}\n      {% else %}\n        monthly\n      {% endif %}\n      {% if page.sitemap.priority %}\n        {{ page.sitemap.priority }}\n      {% else %}\n        0.3\n      {% endif %}\n    \n    {% endunless %}\n  {% endfor %}\n"
			   });
	  
	  
	 
	  
	 
	 data.push(        {
		 "title"    : "test.js",
		 "url"     : "docco/test/browserTests/test.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;test.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;test/browserTests/test.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;require(&quot;../index&quot;);\nlet inMemoryAdapter = require(&quot;../../lib/adapters/inMemoryAdapter&quot;);\nlet inMemoryEntity = require(&quot;../../lib/dataStoreEntities/inMemoryEntity&quot;);&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;../../diaspora&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;testModel&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;IMsource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;createDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;in-memory&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;&lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;registerDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;proute&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;IMsource&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;&lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;declareModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;modelName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;sources&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;proute&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;string&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;methods&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;myFunc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-3&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-3&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;&quot;this&quot; is entity&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;promise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;persist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-4&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-4&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;this is still entity &lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;spawn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;spawn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-40&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;spawnMulti&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-41&quot;&gt;    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-42&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-43&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-44&quot;&gt;    &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-45&quot;&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-46&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-47&quot;&gt;&lt;span class=&quot;nx&quot;&gt;console&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;log&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;toObject&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-48&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-49&quot;&gt;&lt;span class=&quot;nx&quot;&gt;testedEntity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;testModel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;spawn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-50&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-51&quot;&gt;&lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-52&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-53&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-5&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-5&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;summary&quot;&gt;&lt;p&gt;const retPromise = testedEntity.persist();&lt;br /&gt;\nreturn retPromise.then(() =&amp;gt; {&lt;br /&gt;\nreturn Promise.resolve();&lt;br /&gt;\n});&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;p&gt;const inMemoryStore = Diaspora.dataSources.test.inMemory;&lt;br /&gt;\nconst collection = inMemoryStore.store.testModel;&lt;/p&gt;\n&lt;p&gt;testedEntity.foo = &#39;baz&#39;;&lt;br /&gt;\nconst retPromise = testedEntity.fetch();&lt;br /&gt;\nreturn retPromise.then(() =&amp;gt; {&lt;br /&gt;\nreturn Promise.resolve();&lt;br /&gt;\n});&lt;/p&gt;\n&lt;p&gt;const retPromise = testedEntity.destroy();&lt;br /&gt;\nreturn retPromise.then(() =&amp;gt; {&lt;br /&gt;\n    return Promise.resolve();&lt;br /&gt;\n});&lt;/p&gt;\n&lt;p&gt;const inMemoryStore = Diaspora.dataSources.test.inMemory;&lt;br /&gt;\nconst collection = inMemoryStore.store.testModel;&lt;/p&gt;\n&lt;p&gt;let entities;&lt;br /&gt;\nreturn testModel.insert({&lt;br /&gt;\nfoo: &#39;bar&#39;,&lt;br /&gt;\n}).then( newEntity =&amp;gt; {&lt;br /&gt;\nentities = [ newEntity ];&lt;br /&gt;\nreturn Promise.resolve();&lt;br /&gt;\n});&lt;/p&gt;\n&lt;p&gt;return testModel.insertMany([&lt;br /&gt;\n{&lt;br /&gt;\nfoo: &#39;baz&#39;,&lt;br /&gt;\n},&lt;br /&gt;\n    undefined,&lt;br /&gt;\n    {&lt;br /&gt;\n       foo: undefined,&lt;br /&gt;\n},&lt;br /&gt;\n    {&lt;br /&gt;\n       foo: &#39;baz&#39;,&lt;br /&gt;\n},&lt;br /&gt;\n]).then( newEntities =&amp;gt; {&lt;br /&gt;\nl.forEach( newEntities, newEntity =&amp;gt; {&lt;br /&gt;\nentities = entities.concat( newEntities );&lt;br /&gt;\nreturn Promise.resolve();&lt;br /&gt;\n});&lt;br /&gt;\n});&lt;/p&gt;\n&lt;p&gt;function checkFind( query, many = true ) {&lt;br /&gt;\nreturn testModel&lt;a href=&quot;query&quot;&gt;many ? &#39;findMany&#39; : &#39;find&#39;&lt;/a&gt;.then( foundEntities =&amp;gt; {&lt;br /&gt;\nfunction checkSingle( entity ) {&lt;br /&gt;\nl.forEach( query, ( val, key ) =&amp;gt; {&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;        });\n    }\n\n    if ( many ) {\n        l.forEach( foundEntities, checkSingle );\n    } else {\n        checkSingle( foundEntities );\n    }\n    return Promise.resolve( foundEntities );\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;}&lt;/p&gt;\n&lt;p&gt;return Promise.all([&lt;br /&gt;\ncheckFind({&lt;br /&gt;\nfoo: undefined,&lt;br /&gt;\n}, false ),&lt;br /&gt;\ncheckFind({&lt;br /&gt;\nfoo: &#39;baz&#39;,&lt;br /&gt;\n}, false ),&lt;br /&gt;\ncheckFind({&lt;br /&gt;\nfoo: &#39;bar&#39;,&lt;br /&gt;\n}, false ),&lt;br /&gt;\n]);&lt;/p&gt;\n&lt;p&gt;return Promise.all([&lt;br /&gt;\ncheckFind({&lt;br /&gt;\n       foo: undefined,&lt;br /&gt;\n}, true ).then( foundEntities =&amp;gt; {&lt;br /&gt;\n}),&lt;br /&gt;\ncheckFind({&lt;br /&gt;\nfoo: &#39;baz&#39;,&lt;br /&gt;\n}, true ).then( foundEntities =&amp;gt; {&lt;br /&gt;\n}),&lt;br /&gt;\ncheckFind({&lt;br /&gt;\nfoo: &#39;bar&#39;,&lt;br /&gt;\n}, true ).then( foundEntities =&amp;gt; {&lt;br /&gt;\n}),&lt;br /&gt;\n]);&lt;/p&gt;\n&lt;p&gt;function checkUpdate( query, update, many = true ) {&lt;br /&gt;\nreturn testModel[many ? &#39;updateMany&#39; : &#39;update&#39;]( query, update ).then( updatedEntities =&amp;gt; {&lt;br /&gt;\nfunction checkSingle( entity ) {&lt;br /&gt;\nl.forEach( update, ( val, key ) =&amp;gt; {&lt;br /&gt;\n});&lt;br /&gt;\n}&lt;/p&gt;\n&lt;pre&gt;&lt;code&gt;    if ( many ) {\n        l.forEach( updatedEntities, checkSingle );\n    } else {\n        checkSingle( updatedEntities );\n    }\n\n    return Promise.resolve( updatedEntities );\n});\n&lt;/code&gt;&lt;/pre&gt;\n&lt;p&gt;}&lt;/p&gt;\n&lt;p&gt;return Promise.resolve()&lt;br /&gt;\n.then(() =&amp;gt; checkUpdate({&lt;br /&gt;\nfoo: undefined,&lt;br /&gt;\n}, {&lt;br /&gt;\nfoo: &#39;qux&#39;,&lt;br /&gt;\n}, false ))&lt;br /&gt;\n.then(() =&amp;gt; checkUpdate({&lt;br /&gt;\nfoo: &#39;baz&#39;,&lt;br /&gt;\n}, {&lt;br /&gt;\nfoo: &#39;qux&#39;,&lt;br /&gt;\n}, false ))&lt;br /&gt;\n.then(() =&amp;gt; checkUpdate({&lt;br /&gt;\nfoo: &#39;bar&#39;,&lt;br /&gt;\n}, {&lt;br /&gt;\nfoo: undefined,&lt;br /&gt;\n}, false ));&lt;/p&gt;\n&lt;p&gt;return Promise.resolve()&lt;br /&gt;\n.then(() =&amp;gt; checkUpdate({&lt;br /&gt;\nfoo: undefined,&lt;br /&gt;\n}, {&lt;br /&gt;\nfoo: &#39;bar&#39;,&lt;br /&gt;\n}, true ).then( foundEntities =&amp;gt; {&lt;br /&gt;\n}))&lt;br /&gt;\n.then(() =&amp;gt; checkUpdate({&lt;br /&gt;\nfoo: &#39;baz&#39;,&lt;br /&gt;\n}, {&lt;br /&gt;\nfoo: undefined,&lt;br /&gt;\n}, true ).then( foundEntities =&amp;gt; {&lt;br /&gt;\n}))&lt;br /&gt;\n.then(() =&amp;gt; checkUpdate({&lt;br /&gt;\nfoo: &#39;bat&#39;,&lt;br /&gt;\n}, {&lt;br /&gt;\nfoo: &#39;twy&#39;,&lt;br /&gt;\n}, true )&lt;br /&gt;\n.then( foundEntities =&amp;gt; {&lt;br /&gt;\n}));&lt;/p&gt;\n&lt;p&gt;function checkDestroy( query, many = true ) {&lt;br /&gt;\nreturn testModel.findMany(query).then(entities =&amp;gt; {&lt;br /&gt;\nreturn Promise.resolve(entities.length);&lt;br /&gt;\n}).then(beforeCount =&amp;gt; {&lt;br /&gt;\nreturn testModel&lt;a href=&quot;query&quot;&gt;many ? &#39;deleteMany&#39; : &#39;delete&#39;&lt;/a&gt;.then( () =&amp;gt; Promise.resolve(beforeCount));&lt;br /&gt;\n}).then(beforeCount =&amp;gt; {&lt;br /&gt;\nreturn testModel.findMany(query).then(entities =&amp;gt; {&lt;br /&gt;\nreturn Promise.resolve({before: beforeCount, after: entities.length});&lt;br /&gt;\n});&lt;br /&gt;\n}).then(result =&amp;gt; {&lt;br /&gt;\nif(many || 0 === result.before){&lt;br /&gt;\n} else {&lt;br /&gt;\n}&lt;br /&gt;\n});&lt;br /&gt;\n}&lt;/p&gt;\n&lt;p&gt;return Promise.resolve()&lt;br /&gt;\n.then(() =&amp;gt; checkDestroy({&lt;br /&gt;\nfoo: undefined,&lt;br /&gt;\n}, false ))&lt;br /&gt;\n.then(() =&amp;gt; checkDestroy({&lt;br /&gt;\nfoo: &#39;bar&#39;,&lt;br /&gt;\n}, false ));&lt;/p&gt;\n&lt;p&gt;return Promise.resolve().then(() =&amp;gt; checkDestroy({&lt;br /&gt;\nfoo: undefined,&lt;br /&gt;\n}, true )).then(() =&amp;gt; checkDestroy({&lt;br /&gt;\nfoo: &#39;baz&#39;,&lt;br /&gt;\n}, true )).then(() =&amp;gt; checkDestroy({&lt;br /&gt;\nfoo: &#39;qux&#39;,&lt;br /&gt;\n}, true ));&lt;/p&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "test.jstest/browserTests/test.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\n\n&amp;#182;require(&quot;../index&quot;);\nlet inMemoryAdapter = require(&quot;../../lib/adapters/inMemoryAdapter&quot;);\nlet inMemoryEntity = require(&quot;../../lib/dataStoreEntities/inMemoryEntity&quot;);let Diaspora = require( &amp;#39;../../diaspora&amp;#39; );\n\nlet testModel;\nlet testedEntity;\nconst modelName = &amp;#39;testModel&amp;#39;;\n\nlet IMsource = Diaspora.createDataSource( &amp;#39;in-memory&amp;#39;, {});\nDiaspora.registerDataSource( &amp;#39;test&amp;#39;, &amp;#39;proute&amp;#39;, IMsource );\n\ntestModel = Diaspora.declareModel( &amp;#39;test&amp;#39;, modelName, {\n    sources:    [ &amp;#39;proute&amp;#39; ],\n    attributes: {\n        foo: {\n            type: &amp;#39;string&amp;#39;,\n        },\n    },\n    methods: {\n        myFunc() {\n\n&amp;#182;&quot;this&quot; is entity            let promise = this.persist();\n            promise.then(() =&amp;gt; {\n\n&amp;#182;this is still entity             });\n        },\n    },\n});\n\nconst entity1 = testModel.spawn();\nconst entity2 = testModel.spawn({\n    foo: &amp;#39;bar&amp;#39;,\n});\n\n\nconst entities = testModel.spawnMulti([\n    {\n        foo: &amp;#39;bar&amp;#39;,\n    },\n    undefined,\n]);\n\nconsole.log( entities.map( entity=&amp;gt;entity.toObject()));\n\ntestedEntity = testModel.spawn({\n    foo: &amp;#39;bar&amp;#39;,\n});\n\n&amp;#182;const retPromise = testedEntity.persist();\nreturn retPromise.then(() =&amp;gt; {\nreturn Promise.resolve();\n});const inMemoryStore = Diaspora.dataSources.test.inMemory;\nconst collection = inMemoryStore.store.testModel;\ntestedEntity.foo = &#39;baz&#39;;\nconst retPromise = testedEntity.fetch();\nreturn retPromise.then(() =&amp;gt; {\nreturn Promise.resolve();\n});\nconst retPromise = testedEntity.destroy();\nreturn retPromise.then(() =&amp;gt; {\n    return Promise.resolve();\n});\nconst inMemoryStore = Diaspora.dataSources.test.inMemory;\nconst collection = inMemoryStore.store.testModel;\nlet entities;\nreturn testModel.insert({\nfoo: &#39;bar&#39;,\n}).then( newEntity =&amp;gt; {\nentities = [ newEntity ];\nreturn Promise.resolve();\n});\nreturn testModel.insertMany([\n{\nfoo: &#39;baz&#39;,\n},\n    undefined,\n    {\n       foo: undefined,\n},\n    {\n       foo: &#39;baz&#39;,\n},\n]).then( newEntities =&amp;gt; {\nl.forEach( newEntities, newEntity =&amp;gt; {\nentities = entities.concat( newEntities );\nreturn Promise.resolve();\n});\n});\nfunction checkFind( query, many = true ) {\nreturn testModelmany ? &#39;findMany&#39; : &#39;find&#39;.then( foundEntities =&amp;gt; {\nfunction checkSingle( entity ) {\nl.forEach( query, ( val, key ) =&amp;gt; {\n        });\n    }\n\n    if ( many ) {\n        l.forEach( foundEntities, checkSingle );\n    } else {\n        checkSingle( foundEntities );\n    }\n    return Promise.resolve( foundEntities );\n});\n\n}\nreturn Promise.all([\ncheckFind({\nfoo: undefined,\n}, false ),\ncheckFind({\nfoo: &#39;baz&#39;,\n}, false ),\ncheckFind({\nfoo: &#39;bar&#39;,\n}, false ),\n]);\nreturn Promise.all([\ncheckFind({\n       foo: undefined,\n}, true ).then( foundEntities =&amp;gt; {\n}),\ncheckFind({\nfoo: &#39;baz&#39;,\n}, true ).then( foundEntities =&amp;gt; {\n}),\ncheckFind({\nfoo: &#39;bar&#39;,\n}, true ).then( foundEntities =&amp;gt; {\n}),\n]);\nfunction checkUpdate( query, update, many = true ) {\nreturn testModel[many ? &#39;updateMany&#39; : &#39;update&#39;]( query, update ).then( updatedEntities =&amp;gt; {\nfunction checkSingle( entity ) {\nl.forEach( update, ( val, key ) =&amp;gt; {\n});\n}\n    if ( many ) {\n        l.forEach( updatedEntities, checkSingle );\n    } else {\n        checkSingle( updatedEntities );\n    }\n\n    return Promise.resolve( updatedEntities );\n});\n\n}\nreturn Promise.resolve()\n.then(() =&amp;gt; checkUpdate({\nfoo: undefined,\n}, {\nfoo: &#39;qux&#39;,\n}, false ))\n.then(() =&amp;gt; checkUpdate({\nfoo: &#39;baz&#39;,\n}, {\nfoo: &#39;qux&#39;,\n}, false ))\n.then(() =&amp;gt; checkUpdate({\nfoo: &#39;bar&#39;,\n}, {\nfoo: undefined,\n}, false ));\nreturn Promise.resolve()\n.then(() =&amp;gt; checkUpdate({\nfoo: undefined,\n}, {\nfoo: &#39;bar&#39;,\n}, true ).then( foundEntities =&amp;gt; {\n}))\n.then(() =&amp;gt; checkUpdate({\nfoo: &#39;baz&#39;,\n}, {\nfoo: undefined,\n}, true ).then( foundEntities =&amp;gt; {\n}))\n.then(() =&amp;gt; checkUpdate({\nfoo: &#39;bat&#39;,\n}, {\nfoo: &#39;twy&#39;,\n}, true )\n.then( foundEntities =&amp;gt; {\n}));\nfunction checkDestroy( query, many = true ) {\nreturn testModel.findMany(query).then(entities =&amp;gt; {\nreturn Promise.resolve(entities.length);\n}).then(beforeCount =&amp;gt; {\nreturn testModelmany ? &#39;deleteMany&#39; : &#39;delete&#39;.then( () =&amp;gt; Promise.resolve(beforeCount));\n}).then(beforeCount =&amp;gt; {\nreturn testModel.findMany(query).then(entities =&amp;gt; {\nreturn Promise.resolve({before: beforeCount, after: entities.length});\n});\n}).then(result =&amp;gt; {\nif(many || 0 === result.before){\n} else {\n}\n});\n}\nreturn Promise.resolve()\n.then(() =&amp;gt; checkDestroy({\nfoo: undefined,\n}, false ))\n.then(() =&amp;gt; checkDestroy({\nfoo: &#39;bar&#39;,\n}, false ));\nreturn Promise.resolve().then(() =&amp;gt; checkDestroy({\nfoo: undefined,\n}, true )).then(() =&amp;gt; checkDestroy({\nfoo: &#39;baz&#39;,\n}, true )).then(() =&amp;gt; checkDestroy({\nfoo: &#39;qux&#39;,\n}, true ));\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "Try Diaspora online",
		 "url"     : "try-diaspora.html",
		 "date"     : "",
		 "html"  : "# Try Diaspora online\n\nYou can test *Diaspora* using the Query Editor below. Collections available are `PhoneBook` and `Queries`. See the [Query Language](query-language.html) to see how you can query *Diaspora*.\n\n&lt;div class=&quot;note info&quot;&gt;\nCurrently, only Query Language Specification level 2 is implemented. Some operators (such as &lt;code&gt;&amp;&amp;&lt;/code&gt;, &lt;code&gt;!&lt;/code&gt; or &lt;code&gt;$in&lt;/code&gt;) are not yet available\n&lt;/div&gt;\n\n&lt;div class=&quot;lazyload unloaded&quot;&gt;\n&lt;div class=&quot;loader&quot;&gt;&lt;/div&gt;\n\n## History\n\n&lt;table markdown=&quot;0&quot;&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;Id&lt;/th&gt;\n&lt;th&gt;Query&lt;/th&gt;\n&lt;th&gt;Date&lt;/th&gt;\n&lt;th&gt;Action&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody id=&quot;queriesHistory&quot;&gt;&lt;/tbody&gt;\n&lt;/table&gt;\n\n## Query Editor\n\n&lt;div class=&quot;input-group&quot; markdown=&quot;0&quot;&gt;\n&lt;code id=&quot;query&quot; class=&quot;form-control&quot; &gt;PhoneBook.findMany({})&lt;/code&gt;\n&lt;div class=&quot;input-group-btn&quot;&gt;\n&lt;button id=&quot;execquery&quot; class=&quot;btn btn-default&quot;&gt;&lt;i class=&quot;glyphicon glyphicon-search&quot;&gt;&lt;/i&gt;&lt;/button&gt;\n&lt;/div&gt;\n&lt;/div&gt;\n&lt;button class=&quot;btn btn-default&quot; id=&quot;resetData&quot;&gt;Reset all data&lt;/button&gt;\n\n## Results\n\n&lt;table id=&quot;datatable&quot; markdown=&quot;0&quot;&gt;\n&lt;thead&gt;\n&lt;tr&gt;\n&lt;th&gt;Id&lt;/th&gt;\n&lt;th&gt;Name&lt;/th&gt;\n&lt;th&gt;Phone&lt;/th&gt;\n&lt;th&gt;Email&lt;/th&gt;\n&lt;th&gt;Company&lt;/th&gt;\n&lt;th&gt;Country&lt;/th&gt;\n&lt;th&gt;State&lt;/th&gt;\n&lt;th&gt;City&lt;/th&gt;\n&lt;th&gt;Address&lt;/th&gt;\n&lt;/tr&gt;\n&lt;/thead&gt;\n&lt;tbody&gt;&lt;/tbody&gt;\n&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "# Try Diaspora online\n\nYou can test *Diaspora* using the Query Editor below. Collections available are `PhoneBook` and `Queries`. See the [Query Language](query-language.html) to see how you can query *Diaspora*.\n\n\nCurrently, only Query Language Specification level 2 is implemented. Some operators (such as &amp;&amp;, ! or $in) are not yet available\n\n\n\n\n\n## History\n\n\n\n\nId\nQuery\nDate\nAction\n\n\n\n\n\n## Query Editor\n\n\nPhoneBook.findMany({})\n\n\n\n\nReset all data\n\n## Results\n\n\n\n\nId\nName\nPhone\nEmail\nCompany\nCountry\nState\nCity\nAddress\n\n\n\n"
			   });
	  
	  
	 
	 data.push(        {
		 "title"    : "utils.js",
		 "url"     : "docco/test/adapters/utils.js.html",
		 "date"     : "",
		 "html"  : "&lt;div id=&quot;container&quot;&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot;&gt;&lt;thead&gt;&lt;tr&gt;&lt;th class=&quot;docs&quot;&gt;&lt;h1&gt;utils.js&lt;/h1&gt;&lt;div class=&quot;filepath&quot;&gt;test/adapters/utils.js&lt;/div&gt;&lt;/th&gt;&lt;th class=&quot;code&quot;&gt;&lt;/th&gt;&lt;/tr&gt;&lt;/thead&gt;&lt;tbody&gt;&lt;tr class=&quot;section&quot; id=&quot;section-1&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-1&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;span&gt;&lt;/span&gt;&lt;span id=&quot;line-1&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;use strict&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-2&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-3&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bluebird&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-4&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;lodash&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-5&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-6&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-7&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-2&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-2&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;dox&quot;&gt;&lt;div class=&quot;summary&quot;&gt;&lt;p&gt;globals l: false, c: false&lt;/p&gt;&lt;/div&gt;&lt;div class=&quot;body&quot;&gt;&lt;/div&gt;&lt;/div&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-8&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-9&quot;&gt;&lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getDataSourceLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-10&quot;&gt;    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;Adapter&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;?&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`.&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addName&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-11&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-12&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-13&quot;&gt;&lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;test&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-14&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-15&quot;&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-16&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;createDataSource&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-17&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceLabel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getDataSourceLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-18&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;createDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-19&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSourceLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-20&quot;&gt;        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-21&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-22&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;checkSpawnedAdapter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;baseName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-23&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;white&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Create &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterLabel&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; adapter`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;done&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-24&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceLabel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getDataSourceLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-25&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSourceLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;waitReady&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;().&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-26&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;baseName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;baseName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-27&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-28&quot;&gt;                &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-29&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;constructor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Adapter name does not comply to naming convention&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;baseName&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;DiasporaAdapter`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-30&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;classEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Class entity name does not comply to naming convention&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;equal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;baseName&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;Entity`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-31&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-32&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;forEach&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;insert&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;find&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;update&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;delete&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;word&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-33&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;satisfy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;o&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;__proto__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;word&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;One`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;__proto__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;word&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;Many`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`should have at least one &amp;quot;&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;word&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;&amp;quot; method`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-34&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-35&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;done&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-36&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;catch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;done&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-37&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-38&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-39&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;checkEachStandardMethods&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-40&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDataSourceLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-41&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getTestLabel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fctName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-42&quot;&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;__proto__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;hasOwnProperty&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fctName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-43&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fctName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-44&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-45&quot;&gt;                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fctName&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; (from BaseAdapter)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-46&quot;&gt;            &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-47&quot;&gt;        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-48&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-49&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;white&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Check filtering options&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; with &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt;  &lt;span class=&quot;nx&quot;&gt;adapterLabel&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-50&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Check &amp;quot;normalizeOptions&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-51&quot;&gt;                &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;no&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;normalizeOptions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-52&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-53&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;        &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-54&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;remapInput&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-55&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;remapOutput&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-56&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-57&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-58&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;        &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-59&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;remapInput&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-60&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;remapOutput&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-61&quot;&gt;                &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-62&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;        &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-63&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;remapInput&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-64&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;remapOutput&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-65&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-66&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-67&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-68&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-69&quot;&gt;                &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;include&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-70&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-71&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-72&quot;&gt;                &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;and&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;not&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;property&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;page&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-73&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-74&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-75&quot;&gt;                &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-76&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-77&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-78&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-79&quot;&gt;                &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-80&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-81&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-82&quot;&gt;                &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-83&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-84&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-85&quot;&gt;                &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-86&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-87&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;page&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aze&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-88&quot;&gt;                &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-89&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-90&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aze&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-91&quot;&gt;                &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-92&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;no&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-93&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aze&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-94&quot;&gt;                &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-95&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-96&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Check &amp;quot;normalizeQuery&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-97&quot;&gt;                &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;partialRight&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;normalizeQuery&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-98&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;remapInput&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-99&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-100&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Empty query&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-101&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-102&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-103&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;~&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($exists)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-104&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-105&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-106&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-107&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-108&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-109&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-110&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-111&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-112&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-113&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;~&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-114&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-115&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-116&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-117&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-118&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-119&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-120&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-121&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-122&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-123&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-124&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-125&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-126&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-127&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-128&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-129&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-130&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-131&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;~&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-132&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-133&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-134&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-135&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-136&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-137&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-138&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-139&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-140&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-141&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-142&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-143&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-144&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-145&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-146&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-147&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-148&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-149&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;~&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;     &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-150&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-151&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-152&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-153&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-154&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;==&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($equal)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-155&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-156&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-157&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-158&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-159&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$equal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-160&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-161&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-162&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-163&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-164&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$equal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-165&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-166&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-167&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-168&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$equal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-169&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-170&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-171&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-172&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-173&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;==&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-174&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-175&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-176&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-177&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$equal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-178&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-179&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-180&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-181&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-182&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;==&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-183&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$equal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-184&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-185&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-186&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-187&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;!=&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($diff)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-188&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-189&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-190&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$diff&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-191&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-192&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-193&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-194&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$diff&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-195&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-196&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-197&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-198&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-199&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;!=&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-200&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-201&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-202&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-203&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$diff&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-204&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-205&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-206&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-207&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-208&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;!=&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;  &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-209&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$diff&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-210&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-211&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-212&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-213&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($less)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-214&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-215&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-216&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$less&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-217&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-218&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-219&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-220&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$less&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-221&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-222&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-223&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-224&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-225&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-226&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-227&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-228&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-229&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$less&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-230&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-231&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-232&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-233&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-234&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;   &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-235&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$less&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-236&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-237&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-238&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-239&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-240&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aze&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-241&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-242&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-243&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-244&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-245&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$less&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aze&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-246&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-247&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-248&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-249&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;=&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($lessEqual)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-250&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-251&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-252&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$lessEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-253&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-254&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-255&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-256&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$lessEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-257&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-258&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-259&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-260&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-261&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;=&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-262&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-263&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-264&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-265&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$lessEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-266&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-267&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-268&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-269&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-270&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;=&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;       &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-271&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$lessEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-272&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-273&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-274&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-275&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-276&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;=&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aze&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-277&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-278&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-279&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-280&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-281&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$lessEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aze&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-282&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-283&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-284&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-285&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($greater)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-286&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-287&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-288&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greater&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-289&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-290&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-291&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-292&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greater&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-293&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-294&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-295&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-296&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-297&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-298&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-299&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-300&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-301&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greater&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-302&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-303&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-304&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-305&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-306&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;      &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-307&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greater&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-308&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-309&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-310&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-311&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-312&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aze&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-313&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-314&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-315&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-316&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-317&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greater&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aze&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-318&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-319&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-320&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-321&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;=&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($greaterEqual)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-322&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-323&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-324&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greaterEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-325&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-326&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-327&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-328&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greaterEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-329&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-330&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-331&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-332&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-333&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;=&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-334&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-335&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-336&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-337&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greaterEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-338&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-339&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-340&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-341&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-342&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;=&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;          &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-343&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greaterEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-344&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-345&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-346&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-347&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-348&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;=&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aze&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-349&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-350&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-351&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;nq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-352&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-353&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greaterEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;aze&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-354&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-355&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;throw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-356&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-357&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-358&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Check &amp;quot;matchEntity&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-359&quot;&gt;                &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;matchEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-360&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Empty query&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-361&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-362&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-363&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-364&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-365&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;~&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($exists)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-366&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-367&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-368&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-369&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-370&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-371&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-372&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-373&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-374&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-375&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-376&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-377&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-378&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-379&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-380&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-381&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-382&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-383&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-384&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-385&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-386&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-387&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-388&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-389&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$exists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-390&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-391&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-392&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-393&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-394&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-395&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;==&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($equal)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-396&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-397&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-398&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$equal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-399&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-400&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-401&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-402&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-403&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-404&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-405&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$equal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-406&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-407&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-408&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-409&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-410&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-411&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-412&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$equal&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-413&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-414&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-415&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-416&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-417&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-418&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;!=&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($diff)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-419&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-420&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-421&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$diff&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-422&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-423&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-424&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-425&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-426&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-427&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-428&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$diff&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-429&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-430&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-431&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;baz&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-432&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-433&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-434&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-435&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$diff&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-436&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-437&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-438&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-439&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-440&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-441&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-442&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$diff&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-443&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-444&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-445&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;qux&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-446&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-447&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-448&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($less)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-449&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-450&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-451&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$less&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-452&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-453&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-454&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-455&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-456&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-457&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-458&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$less&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-459&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-460&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-461&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-462&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-463&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-464&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-465&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$less&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-466&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-467&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-468&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-469&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-470&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-471&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-472&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$less&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-473&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-474&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-475&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-476&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-477&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-478&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;=&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($lessEqual)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-479&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-480&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-481&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$lessEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-482&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-483&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-484&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-485&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-486&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-487&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-488&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$lessEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-489&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-490&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-491&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-492&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-493&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-494&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-495&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$lessEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-496&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-497&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-498&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-499&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-500&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-501&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-502&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$lessEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-503&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-504&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-505&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-506&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-507&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-508&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($greater)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-509&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-510&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-511&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greater&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-512&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-513&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-514&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-515&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-516&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-517&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-518&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greater&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-519&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-520&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-521&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-522&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-523&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-524&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-525&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greater&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-526&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-527&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-528&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-529&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-530&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-531&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-532&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greater&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-533&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-534&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-535&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-536&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-537&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-538&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;=&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($greaterEqual)`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-539&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-540&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-541&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greaterEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-542&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-543&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-544&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-545&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-546&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-547&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-548&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greaterEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-549&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-550&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-551&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-552&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-553&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-554&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-555&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greaterEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-556&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-557&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-558&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-559&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-560&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-561&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-562&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;$greaterEqual&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-563&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-564&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-565&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-566&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;})).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-567&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-568&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-569&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-570&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;white&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Test adapter methods&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-571&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;findManyOk&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-572&quot;&gt;            &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;findAllOk&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-573&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39; Insert methods&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-574&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getTestLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;insertOne&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-575&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;insertOne&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-576&quot;&gt;                    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-577&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-578&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-579&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-580&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-581&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-582&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-583&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getTestLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;insertMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-584&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;insertMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-585&quot;&gt;                    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-586&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;baz&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;qux&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-587&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-588&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;qux&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-589&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-590&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-591&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-592&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-593&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-594&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-595&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-596&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-597&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Specification level 1&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-598&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39; Find methods&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-599&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getTestLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;findOne&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-600&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;findOne&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-601&quot;&gt;                        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-602&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;baz&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;qux&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-603&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-604&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-605&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-606&quot;&gt;                                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;object&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-607&quot;&gt;                                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-608&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-609&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-610&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-611&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getTestLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;findMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-612&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;findMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-613&quot;&gt;                        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-614&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-615&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-616&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-617&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-618&quot;&gt;                                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-619&quot;&gt;                                &lt;span class=&quot;nx&quot;&gt;findManyOk&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-620&quot;&gt;                                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-621&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-622&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-623&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-624&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Find all&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;skippable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-625&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;findManyOk&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-626&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-627&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-628&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-629&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;findMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-630&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-631&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-632&quot;&gt;                                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-633&quot;&gt;                                &lt;span class=&quot;nx&quot;&gt;findAllOk&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-634&quot;&gt;                                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-635&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-636&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-637&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-638&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-639&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39; Update methods&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-640&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getTestLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;updateOne&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-641&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;updateOne&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-642&quot;&gt;                        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fromObj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-643&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;baz&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;qux&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-644&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-645&quot;&gt;                        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;targetObj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-646&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-647&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-648&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;updateOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fromObj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;targetObj&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-649&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entity&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({},&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fromObj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;targetObj&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;));&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-650&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-651&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-652&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getTestLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;updateMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-653&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;updateMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-654&quot;&gt;                        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fromObj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-655&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-656&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-657&quot;&gt;                        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;targetObj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-658&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;baz&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;qux&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-659&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-660&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;updateMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fromObj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;targetObj&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-661&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;assign&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({},&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;fromObj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;targetObj&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-662&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-663&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-664&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-665&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39; Delete methods&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-666&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getTestLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;deleteOne&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-667&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;deleteOne&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-668&quot;&gt;                        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-669&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;qux&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;foo&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-670&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-671&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deleteOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-672&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;array&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-673&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-674&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-675&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-676&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;getTestLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;deleteMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-677&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;respondTo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;deleteMany&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-678&quot;&gt;                        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-679&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;bar&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-680&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-681&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;deleteMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-682&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;args&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;array&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-683&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-684&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-685&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-686&quot;&gt;                    &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Check deletion: find all again&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kd&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;skippable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-687&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;findAllOk&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-688&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;this&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;skip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-689&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-690&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-691&quot;&gt;                        &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-692&quot;&gt;                            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-693&quot;&gt;                                &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;an&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;array&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-694&quot;&gt;                                &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-695&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-696&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-697&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-698&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-699&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-700&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;describe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Specification level 2&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-701&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Initialize test data&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-702&quot;&gt;                    &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-703&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-704&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-3&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-3&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Tests for $exists&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-705&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-706&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-707&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-708&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-709&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-710&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-711&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-712&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-4&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-4&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;Tests for comparison operators&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-713&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-714&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-715&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-716&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-717&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-718&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-719&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-720&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-721&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-722&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-723&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;insertMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-724&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;entities&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-725&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-726&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-727&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;~&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($exists) operator`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-728&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-729&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-730&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-731&quot;&gt;                                &lt;span class=&quot;s1&quot;&gt;&amp;#39;~&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-732&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-733&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-734&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-735&quot;&gt;                                &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-736&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-737&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}),&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-738&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-739&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-740&quot;&gt;                                &lt;span class=&quot;s1&quot;&gt;&amp;#39;~&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-741&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-742&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-743&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-744&quot;&gt;                                &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-745&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-746&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}),&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-747&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-748&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-749&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;==&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($equal) operator`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-750&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-751&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-752&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;==&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-753&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-754&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-755&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-756&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-757&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-758&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-759&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-760&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;!=&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($diff) operator`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-761&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Promise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-762&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-763&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-764&quot;&gt;                                &lt;span class=&quot;s1&quot;&gt;&amp;#39;!=&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-765&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-766&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-767&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-768&quot;&gt;                                &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-769&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-770&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}),&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-771&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-772&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-773&quot;&gt;                                &lt;span class=&quot;s1&quot;&gt;&amp;#39;!=&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-774&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-775&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-776&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;undefined&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-777&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}),&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-778&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findOne&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-779&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-780&quot;&gt;                                &lt;span class=&quot;s1&quot;&gt;&amp;#39;!=&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-781&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-782&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-783&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-784&quot;&gt;                                &lt;span class=&quot;nx&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-785&quot;&gt;                            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-786&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}),&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-787&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-788&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-789&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($less) operator`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-790&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-791&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-792&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-793&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-794&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;outputs&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-795&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;outputs&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-796&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-797&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}]).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-798&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-799&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-800&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;=&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($lessEqual) operator`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-801&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-802&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-803&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;=&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-804&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-805&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;outputs&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-806&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;outputs&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-807&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-808&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-809&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-810&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}]).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-811&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-812&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-813&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($greater) operator`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-814&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-815&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-816&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-817&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-818&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;outputs&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-819&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;outputs&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-820&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-821&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}]).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-822&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-823&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-824&quot;&gt;                &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`&lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;bold&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;=&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; ($greaterEqual) operator`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-825&quot;&gt;                    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;findMany&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-826&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-827&quot;&gt;                            &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;gt;=&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-828&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; \n&lt;/span&gt;&lt;span id=&quot;line-829&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;}).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;then&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;outputs&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-830&quot;&gt;                        &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;outputs&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;be&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;of&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataStoreEntity&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-831&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-832&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-833&quot;&gt;                            &lt;span class=&quot;nx&quot;&gt;bar&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-834&quot;&gt;                        &lt;span class=&quot;p&quot;&gt;}]).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;that&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;have&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;lengthOf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-835&quot;&gt;                    &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-836&quot;&gt;                &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-837&quot;&gt;            &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-838&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-839&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-840&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;checkApplications&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-841&quot;&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;window&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-842&quot;&gt;            &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-843&quot;&gt;        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-844&quot;&gt;        &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDataSourceLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)];&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-845&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;../testApps/adapters/index&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapter&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-846&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-847&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;checkRegisterAdapter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-848&quot;&gt;        &lt;span class=&quot;nx&quot;&gt;it&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;style&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;white&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Register named &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;${&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterLabel&lt;/span&gt; &lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt; dataSource`&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-849&quot;&gt;            &lt;span class=&quot;kr&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;TABLE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-850&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;registerDataSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDataSourceLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-851&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-852&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr class=&quot;section&quot; id=&quot;section-5&quot;&gt;&lt;td class=&quot;docs&quot;&gt;&lt;div class=&quot;pilwrap&quot;&gt;&lt;a class=&quot;pilcrow&quot; href=&quot;#section-5&quot;&gt;&amp;#182;&lt;/a&gt;&lt;/div&gt;&lt;p&gt;console.log(Diaspora.dataSources);&lt;/p&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;/span&gt;&lt;span id=&quot;line-853&quot;&gt;            &lt;span class=&quot;nx&quot;&gt;expect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Diaspora&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;namespace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;dataSourceName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]).&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;eql&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dataSources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;getDataSourceLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;adapterLabel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;addName&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)]);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-854&quot;&gt;        &lt;span class=&quot;p&quot;&gt;});&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-855&quot;&gt;    &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-856&quot;&gt;&lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-857&quot;&gt;\n&lt;/span&gt;&lt;span id=&quot;line-858&quot;&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;undefined&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!==&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;typeof&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;define&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-859&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;define&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-860&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-861&quot;&gt;    &lt;span class=&quot;nx&quot;&gt;module&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;exports&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;AdapterTestUtils&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;\n&lt;/span&gt;&lt;span id=&quot;line-862&quot;&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;\n&lt;/span&gt;\n&lt;/pre&gt;&lt;/div&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/div&gt;",
			   "content"  : "utils.jstest/adapters/utils.js&amp;#182;&amp;#39;use strict&amp;#39;;\n\nconst Promise = require( &amp;#39;bluebird&amp;#39; );\nconst l = require( &amp;#39;lodash&amp;#39; );\n\n\n&amp;#182;globals l: false, c: false\nfunction getDataSourceLabel( name, addName = &amp;#39;&amp;#39; ) {\n    return `${ name }Adapter${ addName ? `.${ addName }` : &amp;#39;&amp;#39; }`;\n}\n\nconst TABLE = &amp;#39;test&amp;#39;;\n\nvar AdapterTestUtils = {\n    createDataSource: ( adapterLabel, config, addName = &amp;#39;&amp;#39; ) =&amp;gt; {\n        const dataSourceLabel = getDataSourceLabel( adapterLabel, addName );\n        const dataSource = Diaspora.createDataSource( adapterLabel, config );\n        dataSources[dataSourceLabel] = dataSource;\n        return dataSource;\n    },\n    checkSpawnedAdapter: ( adapterLabel, baseName, addName = &amp;#39;&amp;#39; ) =&amp;gt; {\n        it( style.white( `Create ${ adapterLabel } adapter` ), done =&amp;gt; {\n            const dataSourceLabel = getDataSourceLabel( adapterLabel, addName );\n            dataSources[dataSourceLabel].waitReady().then( adapter =&amp;gt; {\n                adapter.baseName = baseName;\n                expect( adapter ).to.be.an( &amp;#39;object&amp;#39; );\n                if ( &amp;#39;undefined&amp;#39; === typeof window ) {\n                    expect( adapter.constructor.name, &amp;#39;Adapter name does not comply to naming convention&amp;#39; ).to.equal( `${ baseName }DiasporaAdapter` );\n                    expect( adapter.classEntity.name, &amp;#39;Class entity name does not comply to naming convention&amp;#39; ).to.equal( `${ baseName }Entity` );\n                }\n                l.forEach([ &amp;#39;insert&amp;#39;, &amp;#39;find&amp;#39;, &amp;#39;update&amp;#39;, &amp;#39;delete&amp;#39; ], word =&amp;gt; {\n                    expect( adapter ).to.satisfy( o =&amp;gt; ( o.__proto__.hasOwnProperty( `${ word }One` ) || o.__proto__.hasOwnProperty( `${ word }Many` )), `should have at least one &amp;quot;${ word }&amp;quot; method` );\n                });\n                return done();\n            }).catch( done );\n        });\n    },\n    checkEachStandardMethods: ( adapterLabel, addName = &amp;#39;&amp;#39; ) =&amp;gt; {\n        const adapter = dataSources[getDataSourceLabel( adapterLabel, addName )];\n        const getTestLabel = fctName =&amp;gt; {\n            if ( adapter.__proto__.hasOwnProperty( fctName )) {\n                return fctName;\n            } else {\n                return `${ fctName } (from BaseAdapter)`;\n            }\n        };\n\n        describe( `${ style.white( &amp;#39;Check filtering options&amp;#39; )  } with ${  adapterLabel }`, () =&amp;gt; {\n            it( &amp;#39;Check &amp;quot;normalizeOptions&amp;quot;&amp;#39;, () =&amp;gt; {\n                const no = adapter.normalizeOptions;\n                expect( no()).to.deep.include({\n                    skip:        0,\n                    remapInput:  true,\n                    remapOutput: true,\n                });\n                expect( no({\n                    skip:        1,\n                    remapInput:  false,\n                    remapOutput: false,\n                })).to.deep.include({\n                    skip:        1,\n                    remapInput:  false,\n                    remapOutput: false,\n                });\n                expect( no({\n                    page:  1,\n                    limit: 10,\n                })).to.deep.include({\n                    skip:  10,\n                    limit: 10,\n                }).and.not.have.property( &amp;#39;page&amp;#39; );\n                expect( no.bind( adapter, {\n                    page: 1,\n                })).to.throw();\n                expect( no.bind( adapter, {\n                    page:  -1,\n                    limit: 5,\n                })).to.throw();\n                expect( no.bind( adapter, {\n                    limit: -1,\n                })).to.throw();\n                expect( no.bind( adapter, {\n                    skip: -1,\n                })).to.throw();\n                expect( no.bind( adapter, {\n                    page: &amp;#39;aze&amp;#39;,\n                })).to.throw();\n                expect( no.bind( adapter, {\n                    limit: &amp;#39;aze&amp;#39;,\n                })).to.throw();\n                expect( no.bind( adapter, {\n                    skip: &amp;#39;aze&amp;#39;,\n                })).to.throw();\n            });\n            describe( &amp;#39;Check &amp;quot;normalizeQuery&amp;quot;&amp;#39;, () =&amp;gt; {\n                const nq = l.partialRight( adapter.normalizeQuery, {\n                    remapInput: true,\n                });\n                it( &amp;#39;Empty query&amp;#39;, () =&amp;gt; {\n                    expect( nq({})).to.deep.eql({});\n                });\n                it( `${ style.bold( &amp;#39;~&amp;#39; ) } ($exists)`, () =&amp;gt; {\n                    expect( nq({\n                        foo: undefined,\n                    })).to.deep.eql({\n                        foo: {\n                            $exists: false, \n                        }, \n                    });\n                    expect( nq({\n                        foo: {\n                            &amp;#39;~&amp;#39;: true, \n                        }, \n                    })).to.deep.eql({\n                        foo: {\n                            $exists: true, \n                        }, \n                    });\n                    expect( nq({\n                        foo: {\n                            $exists: true, \n                        }, \n                    })).to.deep.eql({\n                        foo: {\n                            $exists: true, \n                        }, \n                    });\n                    expect( nq({\n                        foo: {\n                            &amp;#39;~&amp;#39;: false, \n                        }, \n                    })).to.deep.eql({\n                        foo: {\n                            $exists: false, \n                        }, \n                    });\n                    expect( nq({\n                        foo: {\n                            $exists: false, \n                        }, \n                    })).to.deep.eql({\n                        foo: {\n                            $exists: false, \n                        }, \n                    });\n                    expect( nq.bind( adapter, {\n                        foo: {\n                            &amp;#39;~&amp;#39;:     &amp;#39;bar&amp;#39;,\n                            $exists: &amp;#39;bar&amp;#39;, \n                        }, \n                    })).to.throw();\n                });\n                it( `${ style.bold( &amp;#39;==&amp;#39; ) } ($equal)`, () =&amp;gt; {\n                    expect( nq({\n                        foo: &amp;#39;bar&amp;#39;,\n                    })).to.deep.eql({\n                        foo: {\n                            $equal: &amp;#39;bar&amp;#39;, \n                        }, \n                    });\n                    expect( nq({\n                        foo: {\n                            $equal: &amp;#39;bar&amp;#39;, \n                        }, \n                    })).to.deep.eql({\n                        foo: {\n                            $equal: &amp;#39;bar&amp;#39;, \n                        }, \n                    });\n                    expect( nq({\n                        foo: {\n                            &amp;#39;==&amp;#39;: &amp;#39;bar&amp;#39;, \n                        }, \n                    })).to.deep.eql({\n                        foo: {\n                            $equal: &amp;#39;bar&amp;#39;, \n                        }, \n                    });\n                    expect( nq.bind( adapter, {\n                        foo: {\n                            &amp;#39;==&amp;#39;:   &amp;#39;bar&amp;#39;,\n                            $equal: &amp;#39;bar&amp;#39;, \n                        }, \n                    })).to.throw();\n                });\n                it( `${ style.bold( &amp;#39;!=&amp;#39; ) } ($diff)`, () =&amp;gt; {\n                    expect( nq({\n                        foo: {\n                            $diff: &amp;#39;bar&amp;#39;, \n                        }, \n                    })).to.deep.eql({\n                        foo: {\n                            $diff: &amp;#39;bar&amp;#39;, \n                        }, \n                    });\n                    expect( nq({\n                        foo: {\n                            &amp;#39;!=&amp;#39;: &amp;#39;bar&amp;#39;, \n                        }, \n                    })).to.deep.eql({\n                        foo: {\n                            $diff: &amp;#39;bar&amp;#39;, \n                        }, \n                    });\n                    expect( nq.bind( adapter, {\n                        foo: {\n                            &amp;#39;!=&amp;#39;:  &amp;#39;bar&amp;#39;,\n                            $diff: &amp;#39;bar&amp;#39;, \n                        }, \n                    })).to.throw();\n                });\n                it( `${ style.bold( &amp;#39;&amp;lt;&amp;#39; ) } ($less)`, () =&amp;gt; {\n                    expect( nq({\n                        foo: {\n                            $less: 1, \n                        }, \n                    })).to.deep.eql({\n                        foo: {\n                            $less: 1, \n                        }, \n                    });\n                    expect( nq({\n                        foo: {\n                            &amp;#39;&amp;lt;&amp;#39;: 1, \n                        }, \n                    })).to.deep.eql({\n                        foo: {\n                            $less: 1, \n                        }, \n                    });\n                    expect( nq.bind( adapter, {\n                        foo: {\n                            &amp;#39;&amp;lt;&amp;#39;:   1,\n                            $less: 1, \n                        }, \n                    })).to.throw();\n                    expect( nq.bind( adapter, {\n                        foo: {\n                            &amp;#39;&amp;lt;&amp;#39;: &amp;#39;aze&amp;#39;, \n                        }, \n                    })).to.throw();\n                    expect( nq.bind( adapter, {\n                        foo: {\n                            $less: &amp;#39;aze&amp;#39;, \n                        }, \n                    })).to.throw();\n                });\n                it( `${ style.bold( &amp;#39;&amp;lt;=&amp;#39; ) } ($lessEqual)`, () =&amp;gt; {\n                    expect( nq({\n                        foo: {\n                            $lessEqual: 1, \n                        }, \n                    })).to.deep.eql({\n                        foo: {\n                            $lessEqual: 1, \n                        }, \n                    });\n                    expect( nq({\n                        foo: {\n                            &amp;#39;&amp;lt;=&amp;#39;: 1, \n                        }, \n                    })).to.deep.eql({\n                        foo: {\n                            $lessEqual: 1, \n                        }, \n                    });\n                    expect( nq.bind( adapter, {\n                        foo: {\n                            &amp;#39;&amp;lt;=&amp;#39;:       1,\n                            $lessEqual: 1, \n                        }, \n                    })).to.throw();\n                    expect( nq.bind( adapter, {\n                        foo: {\n                            &amp;#39;&amp;lt;=&amp;#39;: &amp;#39;aze&amp;#39;, \n                        }, \n                    })).to.throw();\n                    expect( nq.bind( adapter, {\n                        foo: {\n                            $lessEqual: &amp;#39;aze&amp;#39;, \n                        }, \n                    })).to.throw();\n                });\n                it( `${ style.bold( &amp;#39;&amp;gt;&amp;#39; ) } ($greater)`, () =&amp;gt; {\n                    expect( nq({\n                        foo: {\n                            $greater: 1, \n                        }, \n                    })).to.deep.eql({\n                        foo: {\n                            $greater: 1, \n                        }, \n                    });\n                    expect( nq({\n                        foo: {\n                            &amp;#39;&amp;gt;&amp;#39;: 1, \n                        }, \n                    })).to.deep.eql({\n                        foo: {\n                            $greater: 1, \n                        }, \n                    });\n                    expect( nq.bind( adapter, {\n                        foo: {\n                            &amp;#39;&amp;gt;&amp;#39;:      1,\n                            $greater: 1, \n                        }, \n                    })).to.throw();\n                    expect( nq.bind( adapter, {\n                        foo: {\n                            &amp;#39;&amp;gt;&amp;#39;: &amp;#39;aze&amp;#39;, \n                        }, \n                    })).to.throw();\n                    expect( nq.bind( adapter, {\n                        foo: {\n                            $greater: &amp;#39;aze&amp;#39;, \n                        }, \n                    })).to.throw();\n                });\n                it( `${ style.bold( &amp;#39;&amp;gt;=&amp;#39; ) } ($greaterEqual)`, () =&amp;gt; {\n                    expect( nq({\n                        foo: {\n                            $greaterEqual: 1, \n                        }, \n                    })).to.deep.eql({\n                        foo: {\n                            $greaterEqual: 1, \n                        }, \n                    });\n                    expect( nq({\n                        foo: {\n                            &amp;#39;&amp;gt;=&amp;#39;: 1, \n                        }, \n                    })).to.deep.eql({\n                        foo: {\n                            $greaterEqual: 1, \n                        }, \n                    });\n                    expect( nq.bind( adapter, {\n                        foo: {\n                            &amp;#39;&amp;gt;=&amp;#39;:          1,\n                            $greaterEqual: 1, \n                        }, \n                    })).to.throw();\n                    expect( nq.bind( adapter, {\n                        foo: {\n                            &amp;#39;&amp;gt;=&amp;#39;: &amp;#39;aze&amp;#39;, \n                        }, \n                    })).to.throw();\n                    expect( nq.bind( adapter, {\n                        foo: {\n                            $greaterEqual: &amp;#39;aze&amp;#39;, \n                        }, \n                    })).to.throw();\n                });\n            });\n            describe( &amp;#39;Check &amp;quot;matchEntity&amp;quot;&amp;#39;, () =&amp;gt; {\n                const me = adapter.matchEntity;\n                it( &amp;#39;Empty query&amp;#39;, () =&amp;gt; {\n                    expect( me({}, {\n                        foo: &amp;#39;bar&amp;#39;,\n                    })).to.be.true;\n                });\n                it( `${ style.bold( &amp;#39;~&amp;#39; ) } ($exists)`, () =&amp;gt; {\n                    expect( me({\n                        foo: {\n                            $exists: true,\n                        },\n                    }, {\n                        foo: &amp;#39;bar&amp;#39;,\n                    })).to.be.true;\n                    expect( me({\n                        foo: {\n                            $exists: true,\n                        },\n                    }, {\n                        foo: undefined,\n                    })).to.be.false;\n                    expect( me({\n                        foo: {\n                            $exists: false,\n                        },\n                    }, {\n                        foo: &amp;#39;bar&amp;#39;,\n                    })).to.be.false;\n                    expect( me({\n                        foo: {\n                            $exists: false,\n                        },\n                    }, {\n                        foo: undefined,\n                    })).to.be.true;\n                });\n                it( `${ style.bold( &amp;#39;==&amp;#39; ) } ($equal)`, () =&amp;gt; {\n                    expect( me({\n                        foo: {\n                            $equal: &amp;#39;bar&amp;#39;,\n                        },\n                    }, {\n                        foo: &amp;#39;bar&amp;#39;,\n                    })).to.be.true;\n                    expect( me({\n                        foo: {\n                            $equal: &amp;#39;bar&amp;#39;,\n                        },\n                    }, {\n                        foo: undefined,\n                    })).to.be.false;\n                    expect( me({\n                        foo: {\n                            $equal: &amp;#39;bar&amp;#39;,\n                        },\n                    }, {\n                        foo: &amp;#39;baz&amp;#39;,\n                    })).to.be.false;\n                });\n                it( `${ style.bold( &amp;#39;!=&amp;#39; ) } ($diff)`, () =&amp;gt; {\n                    expect( me({\n                        foo: {\n                            $diff: &amp;#39;bar&amp;#39;,\n                        },\n                    }, {\n                        foo: &amp;#39;bar&amp;#39;,\n                    })).to.be.false;\n                    expect( me({\n                        foo: {\n                            $diff: &amp;#39;bar&amp;#39;,\n                        },\n                    }, {\n                        foo: &amp;#39;baz&amp;#39;,\n                    })).to.be.true;\n                    expect( me({\n                        foo: {\n                            $diff: &amp;#39;bar&amp;#39;,\n                        },\n                    }, {\n                        foo: undefined,\n                    })).to.be.false;\n                    expect( me({\n                        foo: {\n                            $diff: &amp;#39;bar&amp;#39;,\n                        },\n                    }, {\n                        bar: &amp;#39;qux&amp;#39;,\n                    })).to.be.false;\n                });\n                it( `${ style.bold( &amp;#39;&amp;lt;&amp;#39; ) } ($less)`, () =&amp;gt; {\n                    expect( me({\n                        foo: {\n                            $less: 2,\n                        },\n                    }, {\n                        foo: undefined,\n                    })).to.be.false;\n                    expect( me({\n                        foo: {\n                            $less: 2,\n                        },\n                    }, {\n                        foo: 1,\n                    })).to.be.true;\n                    expect( me({\n                        foo: {\n                            $less: 2,\n                        },\n                    }, {\n                        foo: 2,\n                    })).to.be.false;\n                    expect( me({\n                        foo: {\n                            $less: 2,\n                        },\n                    }, {\n                        foo: 3,\n                    })).to.be.false;\n                });\n                it( `${ style.bold( &amp;#39;&amp;lt;=&amp;#39; ) } ($lessEqual)`, () =&amp;gt; {\n                    expect( me({\n                        foo: {\n                            $lessEqual: 2,\n                        },\n                    }, {\n                        foo: undefined,\n                    })).to.be.false;\n                    expect( me({\n                        foo: {\n                            $lessEqual: 2,\n                        },\n                    }, {\n                        foo: 1,\n                    })).to.be.true;\n                    expect( me({\n                        foo: {\n                            $lessEqual: 2,\n                        },\n                    }, {\n                        foo: 2,\n                    })).to.be.true;\n                    expect( me({\n                        foo: {\n                            $lessEqual: 2,\n                        },\n                    }, {\n                        foo: 3,\n                    })).to.be.false;\n                });\n                it( `${ style.bold( &amp;#39;&amp;gt;&amp;#39; ) } ($greater)`, () =&amp;gt; {\n                    expect( me({\n                        foo: {\n                            $greater: 2,\n                        },\n                    }, {\n                        foo: undefined,\n                    })).to.be.false;\n                    expect( me({\n                        foo: {\n                            $greater: 2,\n                        },\n                    }, {\n                        foo: 1,\n                    })).to.be.false;\n                    expect( me({\n                        foo: {\n                            $greater: 2,\n                        },\n                    }, {\n                        foo: 2,\n                    })).to.be.false;\n                    expect( me({\n                        foo: {\n                            $greater: 2,\n                        },\n                    }, {\n                        foo: 3,\n                    })).to.be.true;\n                });\n                it( `${ style.bold( &amp;#39;&amp;gt;=&amp;#39; ) } ($greaterEqual)`, () =&amp;gt; {\n                    expect( me({\n                        foo: {\n                            $greaterEqual: 2,\n                        },\n                    }, {\n                        foo: undefined,\n                    })).to.be.false;\n                    expect( me({\n                        foo: {\n                            $greaterEqual: 2,\n                        },\n                    }, {\n                        foo: 1,\n                    })).to.be.false;\n                    expect( me({\n                        foo: {\n                            $greaterEqual: 2,\n                        },\n                    }, {\n                        foo: 2,\n                    })).to.be.true;\n                    expect( me({\n                        foo: {\n                            $greaterEqual: 2,\n                        },\n                    }, {\n                        foo: 3,\n                    })).to.be.true;\n                });\n            });\n        });\n        describe( style.white( &amp;#39;Test adapter methods&amp;#39; ), () =&amp;gt; {\n            let findManyOk = false;\n            let findAllOk = false;\n            describe( &amp;#39; Insert methods&amp;#39;, () =&amp;gt; {\n                it( getTestLabel( &amp;#39;insertOne&amp;#39; ), () =&amp;gt; {\n                    expect( adapter ).to.respondTo( &amp;#39;insertOne&amp;#39; );\n                    const object = {\n                        foo: &amp;#39;bar&amp;#39;,\n                    };\n                    return adapter.insertOne( TABLE, object ).then( entity =&amp;gt; {\n                        expect( entity ).to.be.a.dataStoreEntity( adapter, object );\n                    });\n                });\n                it( getTestLabel( &amp;#39;insertMany&amp;#39; ), () =&amp;gt; {\n                    expect( adapter ).to.respondTo( &amp;#39;insertMany&amp;#39; );\n                    const objects = [{\n                        baz: &amp;#39;qux&amp;#39;,\n                    }, {\n                        qux: &amp;#39;foo&amp;#39;,\n                    }, {\n                        foo: &amp;#39;bar&amp;#39;,\n                    }];\n                    return adapter.insertMany( TABLE, objects ).then( entities =&amp;gt; {\n                        expect( entities ).to.be.a.set.of.dataStoreEntity( adapter, objects ).that.have.lengthOf( objects.length );\n                    });\n                });\n            });\n            describe( &amp;#39;Specification level 1&amp;#39;, () =&amp;gt; {\n                describe( &amp;#39; Find methods&amp;#39;, () =&amp;gt; {\n                    it( getTestLabel( &amp;#39;findOne&amp;#39; ), () =&amp;gt; {\n                        expect( adapter ).to.respondTo( &amp;#39;findOne&amp;#39; );\n                        const object = {\n                            baz: &amp;#39;qux&amp;#39;,\n                        };\n                        return adapter.findOne( TABLE, object ).then( entity =&amp;gt; {\n                            return Promise.try(() =&amp;gt; {\n                                expect( entity ).to.be.a.dataStoreEntity( adapter, object );\n                                return Promise.resolve();\n                            });\n                        });\n                    });\n                    it( getTestLabel( &amp;#39;findMany&amp;#39; ), () =&amp;gt; {\n                        expect( adapter ).to.respondTo( &amp;#39;findMany&amp;#39; );\n                        const objects = {\n                            foo: &amp;#39;bar&amp;#39;,\n                        };\n                        return adapter.findMany( TABLE, objects ).then( entities =&amp;gt; {\n                            return Promise.try(() =&amp;gt; {\n                                expect( entities ).to.be.a.set.of.dataStoreEntity( adapter, objects ).that.have.lengthOf( 2 );\n                                findManyOk = true;\n                                return Promise.resolve();\n                            });\n                        });\n                    });\n                    it( &amp;#39;Find all&amp;#39;, function skippable() {\n                        if ( findManyOk !== true ) {\n                            this.skip();\n                            return;\n                        }\n                        expect( adapter ).to.respondTo( &amp;#39;findMany&amp;#39; );\n                        return adapter.findMany( TABLE, {}).then( entities =&amp;gt; {\n                            return Promise.try(() =&amp;gt; {\n                                expect( entities ).to.be.a.set.of.dataStoreEntity( adapter ).that.have.lengthOf( 4 );\n                                findAllOk = true;\n                                return Promise.resolve();\n                            });\n                        });\n                    });\n                });\n                describe( &amp;#39; Update methods&amp;#39;, () =&amp;gt; {\n                    it( getTestLabel( &amp;#39;updateOne&amp;#39; ), () =&amp;gt; {\n                        expect( adapter ).to.respondTo( &amp;#39;updateOne&amp;#39; );\n                        const fromObj = {\n                            baz: &amp;#39;qux&amp;#39;,\n                        };\n                        const targetObj = {\n                            foo: &amp;#39;bar&amp;#39;,\n                        };\n                        return adapter.updateOne( TABLE, fromObj, targetObj ).then( entity =&amp;gt; {\n                            expect( entity ).to.be.a.dataStoreEntity( adapter, l.assign({}, fromObj, targetObj ));\n                        });\n                    });\n                    it( getTestLabel( &amp;#39;updateMany&amp;#39; ), () =&amp;gt; {\n                        expect( adapter ).to.respondTo( &amp;#39;updateMany&amp;#39; );\n                        const fromObj = {\n                            foo: &amp;#39;bar&amp;#39;,\n                        };\n                        const targetObj = {\n                            baz: &amp;#39;qux&amp;#39;,\n                        };\n                        return adapter.updateMany( TABLE, fromObj, targetObj ).then( entities =&amp;gt; {\n                            expect( entities ).to.be.a.set.of.dataStoreEntity( adapter, l.assign({}, fromObj, targetObj )).that.have.lengthOf( 3 );\n                        });\n                    });\n                });\n                describe( &amp;#39; Delete methods&amp;#39;, () =&amp;gt; {\n                    it( getTestLabel( &amp;#39;deleteOne&amp;#39; ), () =&amp;gt; {\n                        expect( adapter ).to.respondTo( &amp;#39;deleteOne&amp;#39; );\n                        const obj = {\n                            qux: &amp;#39;foo&amp;#39;,\n                        };\n                        return adapter.deleteOne( TABLE, obj ).then(( ...args ) =&amp;gt; {\n                            expect( args ).to.be.an( &amp;#39;array&amp;#39; ).that.eql([ undefined ]);\n                            return Promise.resolve();\n                        });\n                    });\n                    it( getTestLabel( &amp;#39;deleteMany&amp;#39; ), () =&amp;gt; {\n                        expect( adapter ).to.respondTo( &amp;#39;deleteMany&amp;#39; );\n                        const obj = {\n                            foo: &amp;#39;bar&amp;#39;,\n                        };\n                        return adapter.deleteMany( TABLE, obj ).then(( ...args ) =&amp;gt; {\n                            expect( args ).to.be.an( &amp;#39;array&amp;#39; ).that.eql([ undefined ]);\n                            return Promise.resolve();\n                        });\n                    });\n                    it( &amp;#39;Check deletion: find all again&amp;#39;, function skippable() {\n                        if ( findAllOk !== true ) {\n                            this.skip();\n                            return;\n                        }\n                        return adapter.findMany( TABLE, {}).then( entities =&amp;gt; {\n                            return Promise.try(() =&amp;gt; {\n                                expect( entities ).to.be.an( &amp;#39;array&amp;#39; ).that.have.lengthOf( 0 );\n                                return Promise.resolve();\n                            });\n                        });\n                    });\n                });\n            });\n            describe( &amp;#39;Specification level 2&amp;#39;, () =&amp;gt; {\n                it( &amp;#39;Initialize test data&amp;#39;, () =&amp;gt; {\n                    const objects = [\n\n&amp;#182;Tests for $exists                        {\n                            foo: 1,\n                        },\n                        {\n                            foo: undefined,\n                        },\n\n&amp;#182;Tests for comparison operators                        {\n                            bar: 1,\n                        },\n                        {\n                            bar: 2,\n                        },\n                        {\n                            bar: 3,\n                        },\n                    ];\n                    return adapter.insertMany( TABLE, objects ).then( entities =&amp;gt; {\n                        expect( entities ).to.be.a.set.of.dataStoreEntity( adapter, objects ).that.have.lengthOf( objects.length );\n                    });\n                });\n                it( `${ style.bold( &amp;#39;~&amp;#39; ) } ($exists) operator`, () =&amp;gt; {\n                    return Promise.all([\n                        adapter.findOne( TABLE, {\n                            foo: {\n                                &amp;#39;~&amp;#39;: true, \n                            }, \n                        }).then( output =&amp;gt; {\n                            expect( output ).to.be.a.dataStoreEntity( adapter, {\n                                foo: 1,\n                            });\n                        }),\n                        adapter.findOne( TABLE, {\n                            foo: {\n                                &amp;#39;~&amp;#39;: false, \n                            }, \n                        }).then( output =&amp;gt; {\n                            expect( output ).to.be.a.dataStoreEntity( adapter, {\n                                foo: undefined,\n                            });\n                        }),\n                    ]);\n                });\n                it( `${ style.bold( &amp;#39;==&amp;#39; ) } ($equal) operator`, () =&amp;gt; {\n                    return adapter.findOne( TABLE, {\n                        foo: {\n                            &amp;#39;==&amp;#39;: 1, \n                        }, \n                    }).then( output =&amp;gt; {\n                        expect( output ).to.be.a.dataStoreEntity( adapter, {\n                            foo: 1,\n                        });\n                    });\n                });\n                it( `${ style.bold( &amp;#39;!=&amp;#39; ) } ($diff) operator`, () =&amp;gt; {\n                    return Promise.all([\n                        adapter.findOne( TABLE, {\n                            bar: {\n                                &amp;#39;!=&amp;#39;: 1, \n                            }, \n                        }).then( output =&amp;gt; {\n                            expect( output ).to.be.a.dataStoreEntity( adapter, {\n                                bar: 2,\n                            });\n                        }),\n                        adapter.findOne( TABLE, {\n                            foo: {\n                                &amp;#39;!=&amp;#39;: 1, \n                            }, \n                        }).then( output =&amp;gt; {\n                            expect( output ).to.be.undefined;\n                        }),\n                        adapter.findOne( TABLE, {\n                            foo: {\n                                &amp;#39;!=&amp;#39;: 2, \n                            }, \n                        }).then( output =&amp;gt; {\n                            expect( output ).to.be.a.dataStoreEntity( adapter, {\n                                foo: 1,\n                            });\n                        }),\n                    ]);\n                });\n                it( `${ style.bold( &amp;#39;&amp;lt;&amp;#39; ) } ($less) operator`, () =&amp;gt; {\n                    return adapter.findMany( TABLE, {\n                        bar: {\n                            &amp;#39;&amp;lt;&amp;#39;: 2, \n                        }, \n                    }).then( outputs =&amp;gt; {\n                        expect( outputs ).to.be.a.set.of.dataStoreEntity( adapter, [{\n                            bar: 1,\n                        }]).that.have.lengthOf( 1 );\n                    });\n                });\n                it( `${ style.bold( &amp;#39;&amp;lt;=&amp;#39; ) } ($lessEqual) operator`, () =&amp;gt; {\n                    return adapter.findMany( TABLE, {\n                        bar: {\n                            &amp;#39;&amp;lt;=&amp;#39;: 2, \n                        }, \n                    }).then( outputs =&amp;gt; {\n                        expect( outputs ).to.be.a.set.of.dataStoreEntity( adapter, [{\n                            bar: 1,\n                        }, {\n                            bar: 2,\n                        }]).that.have.lengthOf( 2 );\n                    });\n                });\n                it( `${ style.bold( &amp;#39;&amp;gt;&amp;#39; ) } ($greater) operator`, () =&amp;gt; {\n                    return adapter.findMany( TABLE, {\n                        bar: {\n                            &amp;#39;&amp;gt;&amp;#39;: 2, \n                        }, \n                    }).then( outputs =&amp;gt; {\n                        expect( outputs ).to.be.a.set.of.dataStoreEntity( adapter, [{\n                            bar: 3,\n                        }]).that.have.lengthOf( 1 );\n                    });\n                });\n                it( `${ style.bold( &amp;#39;&amp;gt;=&amp;#39; ) } ($greaterEqual) operator`, () =&amp;gt; {\n                    return adapter.findMany( TABLE, {\n                        bar: {\n                            &amp;#39;&amp;gt;=&amp;#39;: 2, \n                        }, \n                    }).then( outputs =&amp;gt; {\n                        expect( outputs ).to.be.a.set.of.dataStoreEntity( adapter, [{\n                            bar: 2,\n                        }, {\n                            bar: 3,\n                        }]).that.have.lengthOf( 2 );\n                    });\n                });\n            });\n        });\n    },\n    checkApplications: ( adapterLabel, addName = &amp;#39;&amp;#39; ) =&amp;gt; {\n        if ( &amp;#39;undefined&amp;#39; !== typeof window ) {\n            return;\n        }\n        const adapter = dataSources[getDataSourceLabel( adapterLabel, addName )];\n        require( &amp;#39;../testApps/adapters/index&amp;#39; )( adapter );\n    },\n    checkRegisterAdapter: ( adapterLabel, dataSourceName, addName = &amp;#39;&amp;#39; ) =&amp;gt; {\n        it( style.white( `Register named ${ adapterLabel } dataSource` ), () =&amp;gt; {\n            const namespace = TABLE;\n            Diaspora.registerDataSource( namespace, dataSourceName, dataSources[getDataSourceLabel( adapterLabel, addName )]);\n\n&amp;#182;console.log(Diaspora.dataSources);            expect( Diaspora.dataSources[namespace][dataSourceName]).to.eql( dataSources[getDataSourceLabel( adapterLabel, addName )]);\n        });\n    },\n};\n\nif ( &amp;#39;undefined&amp;#39; !== typeof define ) {\n    define( AdapterTestUtils );\n} else {\n    module.exports = AdapterTestUtils;\n}\n\n"
			   });
	  
	  
	  data = data.map(function(pageInfos){
		  pageInfos.normalizedTitle = pageInfos.title.replace( /\s\s+/g, ' ' ).toLowerCase();
		  pageInfos.trimedContent = pageInfos.content.replace( /\s\s+/g, ' ' );
		  pageInfos.normalizedContent = pageInfos.trimedContent.toLowerCase();
		  return pageInfos;
	  });
	   /**
	  * @see https://stackoverflow.com/questions/901115/how-can-i-get-query-string-values-in-javascript
	  */
	   function getParameterByName(name, url) {
		   if (!url) url = window.location.href;
		   name = name.replace(/[\[\]]/g, "\\$&");
		   var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
			   results = regex.exec(url);
		   if (!results) return null;
		   if (!results[2]) return '';
		   return decodeURIComponent(results[2].replace(/\+/g, " "));
	   }
	   var search = getParameterByName('q', window.location.search).replace( /\s\s+/g, ' ' );
	   $('#search-input').val(search);
	   var quoted = (search.match(/".*?"/g) || []);
	   quoted.forEach(function(quote){
		   search = search.replace(quoted, '');
	   });
	   var searches = quoted.map(function(quote){
		   return quote.slice(1).slice(0,-1);
	   }).concat(search.split(/\s/)).filter(function(item){
		   return !!item;
	   }).map(function(search){
		   return search.toLowerCase();
	   });
	   var scores = data.map(function(page){
		   var score = 0;
		   searches.map(function(search){
			   var urlRegex = new RegExp(search.replace(/\s/g, '-'), 'gi');
			   score += (page.normalizedTitle.split(search).length - 1) * 5;
			   score += ((page.url.match(urlRegex) || []).length) * 4;
			   score += Math.min(page.normalizedContent.split(search).length - 1, 10) * 1;
		   });
		   return {
			   page: page,
			   score: score
		   };
	   });
	   scores = scores.filter(function(pageScore){
		   return pageScore.score > 0;
	   }).sort(function(a, b){
		   return b.score - a.score;
	   });
	   var $resultArea = $('#searchResults');

	   function encodeHtml(text){
		   return $('<textarea />').text(text).html();
	   }
	   function decodeHtml(text){
		   return $('<textarea />').html(text).text();
	   }
	   scores.forEach(function(score){
		   var fullHtml = $($.parseHTML(decodeHtml(score.page.html)));
		   console.log(fullHtml);
		   var htmlcontent = fullHtml.find('#main > section > article');
		   console.log(htmlcontent);
		   if(htmlcontent.length === 0){
			   htmlcontent = fullHtml.filter(function(index, item){
				   console.log(item);
				   return !item.tagName || !item.tagName.match(/^h\d/i);
			   });
		   }
		   $resultArea.append($.parseHTML('<div><h4>'+score.page.title + '</h4><div>' + encodeHtml(htmlcontent.text().replace( /\s\s+/g, ' ' ).slice(0, 500)) + '&hellip;</div><a class="btn" href="' + score.page.url + '">Go to this page</a></div><hr/>'));
	   });
</script>
				</section>
				
			</div>

			<footer>
				<p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
				<p><small>Page built the 02 of Oct 2017 at 00:39</small></p>
			</footer>
		</div>
		<!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
<script type="text/javascript">
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
		(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
		m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
							})(window,document,'script','//www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-61219056-7', 'auto');
	ga('send', 'pageview');
</script>


<script type="text/javascript">
	window.heap=window.heap||[],heap.load=function(e,t){window.heap.appid=e,window.heap.config=t=t||{};var r=t.forceSSL||"https:"===document.location.protocol,a=document.createElement("script");a.type="text/javascript",a.async=!0,a.src=(r?"https:":"http:")+"//cdn.heapanalytics.com/js/heap-"+e+".js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(a,n);for(var o=function(e){return function(){heap.push([e].concat(Array.prototype.slice.call(arguments,0)))}},p=["addEventProperties","addUserProperties","clearEventProperties","identify","removeEventProperty","setEventProperties","track","unsetEventProperty"],c=0;c<p.length;c++)heap[p[c]]=o(p[c])};
	heap.load("3159885702");
</script>

		<script>
			/**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */

			var disqus_config = function () {
				this.page.url = "https://diaspora.ithoughts.io/search.html";  // Replace PAGE_URL with your page's canonical URL variable
				this.page.identifier = "Search results"; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
			};
			(function() {  // DON'T EDIT BELOW THIS LINE
				var d = document, s = d.createElement('script');

				s.src = 'https://diaspora-orm.disqus.com/embed.js';

				s.setAttribute('data-timestamp', +new Date());
				(d.head || d.body).appendChild(s);
			})();
		</script>
		<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
	</body>
</html>
