!function(e,n,t){function r(e){function n(n){var t;return 0===n?"":(n=n||1,t=e.substring(o+1,o+n+1),""===t?d:t)}var r,a,u,o=0,l=1,s=1,d=t;return e=e.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),r=e.length,a=r>0?e.charAt(0):d,{toString:function(){return"length: "+r+", index: "+o+", line: "+l+", column: "+s+", current: ["+a+"]"},peek:function(e){return n(e)},substring:function(){return e.substring(o)},peekSubstring:function(){return e.substring(o+1)},read:function(e){var t,g,c=n(e);return""===c?c:(c!==d?(o+=c.length,s+=c.length,u&&(l++,s=1,u=!1),t=c.substring(0,c.length-1).replace(/[^\n]/g,"").length,t>0&&(l+=t,s=1),g=i(c),"\n"===g&&(u=!0),a=g):(o=r,a=d),c)},text:function(){return e},getLine:function(){return l},getColumn:function(){return s},isEof:function(){return o>=r},isSol:function(){return 1===s},isSolWs:function(){var n,t=o;if(1===s)return!0;for(;""!==(n=e.charAt(--t));){if("\n"===n)return!0;if(!/\s/.test(n))return!1}return!0},isEol:function(){return u},EOF:d,current:function(){return a}}}function a(e){function n(){}return n.prototype=e,new n}function u(e,n){var t;for(t=0;t<n.length;t++)e.appendChild(n[t])}function i(e){return e.charAt?e.charAt(e.length-1):e[e.length-1]}function o(e,n,t){var r;if(e.indexOf&&!t)return e.indexOf(n)>=0;for(r=0;r<e.length;r++){if(e[r]===n)return!0;if(t&&"string"==typeof e[r]&&"string"==typeof n&&e[r].toUpperCase()===n.toUpperCase())return!0}return!1}function l(e,n){var t;if(!n)return e;for(t in n)e[t]=n[t];return e}function s(e){return l({},e)}function d(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function g(e,n,r,a){return r=r.slice(0),function(u){var i,l,s,d=e;for(1===n&&r.reverse(),i=0;i<r.length;i++)if(s=u[d+i*n],l=r[r.length-1-i],s===t){if(l.optional===t||!l.optional)return!1;d-=n}else{if(s.name===l.token&&(l.values===t||o(l.values,s.value,a)))continue;if(l.optional===t||!l.optional)return!1;d-=n}return!0}}function c(e,n,r,a){return function(u){for(var i,l=e,s=!1;(i=u[--l])!==t;){if(i.name===r.token&&o(r.values,i.value)){if(i.name===n.token&&o(n.values,i.value,a)){s=!0;break}return!1}if(i.name===n.token&&o(n.values,i.value,a)){s=!0;break}}if(!s)return!1;for(l=e;(i=u[++l])!==t;){if(i.name===n.token&&o(n.values,i.value,a)){if(i.name===r.token&&o(r.values,i.value,a)){s=!0;break}return!1}if(i.name===r.token&&o(r.values,i.value,a)){s=!0;break}}return s}}function f(e,n,t,r){var a,u,i,o=e.reader.current(),l=e.reader.getLine(),s=e.reader.getColumn();if(n=n||[],e.language.caseInsensitive&&(o=o.toUpperCase()),!n[o])return null;for(n=n[o],a=0;a<n.length;a++)if(u=n[a].value,i=o+e.reader.peek(u.length),u===i||n[a].regex.test(i))return e.createToken(t,e.reader.current()+e.reader[r?"peek":"read"](u.length-1),l,s);return null}function h(e,n,r,a){var u,i=1;for(r=r||1;u=e[n+r*i++];)if(!a(u))return u;return t}function p(e,n,t){var r,a,u,i={};for(r=0;r<e.length;r++)a=t?e[r].toUpperCase():e[r],u=a.charAt(0),i[u]||(i[u]=[]),i[u].push({value:a,regex:new RegExp("^"+d(a)+n,t?"i":"")});return i}function m(e){var n,t,r=e.reader.current(),a=e.reader.getLine(),u=e.reader.getColumn(),i=!0;if(/\d/.test(r))n=r,"0"===r&&"."!==e.reader.peek()&&(i=!1);else{if("."!==r||!/\d/.test(e.reader.peek()))return null;n=r+e.reader.read(),i=!1}for(;(t=e.reader.peek())!==e.reader.EOF;){if(!/[A-Za-z0-9]/.test(t)){if("."===t&&i&&/\d$/.test(e.reader.peek(2))){n+=e.reader.read(),i=!1;continue}break}n+=e.reader.read()}return e.createToken("number",n,a,u)}function v(e,n,t){var r,a=P[e]||[];for(r=0;r<a.length;r++)a[r].call(n,t)}function k(e){this.options=l(s(S),e)}var x,b,N=!1,C=N?"\r":"\n",y=function(){return null},T=0,w="plaintext",L="sunlight-",S={tabWidth:4,classPrefix:L,showWhitespace:!1,maxHeight:!1},A={},I={},P={beforeHighlightNode:[],beforeHighlight:[],beforeTokenize:[],afterTokenize:[],beforeAnalyze:[],afterAnalyze:[],afterHighlight:[],afterHighlightNode:[]};x=function(){function e(e){return function(t){var r=n.createElement("span");return r.className=t.options.classPrefix+e,r.appendChild(t.createTextNode(t.tokens[t.index])),t.addNode(r)||!0}}return{handleToken:function(n){return e(n.tokens[n.index].name)(n)},handle_default:function(e){return e.addNode(e.createTextNode(e.tokens[e.index]))},handle_ident:function(n){var t=function(t,r){var a;for(t=t||[],a=0;a<t.length;a++)if("function"==typeof t[a]){if(t[a](n))return e("named-ident")(n)}else if(r&&r(t[a])(n.tokens))return e("named-ident")(n);return!1};return t(n.language.namedIdentRules.custom)||t(n.language.namedIdentRules.follows,function(e){return g(n.index-1,-1,e,n.language.caseInsensitive)})||t(n.language.namedIdentRules.precedes,function(e){return g(n.index+1,1,e,n.language.caseInsensitive)})||t(n.language.namedIdentRules.between,function(e){return c(n.index,e.opener,e.closer,n.language.caseInsensitive)})||e("ident")(n)}}}(),I={analyzer:a(x),customTokens:[],namedIdentRules:{},punctuation:/[^\w\s]/,numberParser:m,caseInsensitive:!1,doNotParse:/\s/,contextItems:{},embeddedLanguages:{}},b=function(){var e=null;return e=n.defaultView&&n.defaultView.getComputedStyle?n.defaultView.getComputedStyle:function(e){return e.currentStyle||{}},function(n,t){return e(n,null)[t]}}(),k.prototype=function(){function e(e,n){var t=e[2]||[],r=e[1].length,a="string"==typeof e[1]?new RegExp(d(e[1])):e[1].regex,u=e[3]||!1;return function(e,i,o,l,s,d){function g(n){var u,i,l=e.reader.current();for(i=0;i<t.length;i++)if((u=(n?l:"")+e.reader.peek(t[i].length-n))===t[i])return o+=e.reader.read(u.length-n),!0;return u=(n?l:"")+e.reader.peek(r-n),a.test(u)?(c=!0,!1):(o+=n?l:e.reader.read(),!0)}var c=!1;if(o=o||"",!(d=d?1:0)||g(!0))for(;e.reader.peek()!==e.reader.EOF&&g(!1););return d?(o+=e.reader.current(),e.reader.read()):o+=u||e.reader.peek()===e.reader.EOF?"":e.reader.read(r),c||(e.continuation=i),e.createToken(n,o,l,s)}}function a(e){var n,t;for(n=0;n<e.language.embeddedLanguages.length;n++)if(A[e.language.embeddedLanguages[n].language]&&(t=s(e.language.embeddedLanguages[n]),t.switchTo(e))){t.oldItems=s(e.items),e.embeddedLanguageStack.push(t),e.language=A[t.language],e.items=l(e.items,s(e.language.contextItems));break}}function o(e){var n,t=i(e.embeddedLanguageStack);t&&t.switchBack(e)&&(e.language=A[t.parentLanguage],n=e.embeddedLanguageStack.pop(),e.items=s(n.oldItems),n.oldItems={})}function g(e,n,u,i){var l,d,g,c=[];for(v("beforeTokenize",this,{code:e,language:n}),l={reader:r(e),language:n,items:s(n.contextItems),token:function(e){return c[e]},getAllTokens:function(){return c.slice(0)},count:function(){return c.length},options:i,embeddedLanguageStack:[],defaultData:{text:"",line:1,column:1},createToken:function(e,n,t,r){return{name:e,line:t,value:N?n.replace(/\n/g,"\r"):n,column:r,language:this.language.name}}},u.continuation&&(d=u.continuation,u.continuation=null,c.push(d(l,d,"",l.reader.getLine(),l.reader.getColumn(),!0)));!l.reader.isEof();)a(l),g=k(l),null!==g&&(""!==l.defaultData.text&&(c.push(l.createToken("default",l.defaultData.text,l.defaultData.line,l.defaultData.column)),l.defaultData.text=""),g[0]!==t?c=c.concat(g):c.push(g)),o(l),l.reader.read();return""!==l.defaultData.text&&c.push(l.createToken("default",l.defaultData.text,l.defaultData.line,l.defaultData.column)),v("afterTokenize",this,{code:e,parserContext:l}),l}function c(e,t,r){var a=[],u=function(){var e,n;return r.showWhitespace?(e=String.fromCharCode(183),n=new Array(r.tabWidth).join(String.fromCharCode(8212))+String.fromCharCode(8594)):(e=String.fromCharCode(160),n=new Array(r.tabWidth+1).join(e)),function(t){for(var a,u,i,o,l=t.value.split(" ").join(e);(a=l.indexOf("\t"))>=0;)u=l.lastIndexOf(C,a),i=-1===u?a:a-u-1,o=r.tabWidth-i%r.tabWidth,l=l.substring(0,a)+n.substring(r.tabWidth-o)+l.substring(a+1);return l}}();return{tokens:(t.tokens||[]).concat(e.getAllTokens()),index:t.index?t.index+1:0,language:null,getAnalyzer:y,options:r,continuation:e.continuation,addNode:function(e){a.push(e)},createTextNode:function(e){return n.createTextNode(u(e))},getNodes:function(){return a},resetNodes:function(){a=[]},items:e.items}}function h(e,n,r){var a,u=A[n];return r=r||{},u===t&&(u=A[w]),v("beforeHighlight",this,{code:e,language:u,previousContext:r}),a=c(g.call(this,e,u,r,this.options),r,this.options),m.call(this,a,r.index?r.index+1:0),v("afterHighlight",this,{analyzerContext:a}),a}function p(e){var t=n.createElement("span");return t.className=e.options.classPrefix+e.language.name,t}function m(e,n){var t,r,a,i,o,l,s;if(v("beforeAnalyze",this,{analyzerContext:e}),e.tokens.length>0){for(e.language=A[e.tokens[0].language]||A[w],t=[],0,r=p(e),a=n;a<e.tokens.length;a++)l=A[e.tokens[a].language]||A[w],l.name!==e.language.name&&(u(r,e.getNodes()),e.resetNodes(),t.push(r),e.language=l,r=p(e)),e.index=a,i=e.tokens[a].name,o="handle_"+i,s=e.getAnalyzer.call(e)||e.language.analyzer,s[o]?s[o](e):s.handleToken(e);for(u(r,e.getNodes()),t.push(r),e.resetNodes(),a=0;a<t.length;a++)e.addNode(t[a])}v("afterAnalyze",this,{analyzerContext:e})}var k=function(){function n(e){return e.language.identFirstLetter&&e.language.identFirstLetter.test(e.reader.current())}function r(e){return f(e,e.language.keywords,"keyword")}function a(e){var n,r;if(e.language.customTokens===t)return null;for(n in e.language.customTokens)if(null!==(r=f(e,e.language.customTokens[n],n)))return r;return null}function u(e){return f(e,e.language.operators,"operator")}function i(e){var n=e.reader.current();return e.language.punctuation.test(d(n))?e.createToken("punctuation",n,e.reader.getLine(),e.reader.getColumn()):null}function o(e){var t,r,a=e.reader.getLine(),u=e.reader.getColumn();if(!n(e))return null;for(t=e.reader.current();(r=e.reader.peek())!==e.reader.EOF&&e.language.identAfterFirstLetter.test(r);)t+=e.reader.read();return e.createToken("ident",t,a,u)}function l(e){return""===e.defaultData.text&&(e.defaultData.line=e.reader.getLine(),e.defaultData.column=e.reader.getColumn()),e.defaultData.text+=e.reader.current(),null}function s(n){var t,r,a,u,i,o,l,s,d=n.reader.current();for(t in n.language.scopes)for(r=n.language.scopes[t],a=0;a<r.length;a++)if(u=r[a][0],s=d+n.reader.peek(u.length-1),u===s||n.language.caseInsensitive&&s.toUpperCase()===u.toUpperCase())return i=n.reader.getLine(),o=n.reader.getColumn(),n.reader.read(u.length-1),(l=e(r[a],t))(n,l,s,i,o);return null}function g(e){return e.language.numberParser(e)}function c(e){var n,r,a=e.language.customParseRules;if(a===t)return null;for(n=0;n<a.length;n++)if(r=a[n](e))return r;return null}return function(e){return e.language.doNotParse.test(e.reader.current())?l(e):c(e)||a(e)||r(e)||s(e)||o(e)||g(e)||u(e)||i(e)||l(e)}}();return{matchSunlightNode:function(){var e;return function(n){return e||(e=new RegExp("(?:\\s|^)"+this.options.classPrefix+"highlight-(\\S+)(?:\\s|$)")),e.exec(n.className)}}(),isAlreadyHighlighted:function(){var e;return function(n){return e||(e=new RegExp("(?:\\s|^)"+this.options.classPrefix+"highlighted(?:\\s|$)")),e.test(n.className)}}(),highlight:function(e,n){return h.call(this,e,n)},highlightNode:function e(t){var r,a,u,i,o,l,s,d,g;if(!this.isAlreadyHighlighted(t)&&null!==(r=this.matchSunlightNode(t))){for(a=r[1],u=0,v("beforeHighlightNode",this,{node:t}),i=0;i<t.childNodes.length;i++)if(3===t.childNodes[i].nodeType)for(s=h.call(this,t.childNodes[i].nodeValue,a,s),T++,u=u||T,o=s.getNodes(),t.replaceChild(o[0],t.childNodes[i]),l=1;l<o.length;l++)t.insertBefore(o[l],o[l-1].nextSibling);else 1===t.childNodes[i].nodeType&&e.call(this,t.childNodes[i]);t.className+=" "+this.options.classPrefix+"highlighted","block"===b(t,"display")&&(d=n.createElement("div"),d.className=this.options.classPrefix+"container",g=n.createElement("div"),g.className=this.options.classPrefix+"code-container",!1!==this.options.maxHeight&&(g.style.overflowY="auto",g.style.maxHeight=this.options.maxHeight+(/^\d+$/.test(this.options.maxHeight)?"px":"")),d.appendChild(g),t.parentNode.insertBefore(g,t),t.parentNode.removeChild(t),g.appendChild(t),g.parentNode.insertBefore(d,g),g.parentNode.removeChild(g),d.appendChild(g)),v("afterHighlightNode",this,{container:d,codeContainer:g,node:t,count:u})}}}}(),e.Sunlight={version:"1.18",Highlighter:k,createAnalyzer:function(){return a(x)},globalOptions:S,highlightAll:function(e){var t,r=new k(e),a=n.getElementsByTagName("*");for(t=0;t<a.length;t++)r.highlightNode(a[t])},registerLanguage:function(e,n){var t,r,a;if(!e)throw'Languages must be registered with an identifier, e.g. "php" for PHP';n=l(l({},I),n),n.name=e,n.keywords=p(n.keywords||[],"\\b",n.caseInsensitive),n.operators=p(n.operators||[],"",n.caseInsensitive);for(t in n.customTokens)n.customTokens[t]=p(n.customTokens[t].values,n.customTokens[t].boundary,n.caseInsensitive);r=[];for(a in n.embeddedLanguages)r.push({parentLanguage:n.name,language:a,switchTo:n.embeddedLanguages[a].switchTo,switchBack:n.embeddedLanguages[a].switchBack});n.embeddedLanguages=r,A[n.name]=n},isRegistered:function(e){return A[e]!==t},bind:function(e,n){if(!P[e])throw'Unknown event "'+e+'"';P[e].push(n)},util:{last:i,regexEscape:d,eol:C,clone:s,escapeSequences:["\\n","\\t","\\r","\\\\","\\v","\\f"],contains:o,matchWord:f,createHashMap:p,createBetweenRule:c,createProceduralRule:g,getNextNonWsToken:function(e,n){return h(e,n,1,function(e){return"default"===e.name})},getPreviousNonWsToken:function(e,n){return h(e,n,-1,function(e){return"default"===e.name})},getNextWhile:function(e,n,t){return h(e,n,1,t)},getPreviousWhile:function(e,n,t){return h(e,n,-1,t)},whitespace:{token:"default",optional:!0},getComputedStyle:b}},e.Sunlight.registerLanguage(w,{punctuation:/(?!x)x/,numberParser:y})}(this,document);